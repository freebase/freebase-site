#summary Describe the Freebase-Site Manifest System

= Introduction =

Acre allows you to version apps and libraries.

The Freebase-Site Manifest System (Manifest) was built to manage an Acre app's external dependencies by using a single MANIFEST file.

Manifest provides utilities for referring to these dependencies without the need to change code when dependencies change.

Manifest provides dynamic client-side Javascript and CSS concatenation allowing you to modularize your code across multiple files but retrieve them with a single http request. 

Manifest supports [http://lesscss.org/ less CSS].

= Syntax =
*MANIFEST.sjs*
{{{
var mf = {
  "apps": {
    "core": "//release.core.site.freebase.dev",
    "lib": "//2.mylib.foo.bar.dev"
  },
  "javascript": {
    "base.mf.js": [
      ["lib", "lib.mf.js"],
      "base.js"
    ],
    "mypage.mf.js": [
      "base.mf.js",
      "mypage.js"
    ]
  },
  "stylesheet": {
    "base.mf.css": [
      ["lib", "lib.mf.css"],
      "base.less"
    ],
    "mypage.mf.css": [
      "base.mf.css",
      "mypage.css"
    ]
  }
};
acre.require(mf.apps.core + "/MANIFEST").init(mf, this);
}}}

*mypage.mjt*
{{{
<acre:script>
  var mf = acre.require("MANIFEST").mf;
  var lib_helpers = mf.require("lib", "helpers");
</acre:script>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="${mf.css_src('mypage.mf.css')}"/>
    <script src="${mf.js_src('mypage.mf.js')}"></script>
  </head>
  <body>
    ...
  </body>
</html>
}}}

