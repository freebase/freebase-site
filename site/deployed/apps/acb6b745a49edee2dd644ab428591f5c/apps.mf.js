/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
jQuery.cookie=function(b,e,a){if(typeof e!="undefined"){a=a||{};if(e===null){e="";a=$.extend({},a);a.expires=-1}var d="";if(a.expires&&(typeof a.expires=="number"||a.expires.toUTCString)){if(typeof a.expires=="number"){d=new Date;d.setTime(d.getTime()+a.expires*24*60*60*1E3)}else d=a.expires;d="; expires="+d.toUTCString()}var g=a.path?"; path="+a.path:"",c=a.domain?"; domain="+a.domain:"";a=a.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(e),d,g,c,a].join("")}else{e=null;if(document.cookie&&
document.cookie!=""){a=document.cookie.split(";");for(d=0;d<a.length;d++){g=jQuery.trim(a[d]);if(g.substring(0,b.length+1)==b+"="){e=decodeURIComponent(g.substring(b.length+1));break}}}return e}};
new (function(b){b.fn.placeholder=function(e){e=e||{};var a=e.dataKey||"placeholderValue",d=e.attr||"placeholder",g=e.className||"placeholder",c=e.values||[],f=e.blockSubmit||false,j=e.blankSubmit||false,k=e.onSubmit||false,m=e.value||"",x=e.cursor_position||0;return this.filter(":input").each(function(w){b.data(this,a,c[w]||b(this).attr(d))}).each(function(){b.trim(b(this).val())===""&&b(this).addClass(g).val(b.data(this,a))}).focus(function(){b.trim(b(this).val())===b.data(this,a)&&b(this).removeClass(g).val(m);
b.fn.setCursorPosition&&b(this).setCursorPosition(x)}).blur(function(){b.trim(b(this).val())===m&&b(this).addClass(g).val(b.data(this,a))}).each(function(w,q){if(f)new (function(n){b(n.form).submit(function(){return b.trim(b(n).val())!=b.data(n,a)})})(q);else if(j)new (function(n){b(n.form).submit(function(){b.trim(b(n).val())==b.data(n,a)&&b(n).removeClass(g).val("");return true})})(q);else k&&new (function(n){b(n.form).submit(k)})(q)})}})(jQuery);
(function(b){b.ui=b.ui||{};if(!b.ui.version){b.extend(b.ui,{version:"1.8.2",plugin:{add:function(e,a,d){e=b.ui[e].prototype;for(var g in d){e.plugins[g]=e.plugins[g]||[];e.plugins[g].push([a,d[g]])}},call:function(e,a,d){if((a=e.plugins[a])&&e.element[0].parentNode)for(var g=0;g<a.length;g++)e.options[a[g][0]]&&a[g][1].apply(e.element,d)}},contains:function(e,a){return document.compareDocumentPosition?e.compareDocumentPosition(a)&16:e!==a&&e.contains(a)},hasScroll:function(e,a){if(b(e).css("overflow")==
"hidden")return false;var d=a&&a=="left"?"scrollLeft":"scrollTop",g=false;if(e[d]>0)return true;e[d]=1;g=e[d]>0;e[d]=0;return g},isOverAxis:function(e,a,d){return e>a&&e<a+d},isOver:function(e,a,d,g,c,f){return b.ui.isOverAxis(e,d,c)&&b.ui.isOverAxis(a,g,f)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});b.fn.extend({_focus:b.fn.focus,focus:function(e,a){return typeof e==="number"?this.each(function(){var d=this;setTimeout(function(){b(d).focus();a&&a.call(d)},e)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect",
"none")},scrollParent:function(){var e;e=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",
1))}).eq(0);return/fixed/.test(this.css("position"))||!e.length?b(document):e},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length){e=b(this[0]);for(var a;e.length&&e[0]!==document;){a=e.css("position");if(a=="absolute"||a=="relative"||a=="fixed"){a=parseInt(e.css("zIndex"));if(!isNaN(a)&&a!=0)return a}e=e.parent()}}return 0}});b.extend(b.expr[":"],{data:function(e,a,d){return!!b.data(e,d[3])},focusable:function(e){var a=e.nodeName.toLowerCase(),d=b.attr(e,"tabindex");return(/input|select|textarea|button|object/.test(a)?
!e.disabled:"a"==a||"area"==a?e.href||!isNaN(d):!isNaN(d))&&!b(e)["area"==a?"parents":"closest"](":hidden").length},tabbable:function(e){var a=b.attr(e,"tabindex");return(isNaN(a)||a>=0)&&b(e).is(":focusable")}})}})(jQuery);
(function(b){var e=b.fn.remove;b.fn.remove=function(a,d){return this.each(function(){if(!d)if(!a||b.filter(a,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return e.call(b(this),a,d)})};b.widget=function(a,d,g){var c=a.split(".")[0],f;a=a.split(".")[1];f=c+"-"+a;if(!g){g=d;d=b.Widget}b.expr[":"][f]=function(j){return!!b.data(j,a)};b[c]=b[c]||{};b[c][a]=function(j,k){arguments.length&&this._createWidget(j,k)};d=new d;d.options=b.extend({},d.options);b[c][a].prototype=
b.extend(true,d,{namespace:c,widgetName:a,widgetEventPrefix:b[c][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},g);b.widget.bridge(a,b[c][a])};b.widget.bridge=function(a,d){b.fn[a]=function(g){var c=typeof g==="string",f=Array.prototype.slice.call(arguments,1),j=this;g=!c&&f.length?b.extend.apply(null,[true,g].concat(f)):g;if(c&&g.substring(0,1)==="_")return j;c?this.each(function(){var k=b.data(this,a),m=k&&b.isFunction(k[g])?k[g].apply(k,f):k;if(m!==k&&m!==undefined){j=m;return false}}):this.each(function(){var k=
b.data(this,a);if(k){g&&k.option(g);k._init()}else b.data(this,a,new d(g,this))});return j}};b.Widget=function(a,d){arguments.length&&this._createWidget(a,d)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,d){this.element=b(d).data(this.widgetName,this);this.options=b.extend(true,{},this.options,b.metadata&&b.metadata.get(d)[this.widgetName],a);var g=this;this.element.bind("remove."+this.widgetName,function(){g.destroy()});this._create();
this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,d){var g=a,c=this;if(arguments.length===0)return b.extend({},c.options);if(typeof a==="string"){if(d===undefined)return this.options[a];g={};g[a]=d}b.each(g,function(f,
j){c._setOption(f,j)});return c},_setOption:function(a,d){this.options[a]=d;if(a==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,d,g){var c=this.options[a];d=b.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();g=g||{};if(d.originalEvent){a=
b.event.props.length;for(var f;a;){f=b.event.props[--a];d[f]=d.originalEvent[f]}}this.element.trigger(d,g);return!(b.isFunction(c)&&c.call(this.element[0],d,g)===false||d.isDefaultPrevented())}}})(jQuery);
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(a){if(e._preventClickEvent){e._preventClickEvent=false;a.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){e.originalEvent=e.originalEvent||{};if(!e.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(e);this._mouseDownEvent=e;var a=this,d=e.which==1,g=typeof this.options.cancel=="string"?b(e.target).parents().add(e.target).filter(this.options.cancel).length:false;if(!d||g||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();
return true}}this._mouseMoveDelegate=function(c){return a._mouseMove(c)};this._mouseUpDelegate=function(c){return a._mouseUp(c)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||e.preventDefault();return e.originalEvent.mouseHandled=true}},_mouseMove:function(e){if(b.browser.msie&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&
this._mouseDelayMet(e))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false)?this._mouseDrag(e):this._mouseUp(e);return!this._mouseStarted},_mouseUp:function(e){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=e.target==this._mouseDownEvent.target;this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-
e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(b){b.ui=b.ui||{};var e=/left|center|right/,a=/top|center|bottom/,d=b.fn.position,g=b.fn.offset;b.fn.position=function(c){if(!c||!c.of)return d.apply(this,arguments);c=b.extend({},c);var f=b(c.of),j=(c.collision||"flip").split(" "),k=c.offset?c.offset.split(" "):[0,0],m,x,w;if(c.of.nodeType===9){m=f.width();x=f.height();w={top:0,left:0}}else if(c.of.scrollTo&&c.of.document){m=f.width();x=f.height();w={top:f.scrollTop(),left:f.scrollLeft()}}else if(c.of.preventDefault){c.at="left top";m=x=
0;w={top:c.of.pageY,left:c.of.pageX}}else{m=f.outerWidth();x=f.outerHeight();w=f.offset()}b.each(["my","at"],function(){var q=(c[this]||"").split(" ");if(q.length===1)q=e.test(q[0])?q.concat(["center"]):a.test(q[0])?["center"].concat(q):["center","center"];q[0]=e.test(q[0])?q[0]:"center";q[1]=a.test(q[1])?q[1]:"center";c[this]=q});if(j.length===1)j[1]=j[0];k[0]=parseInt(k[0],10)||0;if(k.length===1)k[1]=k[0];k[1]=parseInt(k[1],10)||0;if(c.at[0]==="right")w.left+=m;else if(c.at[0]==="center")w.left+=
m/2;if(c.at[1]==="bottom")w.top+=x;else if(c.at[1]==="center")w.top+=x/2;w.left+=k[0];w.top+=k[1];return this.each(function(){var q=b(this),n=q.outerWidth(),y=q.outerHeight(),z=b.extend({},w);if(c.my[0]==="right")z.left-=n;else if(c.my[0]==="center")z.left-=n/2;if(c.my[1]==="bottom")z.top-=y;else if(c.my[1]==="center")z.top-=y/2;z.left=parseInt(z.left);z.top=parseInt(z.top);b.each(["left","top"],function(B,C){b.ui.position[j[B]]&&b.ui.position[j[B]][C](z,{targetWidth:m,targetHeight:x,elemWidth:n,
elemHeight:y,offset:k,my:c.my,at:c.at})});b.fn.bgiframe&&q.bgiframe();q.offset(b.extend(z,{using:c.using}))})};b.ui.position={fit:{left:function(c,f){var j=b(window);j=c.left+f.elemWidth-j.width()-j.scrollLeft();c.left=j>0?c.left-j:Math.max(0,c.left)},top:function(c,f){var j=b(window);j=c.top+f.elemHeight-j.height()-j.scrollTop();c.top=j>0?c.top-j:Math.max(0,c.top)}},flip:{left:function(c,f){if(f.at[0]!=="center"){var j=b(window);j=c.left+f.elemWidth-j.width()-j.scrollLeft();var k=f.my[0]==="left"?
-f.elemWidth:f.my[0]==="right"?f.elemWidth:0,m=-2*f.offset[0];c.left+=c.left<0?k+f.targetWidth+m:j>0?k-f.targetWidth+m:0}},top:function(c,f){if(f.at[1]!=="center"){var j=b(window);j=c.top+f.elemHeight-j.height()-j.scrollTop();var k=f.my[1]==="top"?-f.elemHeight:f.my[1]==="bottom"?f.elemHeight:0,m=f.at[1]==="top"?f.targetHeight:-f.targetHeight,x=-2*f.offset[1];c.top+=c.top<0?k+f.targetHeight+x:j>0?k+m+x:0}}}};if(!b.offset.setOffset){b.offset.setOffset=function(c,f){if(/static/.test(b.curCSS(c,"position")))c.style.position=
"relative";var j=b(c),k=j.offset(),m=parseInt(b.curCSS(c,"top",true),10)||0,x=parseInt(b.curCSS(c,"left",true),10)||0;k={top:f.top-k.top+m,left:f.left-k.left+x};"using"in f?f.using.call(c,k):j.css(k)};b.fn.offset=function(c){var f=this[0];if(!f||!f.ownerDocument)return null;if(c)return this.each(function(){b.offset.setOffset(this,c)});return g.call(this)}}})(jQuery);window.freebase=window.fb={};
(function(b,e){e.dispatch=function(a,d,g,c){if(typeof d!=="function")return false;a=b.event.fix(a||window.event);g||(g=[]);c||(c=this);return d.apply(c,[a].concat(g))}})(jQuery,window.freebase);
(function(b,e){function a(f,j){var k=f.indexOf("|"+j+"_");if(k!=-1){k=k+2+j.length;var m=f.indexOf("|",k);if(m!=-1)return decodeURIComponent(f.substr(k,m-k))}return null}var d=b.cookie("metaweb-user-info");if(d){var g=a(d,"g"),c=a(d,"u");(d=a(d,"p"))||(d="/user/"+this.name);e.user={guid:g,name:c,id:d}}if(e.user){g=b("#nav-username a:first");if(g.length){g[0].href+=e.user.id;g.text(e.user.name)}b("#signedin").show()}else b("#signedout").show()})(jQuery,window.freebase);
(function(b){b(function(){var e=b("#SearchBox .SearchBox-input,#global-search-input"),a=document.location.protocol+"//www.freebase.com";e.suggest({service_url:a,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var d=b("#site-search-label"),g=b("#site-search-box .fbs-pane");e.bind("fb-select",function(c,f){window.location=a+"/view"+f.id;return false}).bind("fb-pane-show",function(){d.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",
function(){b.trim(e.val())===""?d.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):d.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){d.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){d.is(":visible")||b("#site-search-label").slideDown("fast")}).blur(function(){!g.is(":visible")&&d.is(":visible")&&b("#site-search-label").slideUp("fast")});b(".SearchBox-form").submit(function(){return b.trim(b("#global-search-input").val()).length==
0?false:true});b("input[placeholder]").placeholder({blankSubmit:true})})})(jQuery,window.freebase);
(function(b){function e(g,c,f){var j=this,k=g.add(this),m=g.find(f.tabs),x=c.jquery?c:g.children(c),w;m.length||(m=g.children());x.length||(x=g.parent().find(c));x.length||(x=b(c));b.extend(this,{click:function(q,n){var y=m.eq(q);if(typeof q=="string"&&q.replace("#","")){y=m.filter("[href*="+q.replace("#","")+"]");q=Math.max(m.index(y),0)}if(f.rotate){var z=m.length-1;if(q<0)return j.click(z,n);if(q>z)return j.click(0,n)}if(!y.length){if(w>=0)return j;q=f.initialIndex;y=m.eq(q)}if(q===w)return j;
n=n||b.Event();n.type="onBeforeClick";k.trigger(n,[q]);if(!n.isDefaultPrevented()){a[f.effect].call(j,q,function(){n.type="onClick";k.trigger(n,[q])});w=q;m.removeClass(f.current);y.addClass(f.current);return j}},getConf:function(){return f},getTabs:function(){return m},getPanes:function(){return x},getCurrentPane:function(){return x.eq(w)},getCurrentTab:function(){return m.eq(w)},getIndex:function(){return w},next:function(){return j.click(w+1)},prev:function(){return j.click(w-1)},destroy:function(){m.unbind(f.event).removeClass(f.current);
x.find("a[href^=#]").unbind("click.T");return j}});b.each("onBeforeClick,onClick".split(","),function(q,n){b.isFunction(f[n])&&b(j).bind(n,f[n]);j[n]=function(y){b(j).bind(n,y);return j}});if(f.history&&b.fn.history){b.tools.history.init(m);f.event="history"}m.each(function(q){b(this).bind(f.event,function(n){j.click(q,n);return n.preventDefault()})});x.find("a[href^=#]").bind("click.T",function(q){j.click(b(this).attr("href"),q)});if(location.hash)j.click(location.hash);else if(f.initialIndex===
0||f.initialIndex>0)j.click(f.initialIndex)}b.tools=b.tools||{version:"@VERSION"};b.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(g,c){a[g]=c}};var a={"default":function(g,c){this.getPanes().hide().eq(g).show();c.call()},fade:function(g,c){var f=this.getConf(),j=f.fadeOutSpeed,k=this.getPanes();j?k.fadeOut(j):k.hide();k.eq(g).fadeIn(f.fadeInSpeed,c)},slide:function(g,c){this.getPanes().slideUp(200);
this.getPanes().eq(g).slideDown(400,c)},ajax:function(g,c){this.getPanes().eq(0).load(this.getTabs().eq(g).attr("href"),c)}},d;b.tools.tabs.addEffect("horizontal",function(g,c){d||(d=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){b(this).hide()});this.getPanes().eq(g).animate({width:d},function(){b(this).show();c.call()})});b.fn.tabs=function(g,c){var f=this.data("tabs");if(f){f.destroy();this.removeData("tabs")}if(b.isFunction(c))c={onBeforeClick:c};c=b.extend({},
b.tools.tabs.conf,c);this.each(function(){f=new e(b(this),g,c);b(this).data("tabs",f)});return c.api?f:this}})(jQuery);
(function(b){b.extend({tablesorter:new (function(){function a(h,l){d(h+","+((new Date).getTime()-l.getTime())+"ms")}function d(h){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(h):alert(h)}function g(h,l){if(h.config.debug)var o="";var v=h.tBodies[0].rows;if(h.tBodies[0].rows[0]){var p=[];v=v[0].cells;for(var A=v.length,r=0;r<A;r++){var s=false;if(b.metadata&&b(l[r]).metadata()&&b(l[r]).metadata().sorter)s=c(b(l[r]).metadata().sorter);else if(h.config.headers[r]&&h.config.headers[r].sorter)s=
c(h.config.headers[r].sorter);if(!s)a:{s=v[r];for(var t=B.length,u=1;u<t;u++)if(B[u].is(b.trim(j(h.config,s)),h,s)){s=B[u];break a}s=B[0]}if(h.config.debug)o+="column:"+r+" parser:"+s.id+"\n";p.push(s)}}h.config.debug&&d(o);return p}function c(h){for(var l=B.length,o=0;o<l;o++)if(B[o].id.toLowerCase()==h.toLowerCase())return B[o];return false}function f(h){if(h.config.debug)var l=new Date;for(var o=h.tBodies[0]&&h.tBodies[0].rows.length||0,v=h.tBodies[0].rows[0]&&h.tBodies[0].rows[0].cells.length||
0,p=h.config.parsers,A={row:[],normalized:[]},r=0;r<o;++r){var s=h.tBodies[0].rows[r],t=[];A.row.push(b(s));for(var u=0;u<v;++u)t.push(p[u].format(j(h.config,s.cells[u]),h,s.cells[u]));t.push(r);A.normalized.push(t)}h.config.debug&&a("Building cache for "+o+" rows:",l);return A}function j(h,l){if(!l)return"";var o="";return o=h.textExtraction=="simple"?l.childNodes[0]&&l.childNodes[0].hasChildNodes()?l.childNodes[0].innerHTML:l.innerHTML:typeof h.textExtraction=="function"?h.textExtraction(l):b(l).text()}
function k(h,l){if(h.config.debug)var o=new Date;for(var v=l.row,p=l.normalized,A=p.length,r=p[0].length-1,s=b(h.tBodies[0]),t=[],u=0;u<A;u++){t.push(v[p[u][r]]);if(!h.config.appender)for(var D=v[p[u][r]],F=D.length,E=0;E<F;E++)s[0].appendChild(D[E])}h.config.appender&&h.config.appender(h,t);t=null;h.config.debug&&a("Rebuilt table:",o);x(h);setTimeout(function(){b(h).trigger("sortEnd")},0)}function m(h){if(h.config.debug)var l=new Date;for(var o=[],v=0;v<h.tHead.rows.length;v++)o[v]=0;$tableHeaders=
b("thead th",h);$tableHeaders.each(function(p){this.count=0;this.column=p;var A=h.config.sortInitialOrder;this.order=i=typeof A!="Number"?A.toLowerCase()=="desc"?1:0:A==1?A:0;if(!(A=b.metadata&&b(this).metadata().sorter===false?true:false))A=h.config.headers[p]&&h.config.headers[p].sorter===false?true:false;if(A)this.sortDisabled=true;this.sortDisabled||b(this).addClass(h.config.cssHeader);h.config.headerList[p]=this});if(h.config.debug){a("Built headers:",l);d($tableHeaders)}return $tableHeaders}
function x(h){for(var l=h.config.widgets,o=l.length,v=0;v<o;v++)w(l[v]).format(h)}function w(h){for(var l=C.length,o=0;o<l;o++)if(C[o].id.toLowerCase()==h.toLowerCase())return C[o]}function q(h,l){for(var o=l.length,v=0;v<o;v++)if(l[v][0]==h)return true;return false}function n(h,l,o,v){l.removeClass(v[0]).removeClass(v[1]);var p=[];l.each(function(){this.sortDisabled||(p[this.column]=b(this))});h=o.length;for(l=0;l<h;l++)p[o[l][0]].addClass(v[o[l][1]])}function y(h){if(h.config.widthFixed){var l=
b("<colgroup>");b("tr:first td",h.tBodies[0]).each(function(){l.append(b("<col>").css("width",b(this).width()))});b(h).prepend(l)}}function z(h,l,o){if(h.config.debug)var v=new Date;for(var p="var sortWrapper = function(a,b) {",A=l.length,r=0;r<A;r++){var s=l[r][0],t=l[r][1],u="e"+r;p+="var "+u+" = "+(h.config.parsers[s].type=="text"?t==0?"sortText":"sortTextDesc":t==0?"sortNumeric":"sortNumericDesc")+"(a["+s+"],b["+s+"]); ";p+="if("+u+") { return "+u+"; } ";p+="else { "}r=o.normalized[0].length-
1;p+="return a["+r+"]-b["+r+"];";for(r=0;r<A;r++)p+="}; ";p+="return 0; ";p+="}; ";eval(p);o.normalized.sort(sortWrapper);h.config.debug&&a("Sorting on "+l.toString()+" and dir "+t+" time:",v);return o}var B=[],C=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,
sortList:[],headerList:[],dateFormat:"us",decimal:".",debug:false};this.benchmark=a;this.construct=function(h){return this.each(function(){if(this.tHead&&this.tBodies){var l,o,v,p;this.config={};p=b.extend(this.config,b.tablesorter.defaults,h);l=b(this);o=m(this);this.config.parsers=g(this,o);v=f(this);var A=[p.cssDesc,p.cssAsc];y(this);o.click(function(r){l.trigger("sortStart");var s=l[0].tBodies[0]&&l[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&s>0){b(this);s=this.column;this.order=this.count++%
2;if(r[p.sortMultiSortKey])if(q(s,p.sortList))for(r=0;r<p.sortList.length;r++){var t=p.sortList[r],u=p.headerList[t[0]];if(t[0]==s){u.count=t[1];u.count++;t[1]=u.count%2}}else p.sortList.push([s,this.order]);else{p.sortList=[];if(p.sortForce!=null){t=p.sortForce;for(r=0;r<t.length;r++)t[r][0]!=s&&p.sortList.push(t[r])}p.sortList.push([s,this.order])}setTimeout(function(){n(l[0],o,p.sortList,A);k(l[0],z(l[0],p.sortList,v))},1);return false}}).mousedown(function(){if(p.cancelSelection){this.onselectstart=
function(){return false};return false}});l.bind("update",function(){this.config.parsers=g(this,o);v=f(this)}).bind("sorton",function(r,s){b(this).trigger("sortStart");p.sortList=s;for(var t=p.sortList,u=this.config,D=t.length,F=0;F<D;F++){var E=t[F],G=u.headerList[E[0]];G.count=E[1];G.count++}n(this,o,t,A);k(this,z(this,t,v))}).bind("appendCache",function(){k(this,v)}).bind("applyWidgetId",function(r,s){w(s).format(this)}).bind("applyWidgets",function(){x(this)});if(b.metadata&&b(this).metadata()&&
b(this).metadata().sortlist)p.sortList=b(this).metadata().sortlist;p.sortList.length>0&&l.trigger("sorton",[p.sortList]);x(this)}})};this.addParser=function(h){for(var l=B.length,o=true,v=0;v<l;v++)if(B[v].id.toLowerCase()==h.id.toLowerCase())o=false;o&&B.push(h)};this.addWidget=function(h){C.push(h)};this.formatFloat=function(h){h=parseFloat(h);return isNaN(h)?0:h};this.formatInt=function(h){h=parseInt(h);return isNaN(h)?0:h};this.isDigit=function(h,l){var o="\\"+l.decimal;return RegExp("/(^[+]?0("+
o+"0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)"+o+"(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*"+o+"0+$)/").test(b.trim(h))};this.clearTableBody=function(h){if(b.browser.msie)(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(h.tBodies[0]);else h.tBodies[0].innerHTML=""}})});b.fn.extend({tablesorter:b.tablesorter.construct});var e=b.tablesorter;e.addParser({id:"text",is:function(){return true},format:function(a){return b.trim(a.toLowerCase())},type:"text"});e.addParser({id:"digit",
is:function(a,d){return b.tablesorter.isDigit(a,d.config)},format:function(a){return b.tablesorter.formatFloat(a)},type:"numeric"});e.addParser({id:"currency",is:function(a){return/^[\u00a3$\u20ac?.]/.test(a)},format:function(a){return b.tablesorter.formatFloat(a.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"});e.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){a=a.split(".");for(var d="",g=a.length,c=0;c<g;c++){var f=a[c];
d+=f.length==2?"0"+f:f}return b.tablesorter.formatFloat(d)},type:"numeric"});e.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return jQuery.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});e.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(a){return b.tablesorter.formatFloat(a!=""?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});e.addParser({id:"percent",
is:function(a){return/\%$/.test(b.trim(a))},format:function(a){return b.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"});e.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return b.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});e.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},
format:function(a,d){var g=d.config;a=a.replace(/\-/g,"/");if(g.dateFormat=="us")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(g.dateFormat=="uk")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(g.dateFormat=="dd/mm/yy"||g.dateFormat=="dd-mm-yy")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return b.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});e.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},
format:function(a){return b.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"});e.addParser({id:"metadata",is:function(){return false},format:function(a,d,g){a=d.config;a=!a.parserMetadataName?"sortValue":a.parserMetadataName;return b(g).metadata()[a]},type:"numeric"});e.addWidget({id:"zebra",format:function(a){if(a.config.debug)var d=new Date;b("tr:visible",a.tBodies[0]).filter(":even").removeClass(a.config.widgetZebra.css[1]).addClass(a.config.widgetZebra.css[0]).end().filter(":odd").removeClass(a.config.widgetZebra.css[0]).addClass(a.config.widgetZebra.css[1]);
a.config.debug&&b.tablesorter.benchmark("Applying Zebra widget",d)}})})(jQuery);
(function(b){function e(){b.fn.ajaxSubmit.debug&&window.console&&window.console.log&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}b.fn.ajaxSubmit=function(a){function d(){function w(){if(!v++){h.detachEvent?h.detachEvent("onload",w):h.removeEventListener("load",w,false);var s=true;try{if(p)throw"timeout";var t,u;u=h.contentWindow?h.contentWindow.document:h.contentDocument?h.contentDocument:h.document;var D=y.dataType=="xml"||u.XMLDocument||b.isXMLDoc(u);e("isXml="+
D);if(!D&&(u.body==null||u.body.innerHTML=="")){if(--r){v=0;setTimeout(w,100);return}e("Could not access iframe DOM after 50 tries.");return}l.responseText=u.body?u.body.innerHTML:null;l.responseXML=u.XMLDocument?u.XMLDocument:u;l.getResponseHeader=function(H){return{"content-type":y.dataType}[H]};if(y.dataType=="json"||y.dataType=="script"){var F=u.getElementsByTagName("textarea")[0];if(F)l.responseText=F.value;else{var E=u.getElementsByTagName("pre")[0];if(E)l.responseText=E.innerHTML}}else if(y.dataType==
"xml"&&!l.responseXML&&l.responseText!=null)l.responseXML=q(l.responseText);t=b.httpData(l,y.dataType)}catch(G){s=false;b.handleError(y,l,"error",G)}if(s){y.success(t,"success");o&&b.event.trigger("ajaxSuccess",[l,y])}o&&b.event.trigger("ajaxComplete",[l,y]);o&&!--b.active&&b.event.trigger("ajaxStop");if(y.complete)y.complete(l,s?"success":"error");setTimeout(function(){C.remove();l.responseXML=null},100)}}function q(s,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";
t.loadXML(s)}else t=(new DOMParser).parseFromString(s,"text/xml");return t&&t.documentElement&&t.documentElement.tagName!="parsererror"?t:null}var n=k[0];if(b(":input[name=submit]",n).length)alert('Error: Form elements must not be named "submit".');else{var y=b.extend({},b.ajaxSettings,a),z=b.extend(true,{},b.extend(true,{},b.ajaxSettings),y),B="jqFormIO"+(new Date).getTime(),C=b('<iframe id="'+B+'" name="'+B+'" src="'+y.iframeSrc+'" />'),h=C[0];C.css({position:"absolute",top:"-1000px",left:"-1000px"});
var l={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;C.attr("src",y.iframeSrc)}},o=y.global;o&&!b.active++&&b.event.trigger("ajaxStart");o&&b.event.trigger("ajaxSend",[l,y]);if(z.beforeSend&&z.beforeSend(l,z)===false)z.global&&b.active--;else if(!l.aborted){var v=0,p=0;if(z=n.clk){var A=z.name;if(A&&!z.disabled){a.extraData=a.extraData||{};a.extraData[A]=
z.value;if(z.type=="image"){a.extraData[name+".x"]=n.clk_x;a.extraData[name+".y"]=n.clk_y}}}setTimeout(function(){var s=k.attr("target"),t=k.attr("action");n.setAttribute("target",B);n.getAttribute("method")!="POST"&&n.setAttribute("method","POST");n.getAttribute("action")!=y.url&&n.setAttribute("action",y.url);a.skipEncodingOverride||k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});y.timeout&&setTimeout(function(){p=true;w()},y.timeout);var u=[];try{if(a.extraData)for(var D in a.extraData)u.push(b('<input type="hidden" name="'+
D+'" value="'+a.extraData[D]+'" />').appendTo(n)[0]);C.appendTo("body");h.attachEvent?h.attachEvent("onload",w):h.addEventListener("load",w,false);n.submit()}finally{n.setAttribute("action",t);s?n.setAttribute("target",s):k.removeAttr("target");b(u).remove()}},10);var r=50}}}if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof a=="function")a={success:a};var g=b.trim(this.attr("action"));if(g)g=(g.match(/^([^#]+)/)||[])[1];g=g||window.location.href||
"";a=b.extend({url:g,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a||{});g={};this.trigger("form-pre-serialize",[this,a,g]);if(g.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(a.beforeSerialize&&a.beforeSerialize(this,a)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var c=this.formToArray(a.semantic);if(a.data){a.extraData=a.data;for(var f in a.data)if(a.data[f]instanceof
Array)for(var j in a.data[f])c.push({name:f,value:a.data[f][j]});else c.push({name:f,value:a.data[f]})}if(a.beforeSubmit&&a.beforeSubmit(c,this,a)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[c,this,a,g]);if(g.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}f=b.param(c);if(a.type.toUpperCase()=="GET"){a.url+=(a.url.indexOf("?")>=0?"&":"?")+f;a.data=null}else a.data=f;var k=this,m=[];a.resetForm&&
m.push(function(){k.resetForm()});a.clearForm&&m.push(function(){k.clearForm()});if(!a.dataType&&a.target){var x=a.success||function(){};m.push(function(w){b(a.target).html(w).each(x,arguments)})}else a.success&&m.push(a.success);a.success=function(w,q){for(var n=0,y=m.length;n<y;n++)m[n].apply(a,[w,q,k])};f=b("input:file",this).fieldValue();j=false;for(g=0;g<f.length;g++)if(f[g])j=true;if(f.length&&a.iframe!==false||a.iframe||j||0)a.closeKeepAlive?b.get(a.closeKeepAlive,d):d();else b.ajax(a);this.trigger("form-submit-notify",
[this,a]);return this};b.fn.ajaxForm=function(a){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){b(this).ajaxSubmit(a);return false}).bind("click.form-plugin",function(d){var g=d.target,c=b(g);if(!c.is(":submit,input:image")){g=c.closest(":submit");if(g.length==0)return;g=g[0]}var f=this;f.clk=g;if(g.type=="image")if(d.offsetX!=undefined){f.clk_x=d.offsetX;f.clk_y=d.offsetY}else if(typeof b.fn.offset=="function"){c=c.offset();f.clk_x=d.pageX-c.left;f.clk_y=d.pageY-c.top}else{f.clk_x=
d.pageX-g.offsetLeft;f.clk_y=d.pageY-g.offsetTop}setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a){var d=[];if(this.length==0)return d;var g=this[0],c=a?g.getElementsByTagName("*"):g.elements;if(!c)return d;for(var f=0,j=c.length;f<j;f++){var k=c[f],m=k.name;if(m)if(a&&g.clk&&k.type=="image"){if(!k.disabled&&g.clk==k){d.push({name:m,value:b(k).val()});d.push({name:m+".x",
value:g.clk_x},{name:m+".y",value:g.clk_y})}}else if((k=b.fieldValue(k,true))&&k.constructor==Array)for(var x=0,w=k.length;x<w;x++)d.push({name:m,value:k[x]});else k!==null&&typeof k!="undefined"&&d.push({name:m,value:k})}if(!a&&g.clk){a=b(g.clk);c=a[0];if((m=c.name)&&!c.disabled&&c.type=="image"){d.push({name:m,value:a.val()});d.push({name:m+".x",value:g.clk_x},{name:m+".y",value:g.clk_y})}}return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var d=
[];this.each(function(){var g=this.name;if(g){var c=b.fieldValue(this,a);if(c&&c.constructor==Array)for(var f=0,j=c.length;f<j;f++)d.push({name:g,value:c[f]});else c!==null&&typeof c!="undefined"&&d.push({name:this.name,value:c})}});return b.param(d)};b.fn.fieldValue=function(a){for(var d=[],g=0,c=this.length;g<c;g++){var f=b.fieldValue(this[g],a);f===null||typeof f=="undefined"||f.constructor==Array&&!f.length||(f.constructor==Array?b.merge(d,f):d.push(f))}return d};b.fieldValue=function(a,d){var g=
a.name,c=a.type,f=a.tagName.toLowerCase();if(typeof d=="undefined")d=true;if(d&&(!g||a.disabled||c=="reset"||c=="button"||(c=="checkbox"||c=="radio")&&!a.checked||(c=="submit"||c=="image")&&a.form&&a.form.clk!=a||f=="select"&&a.selectedIndex==-1))return null;if(f=="select"){var j=a.selectedIndex;if(j<0)return null;g=[];f=a.options;var k=(c=c=="select-one")?j+1:f.length;for(j=c?j:0;j<k;j++){var m=f[j];if(m.selected){var x=m.value;x||(x=m.attributes&&m.attributes.value&&!m.attributes.value.specified?
m.text:m.value);if(c)return x;g.push(x)}}return g}return a.value};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var a=this.type,d=this.tagName.toLowerCase();if(a=="text"||a=="password"||d=="textarea")this.value="";else if(a=="checkbox"||a=="radio")this.checked=false;else if(d=="select")this.selectedIndex=-1})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset==
"function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};b.fn.enable=function(a){if(a==undefined)a=true;return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){if(a==undefined)a=true;return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio")this.checked=a;else if(this.tagName.toLowerCase()=="option"){d=b(this).parent("select");a&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(false);this.selected=a}})}})(jQuery);
$(function(){$("#apps-search > .section-tabset").tabs("#apps-search > .search-box");$("#user-search-input").suggest({type:"/type/user"}).bind("fb-select",function(b,e){location.href=bp+e.id});$("#create-link").click(function(){$.post(bp+"/post/submit/create_app",null,function(b){window.location=bp+"/admin"+b.result},"json");return false});$("#edit-props").ajaxForm({dataType:"json",success:function(b){if(b.code=="/api/status/ok")window.location.href=bp+b.result.appid;else alert("Error updating listing")}});
$("#icon_form").ajaxForm({dataType:"json",beforeSubmit:function(b,e,a){a.url+="?appid="+app.id+"&name="+$("#icon_file").val()},success:function(b){if(b.code==="/api/status/ok"){app.icon=b.result;$("#icon_name").text(b.result.name);$("#icon_delete").text("delete");$("#icon_file").val("")}else if(b.messages&&b.messages[0]&&b.messages[0].message){console.log(b);alert(b.messages[0].message)}else alert("Error uploading")}});$("#icon_file").change(function(){$("#icon_upload_error").text("");$("#icon_form").submit()});
$("#icon_delete").click(function(){$.post(bp+"/post/submit/delete_icon",{appid:app.id,iconid:app.icon.id},function(){$("#icon_name").text("No icon");$("#icon_delete").text("")},"json");return false})});
