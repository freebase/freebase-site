/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
jQuery.cookie=function(a,h,f){if(typeof h!="undefined"){f=f||{};if(h===null){h="";f=$.extend({},f);f.expires=-1}var c="";if(f.expires&&(typeof f.expires=="number"||f.expires.toUTCString)){if(typeof f.expires=="number"){c=new Date;c.setTime(c.getTime()+f.expires*24*60*60*1E3)}else c=f.expires;c="; expires="+c.toUTCString()}var d=f.path?"; path="+f.path:"",b=f.domain?"; domain="+f.domain:"";f=f.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(h),c,d,b,f].join("")}else{h=null;if(document.cookie&&
document.cookie!=""){f=document.cookie.split(";");for(c=0;c<f.length;c++){d=jQuery.trim(f[c]);if(d.substring(0,a.length+1)==a+"="){h=decodeURIComponent(d.substring(a.length+1));break}}}return h}};
jQuery.fn.textPlaceholder=function(a){a=a||"#AAA";return this.each(function(){var h=this;if(!(h.placeholder&&"placeholder"in document.createElement(h.tagName))){var f=h.style.color,c=h.getAttribute("placeholder"),d=$(h);if(h.value===""||h.value==c){h.value=c;h.style.color=a;d.data("placeholder-visible",true)}d.focus(function(){this.style.color=f;if(d.data("placeholder-visible")){d.data("placeholder-visible",false);this.value=""}});d.blur(function(){if(this.value===""){d.data("placeholder-visible",
true);this.value=c;this.style.color=a}else{this.style.color=f;d.data("placeholder-visible",false)}});h.form&&$(h.form).submit(function(){if(d.data("placeholder-visible"))h.value=""})}})};
(function(a){a.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(h,f){this.defaults.type=h;this.defaults.name=f},get:function(h,f){var c=a.extend({},this.defaults,f);if(!c.single.length)c.single="metadata";var d=a.data(h,c.single);if(d)return d;d="{}";var b=function(j){if(typeof j!="string")return j;return j=eval("("+j+")")};if(c.type=="html5"){var e={};a(h.attributes).each(function(){var j=this.nodeName;if(j.match(/^data-/))j=j.replace(/^data-/,
"");else return true;e[j]=b(this.nodeValue)})}else{if(c.type=="class"){var g=c.cre.exec(h.className);if(g)d=g[1]}else if(c.type=="elem"){if(!h.getElementsByTagName)return;g=h.getElementsByTagName(c.name);if(g.length)d=a.trim(g[0].innerHTML)}else if(h.getAttribute!=undefined)if(g=h.getAttribute(c.name))d=g;e=b(d.indexOf("{")<0?"{"+d+"}":d)}a.data(h,c.single,e);return e}}});a.fn.metadata=function(h){return a.metadata.get(this[0],h)}})(jQuery);
(function(a,h){function f(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.4",plugin:{add:function(c,d,b){c=a.ui[c].prototype;for(var e in b){c.plugins[e]=c.plugins[e]||[];c.plugins[e].push([d,b[e]])}},call:function(c,d,b){if((d=c.plugins[d])&&c.element[0].parentNode)for(var e=0;e<d.length;e++)c.options[d[e][0]]&&d[e][1].apply(c.element,b)}},contains:function(c,
d){return document.compareDocumentPosition?c.compareDocumentPosition(d)&16:c!==d&&c.contains(d)},hasScroll:function(c,d){if(a(c).css("overflow")==="hidden")return false;var b=d&&d==="left"?"scrollLeft":"scrollTop",e=false;if(c[b]>0)return true;c[b]=1;e=c[b]>0;c[b]=0;return e},isOverAxis:function(c,d,b){return c>d&&c<d+b},isOver:function(c,d,b,e,g,j){return a.ui.isOverAxis(c,b,g)&&a.ui.isOverAxis(d,e,j)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(c,d){return typeof c==="number"?this.each(function(){var b=this;setTimeout(function(){a(b).focus();d&&d.call(b)},c)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==h)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(c.css("zIndex"));if(!isNaN(d)&&d!=0)return d}c=c.parent()}}return 0}});a.each(["Width","Height"],function(c,d){function b(i,k,p,l){a.each(e,function(){k-=
parseFloat(a.curCSS(i,"padding"+this,true))||0;if(p)k-=parseFloat(a.curCSS(i,"border"+this+"Width",true))||0;if(l)k-=parseFloat(a.curCSS(i,"margin"+this,true))||0});return k}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),j={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(i){if(i===h)return j["inner"+d].call(this);return this.each(function(){a.style(this,g,b(this,i)+"px")})};a.fn["outer"+
d]=function(i,k){if(typeof i!=="number")return j["outer"+d].call(this,i);return this.each(function(){a.style(this,g,b(this,i,true,k)+"px")})}});a.extend(a.expr[":"],{data:function(c,d,b){return!!a.data(c,b[3])},focusable:function(c){var d=c.nodeName.toLowerCase(),b=a.attr(c,"tabindex");if("area"===d){d=c.parentNode;b=d.name;if(!c.href||!b||d.nodeName.toLowerCase()!=="map")return false;c=a("img[usemap=#"+b+"]")[0];return!!c&&f(c)}return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"==
d?c.href||!isNaN(b):!isNaN(b))&&f(c)},tabbable:function(c){var d=a.attr(c,"tabindex");return(isNaN(d)||d>=0)&&a(c).is(":focusable")}})}})(jQuery);
(function(a,h){var f=a.fn.remove;a.fn.remove=function(c,d){return this.each(function(){if(!d)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),c,d)})};a.widget=function(c,d,b){var e=c.split(".")[0],g;c=c.split(".")[1];g=e+"-"+c;if(!b){b=d;d=a.Widget}a.expr[":"][g]=function(j){return!!a.data(j,c)};a[e]=a[e]||{};a[e][c]=function(j,i){arguments.length&&this._createWidget(j,i)};d=new d;d.options=a.extend(true,{},d.options);
a[e][c].prototype=a.extend(true,d,{namespace:e,widgetName:c,widgetEventPrefix:a[e][c].prototype.widgetEventPrefix||c,widgetBaseClass:g},b);a.widget.bridge(c,a[e][c])};a.widget.bridge=function(c,d){a.fn[c]=function(b){var e=typeof b==="string",g=Array.prototype.slice.call(arguments,1),j=this;b=!e&&g.length?a.extend.apply(null,[true,b].concat(g)):b;if(e&&b.substring(0,1)==="_")return j;e?this.each(function(){var i=a.data(this,c),k=i&&a.isFunction(i[b])?i[b].apply(i,g):i;if(k!==i&&k!==h){j=k;return false}}):
this.each(function(){var i=a.data(this,c);if(i){b&&i.option(b);i._init()}else a.data(this,c,new d(b,this))});return j}};a.Widget=function(c,d){arguments.length&&this._createWidget(c,d)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],c);var b=this;this.element.bind("remove."+this.widgetName,function(){b.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var b=c,e=this;if(arguments.length===0)return a.extend({},e.options);if(typeof c==="string"){if(d===h)return this.options[c];b={};b[c]=d}a.each(b,function(g,
j){e._setOption(g,j)});return e},_setOption:function(c,d){this.options[c]=d;if(c==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,d,b){var e=this.options[c];d=a.Event(d);d.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();b=b||{};if(d.originalEvent){c=
a.event.props.length;for(var g;c;){g=a.event.props[--c];d[g]=d.originalEvent[g]}}this.element.trigger(d,b);return!(a.isFunction(e)&&e.call(this.element[0],d,b)===false||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var h=this;this.element.bind("mousedown."+this.widgetName,function(f){return h._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(h._preventClickEvent){h._preventClickEvent=false;f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(h){h.originalEvent=h.originalEvent||{};if(!h.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(h);this._mouseDownEvent=h;var f=this,c=h.which==1,d=typeof this.options.cancel=="string"?a(h.target).parents().add(h.target).filter(this.options.cancel).length:false;if(!c||d||!this._mouseCapture(h))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(h)&&this._mouseDelayMet(h)){this._mouseStarted=this._mouseStart(h)!==false;if(!this._mouseStarted){h.preventDefault();
return true}}this._mouseMoveDelegate=function(b){return f._mouseMove(b)};this._mouseUpDelegate=function(b){return f._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||h.preventDefault();return h.originalEvent.mouseHandled=true}},_mouseMove:function(h){if(a.browser.msie&&!h.button)return this._mouseUp(h);if(this._mouseStarted){this._mouseDrag(h);return h.preventDefault()}if(this._mouseDistanceMet(h)&&
this._mouseDelayMet(h))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,h)!==false)?this._mouseDrag(h):this._mouseUp(h);return!this._mouseStarted},_mouseUp:function(h){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=h.target==this._mouseDownEvent.target;this._mouseStop(h)}return false},_mouseDistanceMet:function(h){return Math.max(Math.abs(this._mouseDownEvent.pageX-
h.pageX),Math.abs(this._mouseDownEvent.pageY-h.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var h=/left|center|right/,f=/top|center|bottom/,c=a.fn.position,d=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return c.apply(this,arguments);b=a.extend({},b);var e=a(b.of),g=(b.collision||"flip").split(" "),j=b.offset?b.offset.split(" "):[0,0],i,k,p;if(b.of.nodeType===9){i=e.width();k=e.height();p={top:0,left:0}}else if(b.of.scrollTo&&b.of.document){i=e.width();k=e.height();p={top:e.scrollTop(),left:e.scrollLeft()}}else if(b.of.preventDefault){b.at="left top";i=k=
0;p={top:b.of.pageY,left:b.of.pageX}}else{i=e.outerWidth();k=e.outerHeight();p=e.offset()}a.each(["my","at"],function(){var l=(b[this]||"").split(" ");if(l.length===1)l=h.test(l[0])?l.concat(["center"]):f.test(l[0])?["center"].concat(l):["center","center"];l[0]=h.test(l[0])?l[0]:"center";l[1]=f.test(l[1])?l[1]:"center";b[this]=l});if(g.length===1)g[1]=g[0];j[0]=parseInt(j[0],10)||0;if(j.length===1)j[1]=j[0];j[1]=parseInt(j[1],10)||0;if(b.at[0]==="right")p.left+=i;else if(b.at[0]==="center")p.left+=
i/2;if(b.at[1]==="bottom")p.top+=k;else if(b.at[1]==="center")p.top+=k/2;p.left+=j[0];p.top+=j[1];return this.each(function(){var l=a(this),n=l.outerWidth(),r=l.outerHeight(),o=a.extend({},p);if(b.my[0]==="right")o.left-=n;else if(b.my[0]==="center")o.left-=n/2;if(b.my[1]==="bottom")o.top-=r;else if(b.my[1]==="center")o.top-=r/2;o.left=parseInt(o.left);o.top=parseInt(o.top);a.each(["left","top"],function(m,w){a.ui.position[g[m]]&&a.ui.position[g[m]][w](o,{targetWidth:i,targetHeight:k,elemWidth:n,
elemHeight:r,offset:j,my:b.my,at:b.at})});a.fn.bgiframe&&l.bgiframe();l.offset(a.extend(o,{using:b.using}))})};a.ui.position={fit:{left:function(b,e){var g=a(window);g=b.left+e.elemWidth-g.width()-g.scrollLeft();b.left=g>0?b.left-g:Math.max(0,b.left)},top:function(b,e){var g=a(window);g=b.top+e.elemHeight-g.height()-g.scrollTop();b.top=g>0?b.top-g:Math.max(0,b.top)}},flip:{left:function(b,e){if(e.at[0]!=="center"){var g=a(window);g=b.left+e.elemWidth-g.width()-g.scrollLeft();var j=e.my[0]==="left"?
-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,i=-2*e.offset[0];b.left+=b.left<0?j+e.targetWidth+i:g>0?j-e.targetWidth+i:0}},top:function(b,e){if(e.at[1]!=="center"){var g=a(window);g=b.top+e.elemHeight-g.height()-g.scrollTop();var j=e.my[1]==="top"?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,i=e.at[1]==="top"?e.targetHeight:-e.targetHeight,k=-2*e.offset[1];b.top+=b.top<0?j+e.targetHeight+k:g>0?j+i+k:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(b,e){if(/static/.test(a.curCSS(b,"position")))b.style.position=
"relative";var g=a(b),j=g.offset(),i=parseInt(a.curCSS(b,"top",true),10)||0,k=parseInt(a.curCSS(b,"left",true),10)||0;j={top:e.top-j.top+i,left:e.left-j.left+k};"using"in e?e.using.call(b,j):g.css(j)};a.fn.offset=function(b){var e=this[0];if(!e||!e.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return d.call(this)}}})(jQuery);window.freebase=window.fb={mwLWTReloading:false};
(function(a,h){if(a.cookie("mwLWTReloaded"))a.cookie("mwLWTReloaded",null,{path:"/"});else{var f=0,c=0;if(typeof acre==="object"&&acre&&acre.request&&acre.request.cookies)c=acre.request.cookies.mwLastWriteTime||0;if(document.cookie&&document.cookie!="")for(var d=document.cookie.split(";"),b=0,e=d.length;b<e;b++){var g=a.trim(d[b]);if(g.indexOf("mwLastWriteTime=")===0){g=decodeURIComponent(g.substring(16)).split("|");if(g.length)f=g[0]}}d=f?parseInt(f,10):-1;b=c?parseInt(c,10):-1;if(f&&c&&b<d){a.cookie("mwLWTReloaded",
"true",{path:"/"});h.mwLWTReloading=true;window.location.reload(true)}}})(jQuery,window.freebase);
(function(a,h){if(!h.mwLWTReloading){if(!window.console)window.console={log:a.noop,info:a.noop,debug:a.noop,warn:a.noop,error:a.noop};h.dispatch=function(g,j,i,k){if(typeof j!=="function")return false;g=a.event.fix(g||window.event);i||(i=[]);k||(k=this);return j.apply(k,[g].concat(i))};h.get_script=function(g,j){var i=h.get_script.cache,k=i[g];if(k)if(k.state===1)k.callbacks.push(j);else k.state===4&&j();else{k=i[g]={state:0,callbacks:[j]};a.ajax({url:g,dataType:"script",beforeSend:function(){k.state=
1},success:function(){k.state=4;a.each(k.callbacks,function(p,l){l()})},error:function(){k.state=-1}})}};h.get_script.cache={};a(window).bind("fb.user.signedin",function(g,j){console.log("fb.user.signnedin");h.user=j;var i=a("#nav-username a:first");if(i.length){i[0].href+=h.user.id;i.text(h.user.name)}a("#signedin").show()}).bind("fb.user.signedout",function(){console.log("fb.user.signedout");a("#signedout").show()});if(/^https?\:\/\/((www|devel)\.)?(freebase|sandbox\-freebase|branch\.qa\.metaweb|trunk\.qa\.metaweb)\.com(\:\d+)?/.test(acre.request.app_url)){var f=
function(g,j){var i=g.indexOf("|"+j+"_");if(i!=-1){i=i+2+j.length;var k=g.indexOf("|",i);if(k!=-1)return decodeURIComponent(g.substr(i,k-i))}return null},c=a.cookie("metaweb-user-info");if(c){var d=f(c,"g"),b=f(c,"u"),e=f(c,"p");e||(e="/user/"+this.name);setTimeout(function(){a(window).trigger("fb.user.signedin",{guid:d,name:b,id:e})},0)}else setTimeout(function(){a(window).trigger("fb.user.signedout")},0)}else a.ajax({url:"/acre/account/user_info",dataType:"json",success:function(g){g&&g.code===
"/api/status/ok"?a(window).trigger("fb.user.signedin",{id:g.id,guid:g.guid,name:g.username}):a(window).trigger("fb.user.signedout")},error:function(){a(window).trigger("fb.user.signedout")}});a(function(){var g=a("#SearchBox .SearchBox-input,#global-search-input"),j=acre.freebase.site_host;g.suggest({service_url:j,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var i=a("#site-search-label"),k=a("#site-search-box .fbs-pane");g.bind("fb-select",function(p,l){window.location=
j+"/view"+l.id;return false}).bind("fb-pane-show",function(){i.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",function(){a.trim(g.val())===""?i.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):i.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){i.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){i.is(":visible")||a("#site-search-label").slideDown("fast")}).blur(function(){!k.is(":visible")&&
i.is(":visible")&&a("#site-search-label").slideUp("fast")});a(".SearchBox-form").submit(function(){return a.trim(a("#global-search-input").val()).length==0?false:true});a("input, textarea").textPlaceholder()});h.disable=function(g){a(g).attr("disabled","disabled").addClass("disabled")};h.enable=function(g){a(g).removeAttr("disabled").removeClass("disabled")};h.lang_select=function(g,j){setTimeout(function(){a(window).trigger("fb.lang.select",j)},0)}}})(jQuery,window.freebase);
(function(a){function h(d,b,e){var g=this,j=d.add(this),i=d.find(e.tabs),k=b.jquery?b:d.children(b),p;i.length||(i=d.children());k.length||(k=d.parent().find(b));k.length||(k=a(b));a.extend(this,{click:function(l,n){var r=i.eq(l);if(typeof l=="string"&&l.replace("#","")){r=i.filter("[href*="+l.replace("#","")+"]");l=Math.max(i.index(r),0)}if(e.rotate){var o=i.length-1;if(l<0)return g.click(o,n);if(l>o)return g.click(0,n)}if(!r.length){if(p>=0)return g;l=e.initialIndex;r=i.eq(l)}if(l===p)return g;
n=n||a.Event();n.type="onBeforeClick";j.trigger(n,[l]);if(!n.isDefaultPrevented()){f[e.effect].call(g,l,function(){n.type="onClick";j.trigger(n,[l])});p=l;i.removeClass(e.current);r.addClass(e.current);return g}},getConf:function(){return e},getTabs:function(){return i},getPanes:function(){return k},getCurrentPane:function(){return k.eq(p)},getCurrentTab:function(){return i.eq(p)},getIndex:function(){return p},next:function(){return g.click(p+1)},prev:function(){return g.click(p-1)},destroy:function(){i.unbind(e.event).removeClass(e.current);
k.find("a[href^=#]").unbind("click.T");return g}});a.each("onBeforeClick,onClick".split(","),function(l,n){a.isFunction(e[n])&&a(g).bind(n,e[n]);g[n]=function(r){a(g).bind(n,r);return g}});if(e.history&&a.fn.history){a.tools.history.init(i);e.event="history"}i.each(function(l){a(this).bind(e.event,function(n){g.click(l,n);return n.preventDefault()})});k.find("a[href^=#]").bind("click.T",function(l){g.click(a(this).attr("href"),l)});if(location.hash)g.click(location.hash);else if(e.initialIndex===
0||e.initialIndex>0)g.click(e.initialIndex)}a.tools=a.tools||{version:"@VERSION"};a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(d,b){f[d]=b}};var f={"default":function(d,b){this.getPanes().hide().eq(d).show();b.call()},fade:function(d,b){var e=this.getConf(),g=e.fadeOutSpeed,j=this.getPanes();g?j.fadeOut(g):j.hide();j.eq(d).fadeIn(e.fadeInSpeed,b)},slide:function(d,b){this.getPanes().slideUp(200);
this.getPanes().eq(d).slideDown(400,b)},ajax:function(d,b){this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"),b)}},c;a.tools.tabs.addEffect("horizontal",function(d,b){c||(c=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){a(this).hide()});this.getPanes().eq(d).animate({width:c},function(){a(this).show();b.call()})});a.fn.tabs=function(d,b){var e=this.data("tabs");if(e){e.destroy();this.removeData("tabs")}if(a.isFunction(b))b={onBeforeClick:b};b=a.extend({},
a.tools.tabs.conf,b);this.each(function(){e=new h(a(this),d,b);a(this).data("tabs",e)});return b.api?e:this}})(jQuery);
(function(a){function h(){if(a.fn.ajaxSubmit.debug){var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(f);else window.opera&&window.opera.postError&&window.opera.postError(f)}}a.fn.ajaxSubmit=function(f){function c(){function l(){var t=i.attr("target"),s=i.attr("action");o.setAttribute("target",w);o.getAttribute("method")!="POST"&&o.setAttribute("method","POST");o.getAttribute("action")!=m.url&&o.setAttribute("action",m.url);m.skipEncodingOverride||
i.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});m.timeout&&setTimeout(function(){F=true;n()},m.timeout);var x=[];try{if(m.extraData)for(var y in m.extraData)x.push(a('<input type="hidden" name="'+y+'" value="'+m.extraData[y]+'" />').appendTo(o)[0]);v.appendTo("body");v.data("form-plugin-onload",n);o.submit()}finally{o.setAttribute("action",s);t?o.setAttribute("target",t):i.removeAttr("target");a(x).remove()}}function n(){if(!G){v.removeData("form-plugin-onload");var t=true;
try{if(F)throw"timeout";u=z.contentWindow?z.contentWindow.document:z.contentDocument?z.contentDocument:z.document;var s=m.dataType=="xml"||u.XMLDocument||a.isXMLDoc(u);h("isXml="+s);if(!s&&window.opera&&(u.body==null||u.body.innerHTML==""))if(--J){h("requeing onLoad callback, DOM not available");setTimeout(n,250);return}G=true;q.responseText=u.documentElement?u.documentElement.innerHTML:null;q.responseXML=u.XMLDocument?u.XMLDocument:u;q.getResponseHeader=function(K){return{"content-type":m.dataType}[K]};
var x=/(json|script)/.test(m.dataType);if(x||m.textarea){var y=u.getElementsByTagName("textarea")[0];if(y)q.responseText=y.value;else if(x){var H=u.getElementsByTagName("pre")[0];if(H)q.responseText=H.innerHTML}}else if(m.dataType=="xml"&&!q.responseXML&&q.responseText!=null)q.responseXML=r(q.responseText);I=a.httpData(q,m.dataType)}catch(D){h("error caught:",D);t=false;q.error=D;a.handleError(m,q,"error",D)}if(t){m.success.call(m.context,I,"success",q);A&&a.event.trigger("ajaxSuccess",[q,m])}A&&
a.event.trigger("ajaxComplete",[q,m]);A&&!--a.active&&a.event.trigger("ajaxStop");if(m.complete)m.complete.call(m.context,q,t?"success":"error");setTimeout(function(){v.removeData("form-plugin-onload");v.remove();q.responseXML=null},100)}}function r(t,s){if(window.ActiveXObject){s=new ActiveXObject("Microsoft.XMLDOM");s.async="false";s.loadXML(t)}else s=(new DOMParser).parseFromString(t,"text/xml");return s&&s.documentElement&&s.documentElement.tagName!="parsererror"?s:null}var o=i[0];if(a(":input[name=submit],:input[id=submit]",
o).length)alert('Error: Form elements must not have name or id of "submit".');else{var m=a.extend(true,{},a.ajaxSettings,f);m.context=m.context||m;var w="jqFormIO"+(new Date).getTime(),E="_"+w;window[E]=function(){var t=v.data("form-plugin-onload");if(t){t();window[E]=undefined;try{delete window[E]}catch(s){}}};var v=a('<iframe id="'+w+'" name="'+w+'" src="'+m.iframeSrc+'" onload="window[\'_\'+this.id]()" />'),z=v[0];v.css({position:"absolute",top:"-1000px",left:"-1000px"});var q={aborted:0,responseText:null,
responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;v.attr("src",m.iframeSrc)}},A=m.global;A&&!a.active++&&a.event.trigger("ajaxStart");A&&a.event.trigger("ajaxSend",[q,m]);if(m.beforeSend&&m.beforeSend.call(m.context,q,m)===false)m.global&&a.active--;else if(!q.aborted){var G=false,F=0,B=o.clk;if(B){var C=B.name;if(C&&!B.disabled){m.extraData=m.extraData||{};m.extraData[C]=B.value;
if(B.type=="image"){m.extraData[C+".x"]=o.clk_x;m.extraData[C+".y"]=o.clk_y}}}m.forceSync?l():setTimeout(l,10);var I,u,J=50}}}if(!this.length){h("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof f=="function")f={success:f};var d=a.trim(this.attr("action"));if(d)d=(d.match(/^([^#]+)/)||[])[1];d=d||window.location.href||"";f=a.extend(true,{url:d,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},f);d=
{};this.trigger("form-pre-serialize",[this,f,d]);if(d.veto){h("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(f.beforeSerialize&&f.beforeSerialize(this,f)===false){h("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var b,e,g=this.formToArray(f.semantic);if(f.data){f.extraData=f.data;for(b in f.data)if(f.data[b]instanceof Array)for(var j in f.data[b])g.push({name:b,value:f.data[b][j]});else{e=f.data[b];e=a.isFunction(e)?e():e;g.push({name:b,value:e})}}if(f.beforeSubmit&&
f.beforeSubmit(g,this,f)===false){h("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[g,this,f,d]);if(d.veto){h("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}b=a.param(g);if(f.type.toUpperCase()=="GET"){f.url+=(f.url.indexOf("?")>=0?"&":"?")+b;f.data=null}else f.data=b;var i=this,k=[];f.resetForm&&k.push(function(){i.resetForm()});f.clearForm&&k.push(function(){i.clearForm()});if(!f.dataType&&f.target){var p=f.success||
function(){};k.push(function(l){var n=f.replaceTarget?"replaceWith":"html";a(f.target)[n](l).each(p,arguments)})}else f.success&&k.push(f.success);f.success=function(l,n,r){for(var o=f.context||f,m=0,w=k.length;m<w;m++)k[m].apply(o,[l,n,r||i,i])};b=a("input:file",this).length>0;j=i.attr("enctype")=="multipart/form-data"||i.attr("encoding")=="multipart/form-data";if(f.iframe!==false&&(b||f.iframe||j))f.closeKeepAlive?a.get(f.closeKeepAlive,c):c();else a.ajax(f);this.trigger("form-submit-notify",[this,
f]);return this};a.fn.ajaxForm=function(f){if(this.length===0){var c={s:this.selector,c:this.context};if(!a.isReady&&c.s){h("DOM not ready, queuing ajaxForm");a(function(){a(c.s,c.c).ajaxForm(f)});return this}h("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(d){if(!d.isDefaultPrevented()){d.preventDefault();a(this).ajaxSubmit(f)}}).bind("click.form-plugin",function(d){var b=d.target,e=a(b);
if(!e.is(":submit,input:image")){b=e.closest(":submit");if(b.length==0)return;b=b[0]}var g=this;g.clk=b;if(b.type=="image")if(d.offsetX!=undefined){g.clk_x=d.offsetX;g.clk_y=d.offsetY}else if(typeof a.fn.offset=="function"){e=e.offset();g.clk_x=d.pageX-e.left;g.clk_y=d.pageY-e.top}else{g.clk_x=d.pageX-b.offsetLeft;g.clk_y=d.pageY-b.offsetTop}setTimeout(function(){g.clk=g.clk_x=g.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=
function(f){var c=[];if(this.length===0)return c;var d=this[0],b=f?d.getElementsByTagName("*"):d.elements;if(!b)return c;var e,g,j,i;e=0;for(max=b.length;e<max;e++){g=b[e];if(j=g.name)if(f&&d.clk&&g.type=="image"){if(!g.disabled&&d.clk==g){c.push({name:j,value:a(g).val()});c.push({name:j+".x",value:d.clk_x},{name:j+".y",value:d.clk_y})}}else if((i=a.fieldValue(g,true))&&i.constructor==Array){g=0;for(jmax=i.length;g<jmax;g++)c.push({name:j,value:i[g]})}else i!==null&&typeof i!="undefined"&&c.push({name:j,
value:i})}if(!f&&d.clk){f=a(d.clk);b=f[0];if((j=b.name)&&!b.disabled&&b.type=="image"){c.push({name:j,value:f.val()});c.push({name:j+".x",value:d.clk_x},{name:j+".y",value:d.clk_y})}}return c};a.fn.formSerialize=function(f){return a.param(this.formToArray(f))};a.fn.fieldSerialize=function(f){var c=[];this.each(function(){var d=this.name;if(d){var b=a.fieldValue(this,f);if(b&&b.constructor==Array)for(var e=0,g=b.length;e<g;e++)c.push({name:d,value:b[e]});else b!==null&&typeof b!="undefined"&&c.push({name:this.name,
value:b})}});return a.param(c)};a.fn.fieldValue=function(f){for(var c=[],d=0,b=this.length;d<b;d++){var e=a.fieldValue(this[d],f);e===null||typeof e=="undefined"||e.constructor==Array&&!e.length||(e.constructor==Array?a.merge(c,e):c.push(e))}return c};a.fieldValue=function(f,c){var d=f.name,b=f.type,e=f.tagName.toLowerCase();if(c===undefined)c=true;if(c&&(!d||f.disabled||b=="reset"||b=="button"||(b=="checkbox"||b=="radio")&&!f.checked||(b=="submit"||b=="image")&&f.form&&f.form.clk!=f||e=="select"&&
f.selectedIndex==-1))return null;if(e=="select"){var g=f.selectedIndex;if(g<0)return null;d=[];e=f.options;var j=(b=b=="select-one")?g+1:e.length;for(g=b?g:0;g<j;g++){var i=e[g];if(i.selected){var k=i.value;k||(k=i.attributes&&i.attributes.value&&!i.attributes.value.specified?i.text:i.value);if(b)return k;d.push(k)}}return d}return a(f).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var f=
this.type,c=this.tagName.toLowerCase();if(f=="text"||f=="password"||c=="textarea")this.value="";else if(f=="checkbox"||f=="radio")this.checked=false;else if(c=="select")this.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};a.fn.enable=function(f){if(f===undefined)f=true;return this.each(function(){this.disabled=!f})};a.fn.selected=function(f){if(f===undefined)f=true;return this.each(function(){var c=
this.type;if(c=="checkbox"||c=="radio")this.checked=f;else if(this.tagName.toLowerCase()=="option"){c=a(this).parent("select");f&&c[0]&&c[0].type=="select-one"&&c.find("option").selected(false);this.selected=f}})}})(jQuery);
$(function(){$("#apps-search > .section-tabset").tabs("#apps-search > .search-box");$("#user-search-input").closest("form").submit(function(){return false});$("#user-search-input").suggest({type:"/type/user"}).bind("fb-select",function(a,h){location.href=bp+h.id}).focus(function(){this.select()});$("#create-link").click(function(){$.post(bp+"/post/submit/create_app",null,function(a){window.location=bp+"/admin"+a.result},"json");return false});$("#edit-props").ajaxForm({dataType:"json",success:function(a){if(a.code==
"/api/status/ok")window.location.href=bp+a.result.appid;else alert("Error updating listing")}});$("#icon_form").ajaxForm({dataType:"json",beforeSubmit:function(a,h,f){f.url+="?appid="+app.id+"&name="+$("#icon_file").val()},success:function(a){if(a.code==="/api/status/ok"){app.icon=a.result;$("#icon_name").text(a.result.name);$("#icon_delete").text("delete");$("#icon_file").val("")}else if(a.messages&&a.messages[0]&&a.messages[0].message){console.log(a);alert(a.messages[0].message)}else alert("Error uploading")}});
$("#icon_file").change(function(){$("#icon_upload_error").text("");$("#icon_form").submit()});$("#icon_delete").click(function(){$.post(bp+"/post/submit/delete_icon",{appid:app.id,iconid:app.icon.id},function(){$("#icon_name").text("No icon");$("#icon_delete").text("")},"json");return false})});
