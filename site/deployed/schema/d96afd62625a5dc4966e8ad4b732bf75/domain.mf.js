/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
 
 jQuery Tools @VERSION Tooltip - UI essentials

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tooltip/

 Since: November 2008
 Date: @DATE 
*/
jQuery.cookie=function(a,d,e){if(typeof d!="undefined"){e=e||{};if(d===null){d="";e=$.extend({},e);e.expires=-1}var f="";if(e.expires&&(typeof e.expires=="number"||e.expires.toUTCString)){if(typeof e.expires=="number"){f=new Date;f.setTime(f.getTime()+e.expires*24*60*60*1E3)}else f=e.expires;f="; expires="+f.toUTCString()}var c=e.path?"; path="+e.path:"",b=e.domain?"; domain="+e.domain:"";e=e.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(d),f,c,b,e].join("")}else{d=null;if(document.cookie&&
document.cookie!=""){e=document.cookie.split(";");for(f=0;f<e.length;f++){c=jQuery.trim(e[f]);if(c.substring(0,a.length+1)==a+"="){d=decodeURIComponent(c.substring(a.length+1));break}}}return d}};
jQuery.fn.textPlaceholder=function(a){a=a||"#AAA";return this.each(function(){var d=this;if(!(d.placeholder&&"placeholder"in document.createElement(d.tagName))){var e=d.style.color,f=d.getAttribute("placeholder"),c=$(d);if(d.value===""||d.value==f){d.value=f;d.style.color=a;c.data("placeholder-visible",true)}c.focus(function(){this.style.color=e;if(c.data("placeholder-visible")){c.data("placeholder-visible",false);this.value=""}});c.blur(function(){if(this.value===""){c.data("placeholder-visible",
true);this.value=f;this.style.color=a}else{this.style.color=e;c.data("placeholder-visible",false)}});d.form&&$(d.form).submit(function(){if(c.data("placeholder-visible"))d.value=""})}})};
(function(a){a.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(d,e){this.defaults.type=d;this.defaults.name=e},get:function(d,e){var f=a.extend({},this.defaults,e);if(!f.single.length)f.single="metadata";var c=a.data(d,f.single);if(c)return c;c="{}";var b=function(i){if(typeof i!="string")return i;return i=eval("("+i+")")};if(f.type=="html5"){var g={};a(d.attributes).each(function(){var i=this.nodeName;if(i.match(/^data-/))i=i.replace(/^data-/,
"");else return true;g[i]=b(this.nodeValue)})}else{if(f.type=="class"){var h=f.cre.exec(d.className);if(h)c=h[1]}else if(f.type=="elem"){if(!d.getElementsByTagName)return;h=d.getElementsByTagName(f.name);if(h.length)c=a.trim(h[0].innerHTML)}else if(d.getAttribute!=undefined)if(h=d.getAttribute(f.name))c=h;g=b(c.indexOf("{")<0?"{"+c+"}":c)}a.data(d,f.single,g);return g}}});a.fn.metadata=function(d){return a.metadata.get(this[0],d)}})(jQuery);
(function(a){a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.2",plugin:{add:function(d,e,f){d=a.ui[d].prototype;for(var c in f){d.plugins[c]=d.plugins[c]||[];d.plugins[c].push([e,f[c]])}},call:function(d,e,f){if((e=d.plugins[e])&&d.element[0].parentNode)for(var c=0;c<e.length;c++)d.options[e[c][0]]&&e[c][1].apply(d.element,f)}},contains:function(d,e){return document.compareDocumentPosition?d.compareDocumentPosition(e)&16:d!==e&&d.contains(e)},hasScroll:function(d,e){if(a(d).css("overflow")==
"hidden")return false;var f=e&&e=="left"?"scrollLeft":"scrollTop",c=false;if(d[f]>0)return true;d[f]=1;c=d[f]>0;d[f]=0;return c},isOverAxis:function(d,e,f){return d>e&&d<e+f},isOver:function(d,e,f,c,b,g){return a.ui.isOverAxis(d,f,b)&&a.ui.isOverAxis(e,c,g)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(d,e){return typeof d==="number"?this.each(function(){var f=this;setTimeout(function(){a(f).focus();e&&e.call(f)},d)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect",
"none")},scrollParent:function(){var d;d=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",
1))}).eq(0);return/fixed/.test(this.css("position"))||!d.length?a(document):d},zIndex:function(d){if(d!==undefined)return this.css("zIndex",d);if(this.length){d=a(this[0]);for(var e;d.length&&d[0]!==document;){e=d.css("position");if(e=="absolute"||e=="relative"||e=="fixed"){e=parseInt(d.css("zIndex"));if(!isNaN(e)&&e!=0)return e}d=d.parent()}}return 0}});a.extend(a.expr[":"],{data:function(d,e,f){return!!a.data(d,f[3])},focusable:function(d){var e=d.nodeName.toLowerCase(),f=a.attr(d,"tabindex");return(/input|select|textarea|button|object/.test(e)?
!d.disabled:"a"==e||"area"==e?d.href||!isNaN(f):!isNaN(f))&&!a(d)["area"==e?"parents":"closest"](":hidden").length},tabbable:function(d){var e=a.attr(d,"tabindex");return(isNaN(e)||e>=0)&&a(d).is(":focusable")}})}})(jQuery);
(function(a){var d=a.fn.remove;a.fn.remove=function(e,f){return this.each(function(){if(!f)if(!e||a.filter(e,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return d.call(a(this),e,f)})};a.widget=function(e,f,c){var b=e.split(".")[0],g;e=e.split(".")[1];g=b+"-"+e;if(!c){c=f;f=a.Widget}a.expr[":"][g]=function(h){return!!a.data(h,e)};a[b]=a[b]||{};a[b][e]=function(h,i){arguments.length&&this._createWidget(h,i)};f=new f;f.options=a.extend({},f.options);a[b][e].prototype=
a.extend(true,f,{namespace:b,widgetName:e,widgetEventPrefix:a[b][e].prototype.widgetEventPrefix||e,widgetBaseClass:g},c);a.widget.bridge(e,a[b][e])};a.widget.bridge=function(e,f){a.fn[e]=function(c){var b=typeof c==="string",g=Array.prototype.slice.call(arguments,1),h=this;c=!b&&g.length?a.extend.apply(null,[true,c].concat(g)):c;if(b&&c.substring(0,1)==="_")return h;b?this.each(function(){var i=a.data(this,e),j=i&&a.isFunction(i[c])?i[c].apply(i,g):i;if(j!==i&&j!==undefined){h=j;return false}}):this.each(function(){var i=
a.data(this,e);if(i){c&&i.option(c);i._init()}else a.data(this,e,new f(c,this))});return h}};a.Widget=function(e,f){arguments.length&&this._createWidget(e,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(e,f){this.element=a(f).data(this.widgetName,this);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(f)[this.widgetName],e);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});this._create();
this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(e,f){var c=e,b=this;if(arguments.length===0)return a.extend({},b.options);if(typeof e==="string"){if(f===undefined)return this.options[e];c={};c[e]=f}a.each(c,function(g,
h){b._setOption(g,h)});return b},_setOption:function(e,f){this.options[e]=f;if(e==="disabled")this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(e,f,c){var b=this.options[e];f=a.Event(f);f.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();c=c||{};if(f.originalEvent){e=
a.event.props.length;for(var g;e;){g=a.event.props[--e];f[g]=f.originalEvent[g]}}this.element.trigger(f,c);return!(a.isFunction(b)&&b.call(this.element[0],f,c)===false||f.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(d._preventClickEvent){d._preventClickEvent=false;e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(d);this._mouseDownEvent=d;var e=this,f=d.which==1,c=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!f||c||!this._mouseCapture(d))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();
return true}}this._mouseMoveDelegate=function(b){return e._mouseMove(b)};this._mouseUpDelegate=function(b){return e._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||d.preventDefault();return d.originalEvent.mouseHandled=true}},_mouseMove:function(d){if(a.browser.msie&&!d.button)return this._mouseUp(d);if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&
this._mouseDelayMet(d))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==false)?this._mouseDrag(d):this._mouseUp(d);return!this._mouseStarted},_mouseUp:function(d){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=d.target==this._mouseDownEvent.target;this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-
d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var d=/left|center|right/,e=/top|center|bottom/,f=a.fn.position,c=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return f.apply(this,arguments);b=a.extend({},b);var g=a(b.of),h=(b.collision||"flip").split(" "),i=b.offset?b.offset.split(" "):[0,0],j,l,n;if(b.of.nodeType===9){j=g.width();l=g.height();n={top:0,left:0}}else if(b.of.scrollTo&&b.of.document){j=g.width();l=g.height();n={top:g.scrollTop(),left:g.scrollLeft()}}else if(b.of.preventDefault){b.at="left top";j=l=
0;n={top:b.of.pageY,left:b.of.pageX}}else{j=g.outerWidth();l=g.outerHeight();n=g.offset()}a.each(["my","at"],function(){var k=(b[this]||"").split(" ");if(k.length===1)k=d.test(k[0])?k.concat(["center"]):e.test(k[0])?["center"].concat(k):["center","center"];k[0]=d.test(k[0])?k[0]:"center";k[1]=e.test(k[1])?k[1]:"center";b[this]=k});if(h.length===1)h[1]=h[0];i[0]=parseInt(i[0],10)||0;if(i.length===1)i[1]=i[0];i[1]=parseInt(i[1],10)||0;if(b.at[0]==="right")n.left+=j;else if(b.at[0]==="center")n.left+=
j/2;if(b.at[1]==="bottom")n.top+=l;else if(b.at[1]==="center")n.top+=l/2;n.left+=i[0];n.top+=i[1];return this.each(function(){var k=a(this),m=k.outerWidth(),q=k.outerHeight(),p=a.extend({},n);if(b.my[0]==="right")p.left-=m;else if(b.my[0]==="center")p.left-=m/2;if(b.my[1]==="bottom")p.top-=q;else if(b.my[1]==="center")p.top-=q/2;p.left=parseInt(p.left);p.top=parseInt(p.top);a.each(["left","top"],function(t,s){a.ui.position[h[t]]&&a.ui.position[h[t]][s](p,{targetWidth:j,targetHeight:l,elemWidth:m,
elemHeight:q,offset:i,my:b.my,at:b.at})});a.fn.bgiframe&&k.bgiframe();k.offset(a.extend(p,{using:b.using}))})};a.ui.position={fit:{left:function(b,g){var h=a(window);h=b.left+g.elemWidth-h.width()-h.scrollLeft();b.left=h>0?b.left-h:Math.max(0,b.left)},top:function(b,g){var h=a(window);h=b.top+g.elemHeight-h.height()-h.scrollTop();b.top=h>0?b.top-h:Math.max(0,b.top)}},flip:{left:function(b,g){if(g.at[0]!=="center"){var h=a(window);h=b.left+g.elemWidth-h.width()-h.scrollLeft();var i=g.my[0]==="left"?
-g.elemWidth:g.my[0]==="right"?g.elemWidth:0,j=-2*g.offset[0];b.left+=b.left<0?i+g.targetWidth+j:h>0?i-g.targetWidth+j:0}},top:function(b,g){if(g.at[1]!=="center"){var h=a(window);h=b.top+g.elemHeight-h.height()-h.scrollTop();var i=g.my[1]==="top"?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,j=g.at[1]==="top"?g.targetHeight:-g.targetHeight,l=-2*g.offset[1];b.top+=b.top<0?i+g.targetHeight+l:h>0?i+j+l:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(b,g){if(/static/.test(a.curCSS(b,"position")))b.style.position=
"relative";var h=a(b),i=h.offset(),j=parseInt(a.curCSS(b,"top",true),10)||0,l=parseInt(a.curCSS(b,"left",true),10)||0;i={top:g.top-i.top+j,left:g.left-i.left+l};"using"in g?g.using.call(b,i):h.css(i)};a.fn.offset=function(b){var g=this[0];if(!g||!g.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return c.call(this)}}})(jQuery);window.freebase=window.fb={};
(function(a){if(!window.console)window.console={log:a.noop,info:a.noop,debug:a.noop,warn:a.noop,error:a.noop}})(jQuery,window.freebase);(function(a,d){d.dispatch=function(e,f,c,b){if(typeof f!=="function")return false;e=a.event.fix(e||window.event);c||(c=[]);b||(b=this);return f.apply(b,[e].concat(c))}})(jQuery,window.freebase);
(function(a,d){var e={};d.get_script=function(f,c){var b=e[f];if(b)if(b.state===1)b.callbacks.push(c);else b.state===4&&c();else{b=e[f]={state:0,callbacks:[c]};a.ajax({url:f,dataType:"script",beforeSend:function(){b.state=1},success:function(){b.state=4;a.each(b.callbacks,function(g,h){h()})},error:function(){b.state=-1}})}}})(jQuery,window.freebase);
(function(a,d){a(window).bind("fb.user.signedin",function(h,i){console.log("fb.user.signnedin");d.user=i;var j=a("#nav-username a:first");if(j.length){j[0].href+=d.user.id;j.text(d.user.name)}a("#signedin").show()}).bind("fb.user.signedout",function(){console.log("fb.user.signedout");a("#signedout").show()});if(/^https?\:\/\/((www|devel)\.)?(freebase|sandbox\-freebase|branch\.qa\.metaweb|trunk\.qa\.metaweb)\.com(\:\d+)?/.test(acre.request.app_url)){var e=function(h,i){var j=h.indexOf("|"+i+"_");if(j!=
-1){j=j+2+i.length;var l=h.indexOf("|",j);if(l!=-1)return decodeURIComponent(h.substr(j,l-j))}return null},f=a.cookie("metaweb-user-info");if(f){var c=e(f,"g"),b=e(f,"u"),g=e(f,"p");g||(g="/user/"+this.name);setTimeout(function(){a(window).trigger("fb.user.signedin",{guid:c,name:b,id:g})},0)}else setTimeout(function(){a(window).trigger("fb.user.signedout")},0)}else a.ajax({url:"/acre/account/user_info",dataType:"json",success:function(h){h&&h.code==="/api/status/ok"?a(window).trigger("fb.user.signedin",
{id:h.id,guid:h.guid,name:h.username}):a(window).trigger("fb.user.signedout")},error:function(){a(window).trigger("fb.user.signedout")}})})(jQuery,window.freebase);
(function(a){a(function(){var d=a("#SearchBox .SearchBox-input,#global-search-input"),e=acre.freebase.site_host;d.suggest({service_url:e,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var f=a("#site-search-label"),c=a("#site-search-box .fbs-pane");d.bind("fb-select",function(b,g){window.location=e+"/view"+g.id;return false}).bind("fb-pane-show",function(){f.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",function(){a.trim(d.val())===
""?f.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):f.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){f.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){f.is(":visible")||a("#site-search-label").slideDown("fast")}).blur(function(){!c.is(":visible")&&f.is(":visible")&&a("#site-search-label").slideUp("fast")});a(".SearchBox-form").submit(function(){return a.trim(a("#global-search-input").val()).length==
0?false:true});a("input, textarea").textPlaceholder()})})(jQuery,window.freebase);(function(a,d){d.disable=function(e){a(e).attr("disabled","disabled").addClass("disabled")};d.enable=function(e){a(e).removeAttr("disabled").removeClass("disabled")}})(jQuery,window.freebase);
(function(a,d){var e=d.permission={init:function(){if(d.user)if(!(typeof acre==="undefined"||typeof acre.c==="undefined")){var f=acre.c;if(f&&f.id){var c=d.permission={jsonp:function(b){c.has_permission=b.result===true;a(window).trigger("fb.permission.has_permission",c.has_permission)}};a.ajax({url:acre.request.app_url+"/permission/service/has_permission",data:{id:f.id,user_id:d.user.id},dataType:"jsonp",jsonpCallback:"window.freebase.permission.jsonp"})}}}};a(window).bind("fb.user.signedin",e.init)})(jQuery,
window.freebase);
(function(a){a.fn.showRow=function(d,e,f){e=e==="fadeIn"?"fadeIn":"slideDown";var c=this;return this.each(function(){var b=a(this).hide(),g=a("> td, > th",b).wrapInner('<div class="wrapInner" style="display: block;">');g=a(".wrapInner",g).hide();b.show();g[e](f,function(){a(this).each(function(){a(this).replaceWith(a(this).contents())});d&&d.call(c)})})};a.fn.hideRow=function(d,e,f){e=e==="fadeOut"?"fadeOut":"slideUp";var c=this;return this.each(function(){var b=a(this).show(),g=a("> td, > th",b).wrapInner('<div class="wrapInner" style="display: block;">');
a(".wrapInner",g)[e](f,function(){a(this).each(function(){a(this).replaceWith(a(this).contents())});b.hide();d&&d.call(c)})})}})(jQuery);
(function(a){function d(c,b,g){var h=this,i=c.add(this),j=c.find(g.tabs),l=b.jquery?b:c.children(b),n;j.length||(j=c.children());l.length||(l=c.parent().find(b));l.length||(l=a(b));a.extend(this,{click:function(k,m){var q=j.eq(k);if(typeof k=="string"&&k.replace("#","")){q=j.filter("[href*="+k.replace("#","")+"]");k=Math.max(j.index(q),0)}if(g.rotate){var p=j.length-1;if(k<0)return h.click(p,m);if(k>p)return h.click(0,m)}if(!q.length){if(n>=0)return h;k=g.initialIndex;q=j.eq(k)}if(k===n)return h;
m=m||a.Event();m.type="onBeforeClick";i.trigger(m,[k]);if(!m.isDefaultPrevented()){e[g.effect].call(h,k,function(){m.type="onClick";i.trigger(m,[k])});n=k;j.removeClass(g.current);q.addClass(g.current);return h}},getConf:function(){return g},getTabs:function(){return j},getPanes:function(){return l},getCurrentPane:function(){return l.eq(n)},getCurrentTab:function(){return j.eq(n)},getIndex:function(){return n},next:function(){return h.click(n+1)},prev:function(){return h.click(n-1)},destroy:function(){j.unbind(g.event).removeClass(g.current);
l.find("a[href^=#]").unbind("click.T");return h}});a.each("onBeforeClick,onClick".split(","),function(k,m){a.isFunction(g[m])&&a(h).bind(m,g[m]);h[m]=function(q){a(h).bind(m,q);return h}});if(g.history&&a.fn.history){a.tools.history.init(j);g.event="history"}j.each(function(k){a(this).bind(g.event,function(m){h.click(k,m);return m.preventDefault()})});l.find("a[href^=#]").bind("click.T",function(k){h.click(a(this).attr("href"),k)});if(location.hash)h.click(location.hash);else if(g.initialIndex===
0||g.initialIndex>0)h.click(g.initialIndex)}a.tools=a.tools||{version:"@VERSION"};a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(c,b){e[c]=b}};var e={"default":function(c,b){this.getPanes().hide().eq(c).show();b.call()},fade:function(c,b){var g=this.getConf(),h=g.fadeOutSpeed,i=this.getPanes();h?i.fadeOut(h):i.hide();i.eq(c).fadeIn(g.fadeInSpeed,b)},slide:function(c,b){this.getPanes().slideUp(200);
this.getPanes().eq(c).slideDown(400,b)},ajax:function(c,b){this.getPanes().eq(0).load(this.getTabs().eq(c).attr("href"),b)}},f;a.tools.tabs.addEffect("horizontal",function(c,b){f||(f=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){a(this).hide()});this.getPanes().eq(c).animate({width:f},function(){a(this).show();b.call()})});a.fn.tabs=function(c,b){var g=this.data("tabs");if(g){g.destroy();this.removeData("tabs")}if(a.isFunction(b))b={onBeforeClick:b};b=a.extend({},
a.tools.tabs.conf,b);this.each(function(){g=new d(a(this),c,b);a(this).data("tabs",g)});return b.api?g:this}})(jQuery);
(function(a){function d(c,b,g){var h=g.relative?c.position().top:c.offset().top,i=g.relative?c.position().left:c.offset().left,j=g.position[0];h-=b.outerHeight()-g.offset[0];i+=c.outerWidth()+g.offset[1];var l=b.outerHeight()+c.outerHeight();if(j=="center")h+=l/2;if(j=="bottom")h+=l;j=g.position[1];c=b.outerWidth()+c.outerWidth();if(j=="center")i-=c/2;if(j=="left")i-=c;return{top:h,left:i}}function e(c,b){var g=this,h=c.add(g),i,j=0,l=0,n=c.attr("title"),k=f[b.effect],m,q=c.is(":input"),p=q&&c.is(":checkbox, :radio, select, :button, :submit"),
t=c.attr("type"),s=b.events[t]||b.events[q?p?"widget":"input":"def"];if(!k)throw'Nonexistent effect "'+b.effect+'"';s=s.split(/,\s*/);if(s.length!=2)throw"Tooltip: bad events configuration for "+t;c.bind(s[0],function(o){clearTimeout(j);if(b.predelay)l=setTimeout(function(){g.show(o)},b.predelay);else g.show(o)}).bind(s[1],function(o){clearTimeout(l);if(b.delay)j=setTimeout(function(){g.hide(o)},b.delay);else g.hide(o)});if(n&&b.cancelDefault){c.removeAttr("title");c.data("title",n)}a.extend(g,{show:function(o){if(!i){if(n)i=
a(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(n);else if(b.tip)i=a(b.tip).eq(0);else{i=c.next();i.length||(i=c.parent().next())}if(!i.length)throw"Cannot find tooltip for "+c;}if(g.isShown())return g;i.stop(true,true);var r=d(c,i,b);o=o||a.Event();o.type="onBeforeShow";h.trigger(o,[r]);if(o.isDefaultPrevented())return g;r=d(c,i,b);i.css({position:"absolute",top:r.top,left:r.left});m=true;k[0].call(g,function(){o.type="onShow";m="full";h.trigger(o)});r=b.events.tooltip.split(/,\s*/);
i.bind(r[0],function(){clearTimeout(j);clearTimeout(l)});r[1]&&!c.is("input:not(:checkbox, :radio), textarea")&&i.bind(r[1],function(u){u.relatedTarget!=c[0]&&c.trigger(s[1].split(" ")[0])});return g},hide:function(o){if(!i||!g.isShown())return g;o=o||a.Event();o.type="onBeforeHide";h.trigger(o);if(!o.isDefaultPrevented()){m=false;f[b.effect][1].call(g,function(){o.type="onHide";m=false;h.trigger(o)});return g}},isShown:function(o){return o?m=="full":m},getConf:function(){return b},getTip:function(){return i},
getTrigger:function(){return c}});a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(o,r){a.isFunction(b[r])&&a(g).bind(r,b[r]);g[r]=function(u){a(g).bind(r,u);return g}})}a.tools=a.tools||{version:"@VERSION"};a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},
layout:"<div/>",tipClass:"tooltip"},addEffect:function(c,b,g){f[c]=[b,g]}};var f={toggle:[function(c){var b=this.getConf(),g=this.getTip();b=b.opacity;b<1&&g.css({opacity:b});g.show();c.call()},function(c){this.getTip().hide();c.call()}],fade:[function(c){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,c)},function(c){this.getTip().fadeOut(this.getConf().fadeOutSpeed,c)}]};a.fn.tooltip=function(c){var b=this.data("tooltip");if(b)return b;c=a.extend(true,{},a.tools.tooltip.conf,c);
if(typeof c.position=="string")c.position=c.position.split(/,?\s/);this.each(function(){b=new e(a(this),c);a(this).data("tooltip",b)});return c.api?b:this}})(jQuery);
(function(a,d){var e=d.schema={init_row_menu:function(f){a(".row-menu-trigger",f).each(function(){var c=a(this);c.tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-10,-10],effect:"fade",delay:300});c.parents("tr:first").hover(e.row_menu_hoverover,e.row_menu_hoverout)})},row_menu_hoverover:function(){var f=a(this);f.addClass("row-hover");a(".row-menu-trigger",f).css("visibility","visible")},row_menu_hoverout:function(){var f=a(this);a(".row-menu-trigger",f).css("visibility","hidden");
f.removeClass("row-hover")},close_message:function(f,c){var b=a(this).parents(c);b.is("tr")?b.hideRow(function(){b.remove()}):b.slideUp(function(){b.remove()});return false}};a(function(){a.tablesorter.addParser({id:"schemaName",is:function(){return false},format:function(c){return a(c).text().toLowerCase()},type:"text"});a.tablesorter.addParser({id:"commaDigit",is:function(){return false},format:function(c){return parseInt(c.replace(/\,/g,""))},type:"numeric"});a.tablesorter.defaults.cssAsc="column-header-asc";
a.tablesorter.defaults.cssDesc="column-header-desc";a.tablesorter.defaults.cssHeader="column-header";e.init_row_menu();a(".blurb-trigger").click(function(){var c=a(this),b=c.siblings(".blurb"),g=c.siblings(".blob");if(g.is(":hidden")){g.show();b.hide();c.text("Less")}else{g.hide();b.show();c.text("More")}});var f=a(".breadcrumb-sibling-trigger").outerWidth();a(".breadcrumb-sibling-trigger").tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-5,-f],effect:"fade",delay:300,onBeforeShow:function(){this.getTrigger().addClass("active")},
onHide:function(){this.getTrigger().removeClass("active")}})})})(jQuery,window.freebase);
(function(a,d){var e=d.schema.domain={init:function(){e.init_tablesorter();e.init_toggle_help_messages()},init_tablesorter:function(){a(".table-sortable").each(function(){var f=a(this);if(a("> tbody > tr",f).length){f.tablesorter();a("thead th:nth-child(1)",f)[0].count=1;a("thead th:nth-child(3)",f)[0].count=1;a("thead th:nth-child(4)",f)[0].count=1}})},init_toggle_help_messages:function(){a(".table-empty-trigger").click(function(){$trigger=a(this);$container=$trigger.parents(".table-empty-msg");
$help_text=$container.find(".table-empty-text");if($help_text.is(":hidden")){$container.addClass("active");$help_text.slideDown()}else{$container.removeClass("active");$help_text.slideUp()}})},init_edit:function(){a(".edit").show();var f=a("table.table");f.first().find(".table-empty-msg").addClass("active").find(".table-empty-text").slideDown();f.find("tbody > tr").length===0?a(".table-title > .help-link").hide():a(".table-empty-msg").hide()},domain_settings:function(f,c){var b=a(this);d.get_script(acre.request.app_url+
"/schema/MANIFEST/domain-edit.mf.js",function(){e.edit.domain_settings_begin(b,c)});return false},add_type:function(f,c,b){var g=a(this);if(g.is(".editing"))return false;g.addClass("editing");d.get_script(acre.request.app_url+"/schema/MANIFEST/domain-edit.mf.js",function(){e.edit.add_type_begin(g,c,b)});return false},delete_type:function(f,c){var b=a(this);if(b.is(".editing"))return false;b.addClass("editing");b.parents(".tooltip:first").siblings(".row-menu-trigger:first").data("tooltip").hide();
d.get_script(acre.request.app_url+"/schema/MANIFEST/domain-edit.mf.js",function(){e.edit.delete_type_begin(b,c)});return false},undo_delete_type:function(){var f=a(this);if(f.is(".editing"))return false;f.addClass("editing");var c=f.metadata();d.get_script(acre.request.app_url+"/schema/MANIFEST/domain-edit.mf.js",function(){e.edit.undo_delete_type_begin(f,c)});return false},edit_type:function(f,c){var b=a(this);if(b.is(".editing"))return false;b.addClass("editing");b.parents(".tooltip:first").siblings(".row-menu-trigger:first").data("tooltip").hide();
d.get_script(acre.request.app_url+"/schema/MANIFEST/domain-edit.mf.js",function(){e.edit.edit_type_begin(b,c)});return false}};a(window).bind("fb.permission.has_permission",function(f,c){console.log(acre.c.id,"permits",d.user.id,c);c&&e.init_edit()});a(e.init)})(jQuery,window.freebase);
