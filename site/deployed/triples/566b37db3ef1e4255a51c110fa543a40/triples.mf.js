/*
 
 jQuery Tools @VERSION Tooltip - UI essentials

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tooltip/

 Since: November 2008
 Date: @DATE 
*/
jQuery.cookie=function(b,j,n){if(typeof j!="undefined"){n=n||{};if(j===null){j="";n=$.extend({},n);n.expires=-1}var g="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){if(typeof n.expires=="number"){g=new Date;g.setTime(g.getTime()+n.expires*24*60*60*1E3)}else g=n.expires;g="; expires="+g.toUTCString()}var e=n.path?"; path="+n.path:"",f=n.domain?"; domain="+n.domain:"";n=n.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),g,e,f,n].join("")}else{j=null;if(document.cookie&&
document.cookie!=""){n=document.cookie.split(";");for(g=0;g<n.length;g++){e=jQuery.trim(n[g]);if(e.substring(0,b.length+1)==b+"="){j=decodeURIComponent(e.substring(b.length+1));break}}}return j}};
jQuery.fn.textPlaceholder=function(b){b=b||"#AAA";return this.each(function(){var j=this;if(!(j.placeholder&&"placeholder"in document.createElement(j.tagName))){var n=j.style.color,g=j.getAttribute("placeholder"),e=$(j);if(j.value===""||j.value==g){j.value=g;j.style.color=b;e.data("placeholder-visible",true)}e.focus(function(){this.style.color=n;if(e.data("placeholder-visible")){e.data("placeholder-visible",false);this.value=""}});e.blur(function(){if(this.value===""){e.data("placeholder-visible",
true);this.value=g;this.style.color=b}else{this.style.color=n;e.data("placeholder-visible",false)}});j.form&&$(j.form).submit(function(){if(e.data("placeholder-visible"))j.value=""})}})};
(function(b){b.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(j,n){this.defaults.type=j;this.defaults.name=n},get:function(j,n){var g=b.extend({},this.defaults,n);if(!g.single.length)g.single="metadata";var e=b.data(j,g.single);if(e)return e;e="{}";var f=function(m){if(typeof m!="string")return m;return m=eval("("+m+")")};if(g.type=="html5"){var i={};b(j.attributes).each(function(){var m=this.nodeName;if(m.match(/^data-/))m=m.replace(/^data-/,
"");else return true;i[m]=f(this.nodeValue)})}else{if(g.type=="class"){var k=g.cre.exec(j.className);if(k)e=k[1]}else if(g.type=="elem"){if(!j.getElementsByTagName)return;k=j.getElementsByTagName(g.name);if(k.length)e=b.trim(k[0].innerHTML)}else if(j.getAttribute!=undefined)if(k=j.getAttribute(g.name))e=k;i=f(e.indexOf("{")<0?"{"+e+"}":e)}b.data(j,g.single,i);return i}}});b.fn.metadata=function(j){return b.metadata.get(this[0],j)}})(jQuery);
(function(b,j){function n(g){return!b(g).parents().andSelf().filter(function(){return b.curCSS(this,"visibility")==="hidden"||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};if(!b.ui.version){b.extend(b.ui,{version:"1.8.4",plugin:{add:function(g,e,f){g=b.ui[g].prototype;for(var i in f){g.plugins[i]=g.plugins[i]||[];g.plugins[i].push([e,f[i]])}},call:function(g,e,f){if((e=g.plugins[e])&&g.element[0].parentNode)for(var i=0;i<e.length;i++)g.options[e[i][0]]&&e[i][1].apply(g.element,f)}},contains:function(g,
e){return document.compareDocumentPosition?g.compareDocumentPosition(e)&16:g!==e&&g.contains(e)},hasScroll:function(g,e){if(b(g).css("overflow")==="hidden")return false;var f=e&&e==="left"?"scrollLeft":"scrollTop",i=false;if(g[f]>0)return true;g[f]=1;i=g[f]>0;g[f]=0;return i},isOverAxis:function(g,e,f){return g>e&&g<e+f},isOver:function(g,e,f,i,k,m){return b.ui.isOverAxis(g,f,k)&&b.ui.isOverAxis(e,i,m)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});b.fn.extend({_focus:b.fn.focus,focus:function(g,e){return typeof g==="number"?this.each(function(){var f=this;setTimeout(function(){b(f).focus();e&&e.call(f)},g)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var g;g=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!g.length?b(document):g},zIndex:function(g){if(g!==j)return this.css("zIndex",g);if(this.length){g=b(this[0]);for(var e;g.length&&g[0]!==document;){e=g.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){e=parseInt(g.css("zIndex"));if(!isNaN(e)&&e!=0)return e}g=g.parent()}}return 0}});b.each(["Width","Height"],function(g,e){function f(o,c,a,d){b.each(i,function(){c-=
parseFloat(b.curCSS(o,"padding"+this,true))||0;if(a)c-=parseFloat(b.curCSS(o,"border"+this+"Width",true))||0;if(d)c-=parseFloat(b.curCSS(o,"margin"+this,true))||0});return c}var i=e==="Width"?["Left","Right"]:["Top","Bottom"],k=e.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+e]=function(o){if(o===j)return m["inner"+e].call(this);return this.each(function(){b.style(this,k,f(this,o)+"px")})};b.fn["outer"+
e]=function(o,c){if(typeof o!=="number")return m["outer"+e].call(this,o);return this.each(function(){b.style(this,k,f(this,o,true,c)+"px")})}});b.extend(b.expr[":"],{data:function(g,e,f){return!!b.data(g,f[3])},focusable:function(g){var e=g.nodeName.toLowerCase(),f=b.attr(g,"tabindex");if("area"===e){e=g.parentNode;f=e.name;if(!g.href||!f||e.nodeName.toLowerCase()!=="map")return false;g=b("img[usemap=#"+f+"]")[0];return!!g&&n(g)}return(/input|select|textarea|button|object/.test(e)?!g.disabled:"a"==
e?g.href||!isNaN(f):!isNaN(f))&&n(g)},tabbable:function(g){var e=b.attr(g,"tabindex");return(isNaN(e)||e>=0)&&b(g).is(":focusable")}})}})(jQuery);
(function(b,j){var n=b.fn.remove;b.fn.remove=function(g,e){return this.each(function(){if(!e)if(!g||b.filter(g,[this]).length)b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return n.call(b(this),g,e)})};b.widget=function(g,e,f){var i=g.split(".")[0],k;g=g.split(".")[1];k=i+"-"+g;if(!f){f=e;e=b.Widget}b.expr[":"][k]=function(m){return!!b.data(m,g)};b[i]=b[i]||{};b[i][g]=function(m,o){arguments.length&&this._createWidget(m,o)};e=new e;e.options=b.extend(true,{},e.options);
b[i][g].prototype=b.extend(true,e,{namespace:i,widgetName:g,widgetEventPrefix:b[i][g].prototype.widgetEventPrefix||g,widgetBaseClass:k},f);b.widget.bridge(g,b[i][g])};b.widget.bridge=function(g,e){b.fn[g]=function(f){var i=typeof f==="string",k=Array.prototype.slice.call(arguments,1),m=this;f=!i&&k.length?b.extend.apply(null,[true,f].concat(k)):f;if(i&&f.substring(0,1)==="_")return m;i?this.each(function(){var o=b.data(this,g),c=o&&b.isFunction(o[f])?o[f].apply(o,k):o;if(c!==o&&c!==j){m=c;return false}}):
this.each(function(){var o=b.data(this,g);if(o){f&&o.option(f);o._init()}else b.data(this,g,new e(f,this))});return m}};b.Widget=function(g,e){arguments.length&&this._createWidget(g,e)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,e){b.data(e,this.widgetName,this);this.element=b(e);this.options=b.extend(true,{},this.options,b.metadata&&b.metadata.get(e)[this.widgetName],g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,e){var f=g,i=this;if(arguments.length===0)return b.extend({},i.options);if(typeof g==="string"){if(e===j)return this.options[g];f={};f[g]=e}b.each(f,function(k,
m){i._setOption(k,m)});return i},_setOption:function(g,e){this.options[g]=e;if(g==="disabled")this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,e,f){var i=this.options[g];e=b.Event(e);e.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();f=f||{};if(e.originalEvent){g=
b.event.props.length;for(var k;g;){k=b.event.props[--g];e[k]=e.originalEvent[k]}}this.element.trigger(e,f);return!(b.isFunction(i)&&i.call(this.element[0],e,f)===false||e.isDefaultPrevented())}}})(jQuery);
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var j=this;this.element.bind("mousedown."+this.widgetName,function(n){return j._mouseDown(n)}).bind("click."+this.widgetName,function(n){if(j._preventClickEvent){j._preventClickEvent=false;n.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(j){j.originalEvent=j.originalEvent||{};if(!j.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(j);this._mouseDownEvent=j;var n=this,g=j.which==1,e=typeof this.options.cancel=="string"?b(j.target).parents().add(j.target).filter(this.options.cancel).length:false;if(!g||e||!this._mouseCapture(j))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(j)&&this._mouseDelayMet(j)){this._mouseStarted=this._mouseStart(j)!==false;if(!this._mouseStarted){j.preventDefault();
return true}}this._mouseMoveDelegate=function(f){return n._mouseMove(f)};this._mouseUpDelegate=function(f){return n._mouseUp(f)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||j.preventDefault();return j.originalEvent.mouseHandled=true}},_mouseMove:function(j){if(b.browser.msie&&!j.button)return this._mouseUp(j);if(this._mouseStarted){this._mouseDrag(j);return j.preventDefault()}if(this._mouseDistanceMet(j)&&
this._mouseDelayMet(j))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,j)!==false)?this._mouseDrag(j):this._mouseUp(j);return!this._mouseStarted},_mouseUp:function(j){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=j.target==this._mouseDownEvent.target;this._mouseStop(j)}return false},_mouseDistanceMet:function(j){return Math.max(Math.abs(this._mouseDownEvent.pageX-
j.pageX),Math.abs(this._mouseDownEvent.pageY-j.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(b){b.ui=b.ui||{};var j=/left|center|right/,n=/top|center|bottom/,g=b.fn.position,e=b.fn.offset;b.fn.position=function(f){if(!f||!f.of)return g.apply(this,arguments);f=b.extend({},f);var i=b(f.of),k=(f.collision||"flip").split(" "),m=f.offset?f.offset.split(" "):[0,0],o,c,a;if(f.of.nodeType===9){o=i.width();c=i.height();a={top:0,left:0}}else if(f.of.scrollTo&&f.of.document){o=i.width();c=i.height();a={top:i.scrollTop(),left:i.scrollLeft()}}else if(f.of.preventDefault){f.at="left top";o=c=
0;a={top:f.of.pageY,left:f.of.pageX}}else{o=i.outerWidth();c=i.outerHeight();a=i.offset()}b.each(["my","at"],function(){var d=(f[this]||"").split(" ");if(d.length===1)d=j.test(d[0])?d.concat(["center"]):n.test(d[0])?["center"].concat(d):["center","center"];d[0]=j.test(d[0])?d[0]:"center";d[1]=n.test(d[1])?d[1]:"center";f[this]=d});if(k.length===1)k[1]=k[0];m[0]=parseInt(m[0],10)||0;if(m.length===1)m[1]=m[0];m[1]=parseInt(m[1],10)||0;if(f.at[0]==="right")a.left+=o;else if(f.at[0]==="center")a.left+=
o/2;if(f.at[1]==="bottom")a.top+=c;else if(f.at[1]==="center")a.top+=c/2;a.left+=m[0];a.top+=m[1];return this.each(function(){var d=b(this),h=d.outerWidth(),l=d.outerHeight(),p=b.extend({},a);if(f.my[0]==="right")p.left-=h;else if(f.my[0]==="center")p.left-=h/2;if(f.my[1]==="bottom")p.top-=l;else if(f.my[1]==="center")p.top-=l/2;p.left=parseInt(p.left);p.top=parseInt(p.top);b.each(["left","top"],function(r,t){b.ui.position[k[r]]&&b.ui.position[k[r]][t](p,{targetWidth:o,targetHeight:c,elemWidth:h,
elemHeight:l,offset:m,my:f.my,at:f.at})});b.fn.bgiframe&&d.bgiframe();d.offset(b.extend(p,{using:f.using}))})};b.ui.position={fit:{left:function(f,i){var k=b(window);k=f.left+i.elemWidth-k.width()-k.scrollLeft();f.left=k>0?f.left-k:Math.max(0,f.left)},top:function(f,i){var k=b(window);k=f.top+i.elemHeight-k.height()-k.scrollTop();f.top=k>0?f.top-k:Math.max(0,f.top)}},flip:{left:function(f,i){if(i.at[0]!=="center"){var k=b(window);k=f.left+i.elemWidth-k.width()-k.scrollLeft();var m=i.my[0]==="left"?
-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,o=-2*i.offset[0];f.left+=f.left<0?m+i.targetWidth+o:k>0?m-i.targetWidth+o:0}},top:function(f,i){if(i.at[1]!=="center"){var k=b(window);k=f.top+i.elemHeight-k.height()-k.scrollTop();var m=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,o=i.at[1]==="top"?i.targetHeight:-i.targetHeight,c=-2*i.offset[1];f.top+=f.top<0?m+i.targetHeight+c:k>0?m+o+c:0}}}};if(!b.offset.setOffset){b.offset.setOffset=function(f,i){if(/static/.test(b.curCSS(f,"position")))f.style.position=
"relative";var k=b(f),m=k.offset(),o=parseInt(b.curCSS(f,"top",true),10)||0,c=parseInt(b.curCSS(f,"left",true),10)||0;m={top:i.top-m.top+o,left:i.left-m.left+c};"using"in i?i.using.call(f,m):k.css(m)};b.fn.offset=function(f){var i=this[0];if(!i||!i.ownerDocument)return null;if(f)return this.each(function(){b.offset.setOffset(this,f)});return e.call(this)}}})(jQuery);window.freebase=window.fb={mwLWTReloading:false};if(SERVER&&SERVER.acre)window.fb.acre=SERVER.acre;
(function(b,j){if(b.cookie("mwLWTReloaded"))b.cookie("mwLWTReloaded",null,{path:"/"});else{var n=0,g=0;if(typeof acre==="object"&&j.acre&&j.acre.request&&j.acre.request.cookies)g=j.acre.request.cookies.mwLastWriteTime||0;if(document.cookie&&document.cookie!="")for(var e=document.cookie.split(";"),f=0,i=e.length;f<i;f++){var k=b.trim(e[f]);if(k.indexOf("mwLastWriteTime=")===0){k=decodeURIComponent(k.substring(16)).split("|");if(k.length)n=k[0]}}e=n?parseInt(n,10):-1;f=g?parseInt(g,10):-1;if(n&&g&&
f<e){b.cookie("mwLWTReloaded","true",{path:"/"});j.mwLWTReloading=true;window.location.reload(true)}}})(jQuery,window.freebase);
(function(b,j){if(!j.mwLWTReloading){if(!window.console)window.console={log:b.noop,info:b.noop,debug:b.noop,warn:b.noop,error:b.noop};j.dispatch=function(k,m,o,c){if(typeof m!=="function")return false;k=b.event.fix(k||window.event);o||(o=[]);c||(c=this);return m.apply(c,[k].concat(o))};j.get_script=function(k,m){var o=j.get_script.cache,c=o[k];if(c)if(c.state===1)c.callbacks.push(m);else c.state===4&&m();else{c=o[k]={state:0,callbacks:[m]};b.ajax({url:k,dataType:"script",beforeSend:function(){c.state=
1},success:function(){c.state=4;b.each(c.callbacks,function(a,d){d()})},error:function(){c.state=-1}})}};j.get_script.cache={};b(window).bind("fb.user.signedin",function(k,m){console.log("fb.user.signnedin");j.user=m;var o=b("#nav-username a:first");if(o.length){o[0].href+=j.user.id;o.text(j.user.name)}b("#signedin").show()}).bind("fb.user.signedout",function(){console.log("fb.user.signedout");b("#signedout").show()});if(/^https?\:\/\/((www|devel)\.)?(freebase|sandbox\-freebase|branch\.qa\.metaweb|trunk\.qa\.metaweb)\.com(\:\d+)?/.test(j.acre.request.app_url)){var n=
function(k,m){var o=k.indexOf("|"+m+"_");if(o!=-1){o=o+2+m.length;var c=k.indexOf("|",o);if(c!=-1)return decodeURIComponent(k.substr(o,c-o))}return null},g=b.cookie("metaweb-user-info");if(g){var e=n(g,"g"),f=n(g,"u"),i=n(g,"p");i||(i="/user/"+this.name);setTimeout(function(){b(window).trigger("fb.user.signedin",{guid:e,name:f,id:i})},0)}else setTimeout(function(){b(window).trigger("fb.user.signedout")},0)}else b.ajax({url:"/acre/account/user_info",dataType:"json",success:function(k){k&&k.code===
"/api/status/ok"?b(window).trigger("fb.user.signedin",{id:k.id,guid:k.guid,name:k.username}):b(window).trigger("fb.user.signedout")},error:function(){b(window).trigger("fb.user.signedout")}});b(function(){var k=b("#SearchBox .SearchBox-input,#global-search-input"),m=j.acre.freebase.site_host;k.suggest({service_url:m,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var o=b("#site-search-label"),c=b("#site-search-box .fbs-pane");k.bind("fb-select",function(a,d){window.location=
m+"/view"+d.id;return false}).bind("fb-pane-show",function(){o.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",function(){b.trim(k.val())===""?o.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):o.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){o.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){o.is(":visible")||b("#site-search-label").slideDown("fast")}).blur(function(){!c.is(":visible")&&
o.is(":visible")&&b("#site-search-label").slideUp("fast")});b(".SearchBox-form").submit(function(){return b.trim(b("#global-search-input").val()).length==0?false:true});b("input, textarea").textPlaceholder()});j.disable=function(k){b(k).attr("disabled","disabled").addClass("disabled")};j.enable=function(k){b(k).removeAttr("disabled").removeClass("disabled")};j.lang_select=function(k,m){setTimeout(function(){b(window).trigger("fb.lang.select",m)},0)}}})(jQuery,window.freebase);
(function(b){function j(e,f,i){var k=i.relative?e.position().top:e.offset().top,m=i.relative?e.position().left:e.offset().left,o=i.position[0];k-=f.outerHeight()-i.offset[0];m+=e.outerWidth()+i.offset[1];var c=f.outerHeight()+e.outerHeight();if(o=="center")k+=c/2;if(o=="bottom")k+=c;o=i.position[1];e=f.outerWidth()+e.outerWidth();if(o=="center")m-=e/2;if(o=="left")m-=e;return{top:k,left:m}}function n(e,f){var i=this,k=e.add(i),m,o=0,c=0,a=e.attr("title"),d=g[f.effect],h,l=e.is(":input"),p=l&&e.is(":checkbox, :radio, select, :button, :submit"),
r=e.attr("type"),t=f.events[r]||f.events[l?p?"widget":"input":"def"];if(!d)throw'Nonexistent effect "'+f.effect+'"';t=t.split(/,\s*/);if(t.length!=2)throw"Tooltip: bad events configuration for "+r;e.bind(t[0],function(q){clearTimeout(o);if(f.predelay)c=setTimeout(function(){i.show(q)},f.predelay);else i.show(q)}).bind(t[1],function(q){clearTimeout(c);if(f.delay)o=setTimeout(function(){i.hide(q)},f.delay);else i.hide(q)});if(a&&f.cancelDefault){e.removeAttr("title");e.data("title",a)}b.extend(i,{show:function(q){if(!m){if(a)m=
b(f.layout).addClass(f.tipClass).appendTo(document.body).hide().append(a);else if(f.tip)m=b(f.tip).eq(0);else{m=e.next();m.length||(m=e.parent().next())}if(!m.length)throw"Cannot find tooltip for "+e;}if(i.isShown())return i;m.stop(true,true);var s=j(e,m,f);q=q||b.Event();q.type="onBeforeShow";k.trigger(q,[s]);if(q.isDefaultPrevented())return i;s=j(e,m,f);m.css({position:"absolute",top:s.top,left:s.left});h=true;d[0].call(i,function(){q.type="onShow";h="full";k.trigger(q)});s=f.events.tooltip.split(/,\s*/);
m.bind(s[0],function(){clearTimeout(o);clearTimeout(c)});s[1]&&!e.is("input:not(:checkbox, :radio), textarea")&&m.bind(s[1],function(u){u.relatedTarget!=e[0]&&e.trigger(t[1].split(" ")[0])});return i},hide:function(q){if(!m||!i.isShown())return i;q=q||b.Event();q.type="onBeforeHide";k.trigger(q);if(!q.isDefaultPrevented()){h=false;g[f.effect][1].call(i,function(){q.type="onHide";h=false;k.trigger(q)});return i}},isShown:function(q){return q?h=="full":h},getConf:function(){return f},getTip:function(){return m},
getTrigger:function(){return e}});b.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(q,s){b.isFunction(f[s])&&b(i).bind(s,f[s]);i[s]=function(u){b(i).bind(s,u);return i}})}b.tools=b.tools||{version:"@VERSION"};b.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},
layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,f,i){g[e]=[f,i]}};var g={toggle:[function(e){var f=this.getConf(),i=this.getTip();f=f.opacity;f<1&&i.css({opacity:f});i.show();e.call()},function(e){this.getTip().hide();e.call()}],fade:[function(e){var f=this.getConf();this.getTip().fadeTo(f.fadeInSpeed,f.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};b.fn.tooltip=function(e){var f=this.data("tooltip");if(f)return f;e=b.extend(true,{},b.tools.tooltip.conf,e);
if(typeof e.position=="string")e.position=e.position.split(/,?\s/);this.each(function(){f=new n(b(this),e);b(this).data("tooltip",f)});return e.api?f:this}})(jQuery);
jQuery.effects||function(b,j){function n(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return k.transparent;return k[b.trim(c).toLowerCase()]}function g(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},d,h;if(c&&c.length&&c[0]&&c[c[0]])for(var l=c.length;l--;){d=c[l];if(typeof c[d]=="string"){h=d.replace(/\-(\w)/g,function(p,r){return r.toUpperCase()});
a[h]=c[d]}}else for(d in c)if(typeof c[d]==="string")a[d]=c[d];return a}function e(c){var a,d;for(a in c){d=c[a];if(d==null||b.isFunction(d)||a in o||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(d)))delete c[a]}return c}function f(c,a){var d={_:0},h;for(h in a)if(c[h]!=a[h])d[h]=a[h];return d}function i(c,a,d,h){if(typeof c=="object"){h=a;d=null;a=c;c=a.effect}if(b.isFunction(a)){h=a;d=null;a={}}if(typeof a=="number"||b.fx.speeds[a]){h=d;d=a;a={}}if(b.isFunction(d)){h=d;d=null}a=a||{};
d=d||a.duration;d=b.fx.off?0:typeof d=="number"?d:b.fx.speeds[d]||b.fx.speeds._default;h=h||a.complete;return[c,a,d,h]}b.effects={};b.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(c,a){b.fx.step[a]=function(d){if(!d.colorInit){var h;h=d.elem;var l=a,p;do{p=b.curCSS(h,l);if(p!=""&&p!="transparent"||b.nodeName(h,"body"))break;l="backgroundColor"}while(h=h.parentNode);h=n(p);d.start=h;d.end=n(d.end);d.colorInit=true}d.elem.style[a]=
"rgb("+Math.max(Math.min(parseInt(d.pos*(d.end[0]-d.start[0])+d.start[0],10),255),0)+","+Math.max(Math.min(parseInt(d.pos*(d.end[1]-d.start[1])+d.start[1],10),255),0)+","+Math.max(Math.min(parseInt(d.pos*(d.end[2]-d.start[2])+d.start[2],10),255),0)+")"}});var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,
0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,
203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},m=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.effects.animateClass=function(c,a,d,h){if(b.isFunction(d)){h=d;d=null}return this.each(function(){var l=b(this),p=l.attr("style")||" ",r=e(g.call(this)),t,q=l.attr("className");b.each(m,function(s,u){c[u]&&l[u+"Class"](c[u])});
t=e(g.call(this));l.attr("className",q);l.animate(f(r,t),a,d,function(){b.each(m,function(s,u){c[u]&&l[u+"Class"](c[u])});if(typeof l.attr("style")=="object"){l.attr("style").cssText="";l.attr("style").cssText=p}else l.attr("style",p);h&&h.apply(this,arguments)})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(c,a,d,h){return a?b.effects.animateClass.apply(this,[{add:c},a,d,h]):this._addClass(c)},_removeClass:b.fn.removeClass,removeClass:function(c,a,d,h){return a?b.effects.animateClass.apply(this,
[{remove:c},a,d,h]):this._removeClass(c)},_toggleClass:b.fn.toggleClass,toggleClass:function(c,a,d,h,l){return typeof a=="boolean"||a===j?d?b.effects.animateClass.apply(this,[a?{add:c}:{remove:c},d,h,l]):this._toggleClass(c,a):b.effects.animateClass.apply(this,[{toggle:c},a,d,h])},switchClass:function(c,a,d,h,l){return b.effects.animateClass.apply(this,[{add:a,remove:c},d,h,l])}});b.extend(b.effects,{version:"1.8.4",save:function(c,a){for(var d=0;d<a.length;d++)a[d]!==null&&c.data("ec.storage."+a[d],
c[0].style[a[d]])},restore:function(c,a){for(var d=0;d<a.length;d++)a[d]!==null&&c.css(a[d],c.data("ec.storage."+a[d]))},setMode:function(c,a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var d,h;switch(c[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=c[0]/a.height}switch(c[1]){case "left":h=0;break;case "center":h=0.5;break;case "right":h=1;break;default:h=c[1]/a.width}return{x:h,y:d}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();
var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},d=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(d);d=c.parent();if(c.css("position")=="static"){d.css({position:"relative"});c.css({position:"relative"})}else{b.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});b.each(["top","left","bottom","right"],function(h,l){a[l]=c.css(l);if(isNaN(parseInt(a[l],10)))a[l]="auto"});
c.css({position:"relative",top:0,left:0})}return d.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);return c},setTransition:function(c,a,d,h){h=h||{};b.each(a,function(l,p){unit=c.cssUnit(p);if(unit[0]>0)h[p]=unit[0]*d+unit[1]});return h}});b.fn.extend({effect:function(c){var a=i.apply(this,arguments);a={options:a[1],duration:a[2],callback:a[3]};var d=b.effects[c];return d&&!b.fx.off?d.call(this,a):this},_show:b.fn.show,show:function(c){if(!c||
typeof c=="number"||b.fx.speeds[c])return this._show.apply(this,arguments);else{var a=i.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:b.fn.hide,hide:function(c){if(!c||typeof c=="number"||b.fx.speeds[c])return this._hide.apply(this,arguments);else{var a=i.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:b.fn.toggle,toggle:function(c){if(!c||typeof c=="number"||b.fx.speeds[c]||typeof c=="boolean"||b.isFunction(c))return this.__toggle.apply(this,
arguments);else{var a=i.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),d=[];b.each(["em","px","%","pt"],function(h,l){if(a.indexOf(l)>0)d=[parseFloat(a),l]});return d}});b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:"easeOutQuad",swing:function(c,a,d,h,l){return b.easing[b.easing.def](c,a,d,h,l)},easeInQuad:function(c,a,d,h,l){return h*(a/=l)*a+d},easeOutQuad:function(c,a,d,h,l){return-h*(a/=l)*(a-2)+d},easeInOutQuad:function(c,
a,d,h,l){if((a/=l/2)<1)return h/2*a*a+d;return-h/2*(--a*(a-2)-1)+d},easeInCubic:function(c,a,d,h,l){return h*(a/=l)*a*a+d},easeOutCubic:function(c,a,d,h,l){return h*((a=a/l-1)*a*a+1)+d},easeInOutCubic:function(c,a,d,h,l){if((a/=l/2)<1)return h/2*a*a*a+d;return h/2*((a-=2)*a*a+2)+d},easeInQuart:function(c,a,d,h,l){return h*(a/=l)*a*a*a+d},easeOutQuart:function(c,a,d,h,l){return-h*((a=a/l-1)*a*a*a-1)+d},easeInOutQuart:function(c,a,d,h,l){if((a/=l/2)<1)return h/2*a*a*a*a+d;return-h/2*((a-=2)*a*a*a-2)+
d},easeInQuint:function(c,a,d,h,l){return h*(a/=l)*a*a*a*a+d},easeOutQuint:function(c,a,d,h,l){return h*((a=a/l-1)*a*a*a*a+1)+d},easeInOutQuint:function(c,a,d,h,l){if((a/=l/2)<1)return h/2*a*a*a*a*a+d;return h/2*((a-=2)*a*a*a*a+2)+d},easeInSine:function(c,a,d,h,l){return-h*Math.cos(a/l*(Math.PI/2))+h+d},easeOutSine:function(c,a,d,h,l){return h*Math.sin(a/l*(Math.PI/2))+d},easeInOutSine:function(c,a,d,h,l){return-h/2*(Math.cos(Math.PI*a/l)-1)+d},easeInExpo:function(c,a,d,h,l){return a==0?d:h*Math.pow(2,
10*(a/l-1))+d},easeOutExpo:function(c,a,d,h,l){return a==l?d+h:h*(-Math.pow(2,-10*a/l)+1)+d},easeInOutExpo:function(c,a,d,h,l){if(a==0)return d;if(a==l)return d+h;if((a/=l/2)<1)return h/2*Math.pow(2,10*(a-1))+d;return h/2*(-Math.pow(2,-10*--a)+2)+d},easeInCirc:function(c,a,d,h,l){return-h*(Math.sqrt(1-(a/=l)*a)-1)+d},easeOutCirc:function(c,a,d,h,l){return h*Math.sqrt(1-(a=a/l-1)*a)+d},easeInOutCirc:function(c,a,d,h,l){if((a/=l/2)<1)return-h/2*(Math.sqrt(1-a*a)-1)+d;return h/2*(Math.sqrt(1-(a-=2)*
a)+1)+d},easeInElastic:function(c,a,d,h,l){c=1.70158;var p=0,r=h;if(a==0)return d;if((a/=l)==1)return d+h;p||(p=l*0.3);if(r<Math.abs(h)){r=h;c=p/4}else c=p/(2*Math.PI)*Math.asin(h/r);return-(r*Math.pow(2,10*(a-=1))*Math.sin((a*l-c)*2*Math.PI/p))+d},easeOutElastic:function(c,a,d,h,l){c=1.70158;var p=0,r=h;if(a==0)return d;if((a/=l)==1)return d+h;p||(p=l*0.3);if(r<Math.abs(h)){r=h;c=p/4}else c=p/(2*Math.PI)*Math.asin(h/r);return r*Math.pow(2,-10*a)*Math.sin((a*l-c)*2*Math.PI/p)+h+d},easeInOutElastic:function(c,
a,d,h,l){c=1.70158;var p=0,r=h;if(a==0)return d;if((a/=l/2)==2)return d+h;p||(p=l*0.3*1.5);if(r<Math.abs(h)){r=h;c=p/4}else c=p/(2*Math.PI)*Math.asin(h/r);if(a<1)return-0.5*r*Math.pow(2,10*(a-=1))*Math.sin((a*l-c)*2*Math.PI/p)+d;return r*Math.pow(2,-10*(a-=1))*Math.sin((a*l-c)*2*Math.PI/p)*0.5+h+d},easeInBack:function(c,a,d,h,l,p){if(p==j)p=1.70158;return h*(a/=l)*a*((p+1)*a-p)+d},easeOutBack:function(c,a,d,h,l,p){if(p==j)p=1.70158;return h*((a=a/l-1)*a*((p+1)*a+p)+1)+d},easeInOutBack:function(c,
a,d,h,l,p){if(p==j)p=1.70158;if((a/=l/2)<1)return h/2*a*a*(((p*=1.525)+1)*a-p)+d;return h/2*((a-=2)*a*(((p*=1.525)+1)*a+p)+2)+d},easeInBounce:function(c,a,d,h,l){return h-b.easing.easeOutBounce(c,l-a,0,h,l)+d},easeOutBounce:function(c,a,d,h,l){return(a/=l)<1/2.75?h*7.5625*a*a+d:a<2/2.75?h*(7.5625*(a-=1.5/2.75)*a+0.75)+d:a<2.5/2.75?h*(7.5625*(a-=2.25/2.75)*a+0.9375)+d:h*(7.5625*(a-=2.625/2.75)*a+0.984375)+d},easeInOutBounce:function(c,a,d,h,l){if(a<l/2)return b.easing.easeInBounce(c,a*2,0,h,l)*0.5+
d;return b.easing.easeOutBounce(c,a*2-l,0,h,l)*0.5+h*0.5+d}})}(jQuery);
(function(b){b.effects.highlight=function(j){return this.queue(function(){var n=b(this),g=["backgroundImage","backgroundColor","opacity"],e=b.effects.setMode(n,j.options.mode||"show"),f={backgroundColor:n.css("backgroundColor")};if(e=="hide")f.opacity=0;b.effects.save(n,g);n.show().css({backgroundImage:"none",backgroundColor:j.options.color||"#ffff99"}).animate(f,{queue:false,duration:j.duration,easing:j.options.easing,complete:function(){e=="hide"&&n.hide();b.effects.restore(n,g);e=="show"&&!b.support.opacity&&
this.style.removeAttribute("filter");j.callback&&j.callback.apply(this,arguments);n.dequeue()}})})}})(jQuery);
(function(b,j){var n=j.triples={tip:null,build_query:null,build_query_url:null,init_row_menu:function(g){n.tip=b("#triple-tip");n.build_query=b("#build-query");n.build_query_url=n.build_query.attr("href");b(".row-menu-trigger",g).each(function(){var e=b(this);e.tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-10,-10],effect:"fade",delay:300,tip:"#triple-tip",onBeforeShow:function(){var f=this.getTrigger().parents("tr:first").metadata();n.build_query.attr("href",n.build_query_url+
"?q="+f.mql)}});e.parents("tr:first").hover(n.row_menu_hoverover,n.row_menu_hoverout)})},row_menu_hoverover:function(){var g=b(this);g.addClass("row-hover");b(".row-menu-trigger",g).css("visibility","visible")},row_menu_hoverout:function(){var g=b(this);b(".row-menu-trigger",g).css("visibility","hidden");g.removeClass("row-hover")},update_menu:function(){var g=n.last_position||0,e=b(window).scrollTop(),f=null;b(window).scrollTop();var i=b("b","#section-nav-current"),k=b("#section-nav-current");if(e>
g)n.menu_map_order.forEach(function(o){if(n.menu_map[o]<e)f=o});else for(g=n.menu_map_order.length-1;g>=0;g--){var m=n.menu_map_order[g];if(e<n.table_map[m])f=m}if(f!=null){m=".toc-"+f+"> a";g=b("b",k).html();m=b(m).html();if(g!=m){i.html(m);n.last_position=e;k.effect("highlight",{color:"#ececec"},500)}}},init:function(){var g=b("#content-wrapper"),e=b("#content-sub");e.offset();var f=g.offset().top,i=b("#section-nav-current"),k=b("#section-nav");n.menu_map={};n.menu_map_order=[];n.table_map={};b(".table-title > a").each(function(){var c=
b(this),a=c.offset().top;c=c.attr("name");n.menu_map[c]=a;a=b("[name="+c+"]").parent().next("table");n.table_map[c]=a.offset().top+a.height()-20;n.menu_map_order.push(c)});var m=null;b(window).scroll(function(){clearTimeout(m);m=setTimeout(n.update_menu,200);if(b(window).scrollTop()>=f){e.css({position:"fixed",right:"30px"});e.animate({top:"0"})}else e.css({position:"absolute",right:"0",top:"0"})});b("#section-nav-current").click(function(){k.is(":visible")?k.hide():k.show()});k.mouseleave(function(){setTimeout(function(){k.fadeOut()},
1500)});b("li > a",k).click(function(){b("b",i).html(b(this).html());k.hide()});n.init_row_menu();b.tablesorter.defaults.cssAsc="column-header-asc";b.tablesorter.defaults.cssDesc="column-header-desc";b.tablesorter.defaults.cssHeader="column-header";b(".table-sortable").tablesorter();b(".filter-form-trigger").click(function(){var c=b(this).siblings(".filter-form");c.is(":hidden")?c.slideDown(function(){b(":text:first",c).focus()}):c.slideUp()});b("input[name=creator]").suggest({service_url:j.acre.freebase.service_url,
type:"/type/user"}).bind("fb-select",function(c,a){b(this).val(a.id).parents("form:first").submit()});n.article_tip=b("#article-tip");n.image_tip=b("#image-tip");var o={article:{tip:n.article_tip,onBeforeShow:function(c){b.ajax({url:j.acre.freebase.service_url+"/api/trans/blurb"+c,dataType:"jsonp",jsonpCallback:"window.freebase.triples.article_callback"})}},image:{tip:n.image_tip,onBeforeShow:function(c){b("img",n.image_tip).attr("src",j.acre.freebase.service_url+"/api/trans/raw"+c).show()}}};b(".article").add(b(".image")).each(function(){var c=
b(this),a=c.hasClass("article")?"article":"image",d=o[a];c.removeAttr("title").tooltip({position:"top center",effect:"fade",predelay:500,tip:d.tip,onBeforeShow:function(){var h=this.getTrigger().metadata().id,l=d.tip.data("id");if(h!==l){d.tip.data("id",h);d.onBeforeShow(h)}}})})},article_callback:function(g){n.article_tip.text(g.result.body).show()}};b(n.init)})(jQuery,window.freebase);
