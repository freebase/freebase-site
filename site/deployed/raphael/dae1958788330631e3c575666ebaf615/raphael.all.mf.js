Raphael=function(){function q(){if(q.is(arguments[0],O)){for(var a=arguments[0],b=Ia[x](q,a.splice(0,3+q.is(a[0],D))),c=b.set(),e=0,g=a[s];e<g;e++){var f=a[e]||{};p.test(f.type)&&c[Y](b[f.type]().attr(f))}return c}return Ia[x](q,arguments)}function P(a,b,c){function e(){var g=Array[k].slice.call(arguments,0),f=g[B]("\u25ba"),i=e.cache=e.cache||{},j=e.count=e.count||[];if(i[m](f))return c?c(i[f]):i[f];j[s]>=1E3&&delete i[j.shift()];j[Y](f);i[f]=a[x](b,g);return c?c(i[f]):i[f]}return e}function R(){return this.x+
C+this.y}function M(a){return function(b,c,e,g){var f={back:a};q.is(e,"function")?(g=e):(f.rot=e);b&&b.constructor==U&&(b=b.attrs.path);b&&(f.along=b);return this.animate(f,c,g)}}q.version="1.4.3";var o=/[, ]+/,p=/^(circle|rect|path|ellipse|text|image)$/,k="prototype",m="hasOwnProperty",h=document,t=window,y={was:Object[k][m].call(t,"Raphael"),is:t.Raphael},u=function(){},x="apply",I="createTouch"in h,C=" ",E="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(C),
T={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B="join",s="length",v=String[k].toLowerCase,w=Math,G=w.max,N=w.min,D="number",O="array",L=Object[k].toString,V=w.pow,Y="push",fa=/^(?=[\da-f]$)/,S=/^url\(['"]?([^\)]+?)['"]?\)$/i,ba=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,
Q=w.round,W=parseFloat,ha=parseInt,qa=String[k].toUpperCase,X={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,
target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ga={along:"along",blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rotation:"csv",rx:D,ry:D,scale:"csv",stroke:"colour","stroke-opacity":D,"stroke-width":D,translation:"csv",width:D,x:D,y:D};q.type=t.SVGAngle||h.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(q.type=="VML"){var aa=h.createElement("div");
aa.innerHTML="<!--[if vml]><br><br><![endif]--\>";if(aa.childNodes[s]!=2)return q.type=null;aa=null}q.svg=!(q.vml=q.type=="VML");u[k]=q[k];q._id=0;q._oid=0;q.fn={};q.is=function(a,b){b=v.call(b);return b=="object"&&a===Object(a)||b=="undefined"&&typeof a==b||b=="null"&&a==null||v.call(L.call(a).slice(8,-1))==b};q.setWindow=function(a){t=a;h=t.document};var da=function(a){if(q.vml){var b=/^\s+|\s+$/g;da=P(function(e){var g;e=(e+"").replace(b,"");try{var f=new t.ActiveXObject("htmlfile");f.write("<body>");
f.close();g=f.body}catch(i){g=t.createPopup().document.body}f=g.createTextRange();try{g.style.color=e;var j=f.queryCommandValue("ForeColor");return"#"+("000000"+((j&255)<<16|j&65280|(j&16711680)>>>16).toString(16)).slice(-6)}catch(l){return"none"}})}else{var c=h.createElement("i");c.title="Rapha\u00ebl Colour Picker";c.style.display="none";h.body.appendChild(c);da=P(function(e){c.style.color=e;return h.defaultView.getComputedStyle(c,"").getPropertyValue("color")})}return da(a)},ka=function(){return"hsb("+
[this.h,this.s,this.b]+")"},ja=function(){return this.hex};q.hsb2rgb=P(function(a,b,c){if(q.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){c=a.b;b=a.s;a=a.h}var e;if(c==0)return{r:0,g:0,b:0,hex:"#000"};if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=~~(a*6);a=a*6-e;var g=c*(1-b),f=c*(1-b*a),i=c*(1-b*(1-a));a=[c,f,g,g,i,c,c][e];b=[i,c,c,f,g,g,i][e];e=[g,g,i,c,c,f,g][e];a*=255;b*=255;e*=255;c={r:a,g:b,b:e,toString:ja};a=(~~a).toString(16);b=(~~b).toString(16);e=(~~e).toString(16);a=a.replace(fa,"0");b=b.replace(fa,
"0");e=e.replace(fa,"0");c.hex="#"+a+b+e;return c},q);q.rgb2hsb=P(function(a,b,c){if(q.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(q.is(a,"string")){var e=q.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=G(a,b,c);var g=N(a,b,c);if(g==e)return{h:0,s:0,b:e};else{g=e-g;a=a==e?(b-c)/g:b==e?2+(c-a)/g:4+(a-b)/g;a/=6;a<0&&a++;a>1&&a--}return{h:a,s:g/e,b:e,toString:ka}},q);var sa=/,?([achlmqrstvxz]),?/gi,la=/\s*,\s*/,oa={hs:1,rg:1};q._path2string=function(){return this.join(",").replace(sa,
"$1")};q.getRGB=P(function(a){if(!a||(a+="").indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(a=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(oa[m](a.substring(0,2))||a.charAt()=="#")&&(a=da(a));var b,c,e,g,f;if(a=a.match(ba)){if(a[2]){e=ha(a[2].substring(5),16);c=ha(a[2].substring(3,5),16);b=ha(a[2].substring(1,3),16)}if(a[3]){e=ha((f=a[3].charAt(3))+f,16);c=ha((f=a[3].charAt(2))+f,16);b=ha((f=a[3].charAt(1))+f,16)}if(a[4]){a=a[4].split(la);b=W(a[0]);c=W(a[1]);e=W(a[2]);g=W(a[3])}if(a[5]){a=
a[5].split(la);b=W(a[0])*2.55;c=W(a[1])*2.55;e=W(a[2])*2.55;g=W(a[3])}if(a[6]){a=a[6].split(la);b=W(a[0]);c=W(a[1]);e=W(a[2]);return q.hsb2rgb(b,c,e)}if(a[7]){a=a[7].split(la);b=W(a[0])*2.55;c=W(a[1])*2.55;e=W(a[2])*2.55;return q.hsb2rgb(b,c,e)}a={r:b,g:c,b:e};b=(~~b).toString(16);c=(~~c).toString(16);e=(~~e).toString(16);b=b.replace(fa,"0");c=c.replace(fa,"0");e=e.replace(fa,"0");a.hex="#"+b+c+e;isFinite(W(g))&&(a.o=g);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},q);q.getColor=function(a){a=
this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return b.hex};q.getColor.reset=function(){delete this.start};var va=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,ta=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;q.parsePathString=P(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];if(q.is(a,O)&&q.is(a[0],O))c=Da(a);c[s]||(a+"").replace(va,
function(e,g,f){var i=[];e=v.call(g);f.replace(ta,function(j,l){l&&i[Y](+l)});if(e=="m"&&i[s]>2){c[Y]([g].concat(i.splice(0,2)));e="l";g=g=="m"?"l":"L"}for(;i[s]>=b[e];){c[Y]([g].concat(i.splice(0,b[e])));if(!b[e])break}});c.toString=q._path2string;return c});q.findDotsAtSegment=function(a,b,c,e,g,f,i,j,l){var n=1-l,z=V(n,3)*a+V(n,2)*3*l*c+n*3*l*l*g+V(l,3)*i;n=V(n,3)*b+V(n,2)*3*l*e+n*3*l*l*f+V(l,3)*j;var A=a+2*l*(c-a)+l*l*(g-2*c+a),J=b+2*l*(e-b)+l*l*(f-2*e+b),ca=c+2*l*(g-c)+l*l*(i-2*g+c),H=e+2*l*
(f-e)+l*l*(j-2*f+e);a=(1-l)*a+l*c;b=(1-l)*b+l*e;g=(1-l)*g+l*i;f=(1-l)*f+l*j;j=90-w.atan((A-ca)/(J-H))*180/w.PI;(A>ca||J<H)&&(j+=180);return{x:z,y:n,m:{x:A,y:J},n:{x:ca,y:H},start:{x:a,y:b},end:{x:g,y:f},alpha:j}};var wa=P(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=Ea(a);for(var b=0,c=0,e=[],g=[],f,i=0,j=a[s];i<j;i++){f=a[i];if(f[0]=="M"){b=f[1];c=f[2];e[Y](b);g[Y](c)}else{b=kb(b,c,f[1],f[2],f[3],f[4],f[5],f[6]);e=e.concat(b.min.x,b.max.x);g=g.concat(b.min.y,b.max.y);b=f[5];c=f[6]}}a=N[x](0,
e);f=N[x](0,g);return{x:a,y:f,width:G[x](0,e)-a,height:G[x](0,g)-f}}),Da=function(a){var b=[];if(!q.is(a,O)||!q.is(a&&a[0],O))a=q.parsePathString(a);for(var c=0,e=a[s];c<e;c++){b[c]=[];for(var g=0,f=a[c][s];g<f;g++)b[c][g]=a[c][g]}b.toString=q._path2string;return b},Oa=P(function(a){if(!q.is(a,O)||!q.is(a&&a[0],O))a=q.parsePathString(a);var b=[],c=0,e=0,g=0,f=0,i=0;if(a[0][0]=="M"){c=a[0][1];e=a[0][2];g=c;f=e;i++;b[Y](["M",c,e])}i=i;for(var j=a[s];i<j;i++){var l=b[i]=[],n=a[i];if(n[0]!=v.call(n[0])){l[0]=
v.call(n[0]);switch(l[0]){case "a":l[1]=n[1];l[2]=n[2];l[3]=n[3];l[4]=n[4];l[5]=n[5];l[6]=+(n[6]-c).toFixed(3);l[7]=+(n[7]-e).toFixed(3);break;case "v":l[1]=+(n[1]-e).toFixed(3);break;case "m":g=n[1];f=n[2];default:for(var z=1,A=n[s];z<A;z++)l[z]=+(n[z]-(z%2?c:e)).toFixed(3)}}else{b[i]=[];if(n[0]=="m"){g=n[1]+c;f=n[2]+e}l=0;for(z=n[s];l<z;l++)b[i][l]=n[l]}n=b[i][s];switch(b[i][0]){case "z":c=g;e=f;break;case "h":c+=+b[i][n-1];break;case "v":e+=+b[i][n-1];break;default:c+=+b[i][n-2];e+=+b[i][n-1]}}b.toString=
q._path2string;return b},0,Da),ya=P(function(a){if(!q.is(a,O)||!q.is(a&&a[0],O))a=q.parsePathString(a);var b=[],c=0,e=0,g=0,f=0,i=0;if(a[0][0]=="M"){c=+a[0][1];e=+a[0][2];g=c;f=e;i++;b[0]=["M",c,e]}i=i;for(var j=a[s];i<j;i++){var l=b[i]=[],n=a[i];if(n[0]!=qa.call(n[0])){l[0]=qa.call(n[0]);switch(l[0]){case "A":l[1]=n[1];l[2]=n[2];l[3]=n[3];l[4]=n[4];l[5]=n[5];l[6]=+(n[6]+c);l[7]=+(n[7]+e);break;case "V":l[1]=+n[1]+e;break;case "H":l[1]=+n[1]+c;break;case "M":g=+n[1]+c;f=+n[2]+e;default:for(var z=
1,A=n[s];z<A;z++)l[z]=+n[z]+(z%2?c:e)}}else{z=0;for(A=n[s];z<A;z++)b[i][z]=n[z]}switch(l[0]){case "Z":c=g;e=f;break;case "H":c=l[1];break;case "V":e=l[1];break;default:c=b[i][b[i][s]-2];e=b[i][b[i][s]-1]}}b.toString=q._path2string;return b},null,Da),Pa=function(a,b,c,e,g,f){var i=1/3,j=2/3;return[i*a+j*c,i*b+j*e,i*g+j*c,i*f+j*e,g,f]},Qa=function(a,b,c,e,g,f,i,j,l,n){var z=w.PI,A=z*120/180,J=z/180*(+g||0),ca=[],H,F=P(function(ia,ua,Fa){var lb=ia*w.cos(Fa)-ua*w.sin(Fa);ia=ia*w.sin(Fa)+ua*w.cos(Fa);
return{x:lb,y:ia}});if(n){$=n[0];H=n[1];f=n[2];ea=n[3]}else{H=F(a,b,-J);a=H.x;b=H.y;H=F(j,l,-J);j=H.x;l=H.y;w.cos(z/180*g);w.sin(z/180*g);H=(a-j)/2;$=(b-l)/2;ea=H*H/(c*c)+$*$/(e*e);if(ea>1){ea=w.sqrt(ea);c=ea*c;e=ea*e}ea=c*c;var K=e*e;ea=(f==i?-1:1)*w.sqrt(w.abs((ea*K-ea*$*$-K*H*H)/(ea*$*$+K*H*H)));f=ea*c*$/e+(a+j)/2;var ea=ea*-e*H/c+(b+l)/2,$=w.asin(((b-ea)/e).toFixed(7));H=w.asin(((l-ea)/e).toFixed(7));$=a<f?z-$:$;H=j<f?z-H:H;$<0&&($=z*2+$);H<0&&(H=z*2+H);if(i&&$>H)$-=z*2;if(!i&&H>$)H-=z*2}if(w.abs(H-
$)>A){ca=H;z=j;K=l;H=$+A*(i&&H>$?1:-1);j=f+c*w.cos(H);l=ea+e*w.sin(H);ca=Qa(j,l,c,e,g,0,i,z,K,[H,ca,f,ea])}f=H-$;g=w.cos($);A=w.sin($);i=w.cos(H);z=w.sin(H);H=w.tan(f/4);c=4/3*c*H;H=4/3*e*H;e=[a,b];a=[a+c*A,b-H*g];b=[j+c*z,l-H*i];j=[j,l];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(n)return[a,b,j].concat(ca);else{ca=[a,b,j].concat(ca)[B]().split(",");n=[];j=0;for(l=ca[s];j<l;j++)n[j]=j%2?F(ca[j-1],ca[j],J).y:F(ca[j],ca[j+1],J).x;return n}},za=function(a,b,c,e,g,f,i,j,l){var n=1-l;return{x:V(n,3)*a+V(n,2)*
3*l*c+n*3*l*l*g+V(l,3)*i,y:V(n,3)*b+V(n,2)*3*l*e+n*3*l*l*f+V(l,3)*j}},kb=P(function(a,b,c,e,g,f,i,j){var l=g-2*c+a-(i-2*g+c),n=2*(c-a)-2*(g-c),z=a-c,A=(-n+w.sqrt(n*n-4*l*z))/2/l;l=(-n-w.sqrt(n*n-4*l*z))/2/l;var J=[b,j],ca=[a,i];w.abs(A)>1E12&&(A=0.5);w.abs(l)>1E12&&(l=0.5);if(A>0&&A<1){A=za(a,b,c,e,g,f,i,j,A);ca[Y](A.x);J[Y](A.y)}if(l>0&&l<1){A=za(a,b,c,e,g,f,i,j,l);ca[Y](A.x);J[Y](A.y)}l=f-2*e+b-(j-2*f+e);n=2*(e-b)-2*(f-e);z=b-e;A=(-n+w.sqrt(n*n-4*l*z))/2/l;l=(-n-w.sqrt(n*n-4*l*z))/2/l;w.abs(A)>
1E12&&(A=0.5);w.abs(l)>1E12&&(l=0.5);if(A>0&&A<1){A=za(a,b,c,e,g,f,i,j,A);ca[Y](A.x);J[Y](A.y)}if(l>0&&l<1){A=za(a,b,c,e,g,f,i,j,l);ca[Y](A.x);J[Y](A.y)}return{min:{x:N[x](0,ca),y:N[x](0,J)},max:{x:G[x](0,ca),y:G[x](0,J)}}}),Ea=P(function(a,b){var c=ya(a),e=b&&ya(b),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(F,K){var ea,$;if(!F)return["C",K.x,K.y,K.x,K.y,K.x,K.y];!(F[0]in{T:1,Q:1})&&(K.qx=K.qy=null);switch(F[0]){case "M":K.X=F[1];K.Y=F[2];
break;case "A":F=["C"].concat(Qa[x](0,[K.x,K.y].concat(F.slice(1))));break;case "S":ea=K.x+(K.x-(K.bx||K.x));$=K.y+(K.y-(K.by||K.y));F=["C",ea,$].concat(F.slice(1));break;case "T":K.qx=K.x+(K.x-(K.qx||K.x));K.qy=K.y+(K.y-(K.qy||K.y));F=["C"].concat(Pa(K.x,K.y,K.qx,K.qy,F[1],F[2]));break;case "Q":K.qx=F[1];K.qy=F[2];F=["C"].concat(Pa(K.x,K.y,F[1],F[2],F[3],F[4]));break;case "L":F=["C"].concat([K.x,K.y,F[1],F[2],F[1],F[2]]);break;case "H":F=["C"].concat([K.x,K.y,F[1],K.y,F[1],K.y]);break;case "V":F=
["C"].concat([K.x,K.y,K.x,F[1],K.x,F[1]]);break;case "Z":F=["C"].concat([K.x,K.y,K.X,K.Y,K.X,K.Y]);break}return F},j=function(F,K){if(F[K][s]>7){F[K].shift();for(var ea=F[K];ea[s];)F.splice(K++,0,["C"].concat(ea.splice(0,6)));F.splice(K,1);z=G(c[s],e&&e[s]||0)}},l=function(F,K,ea,$,ia){if(F&&K&&F[ia][0]=="M"&&K[ia][0]!="M"){K.splice(ia,0,["M",$.x,$.y]);ea.bx=0;ea.by=0;ea.x=F[ia][1];ea.y=F[ia][2];z=G(c[s],e&&e[s]||0)}},n=0,z=G(c[s],e&&e[s]||0);for(;n<z;n++){c[n]=i(c[n],g);j(c,n);e&&(e[n]=i(e[n],f));
e&&j(e,n);l(c,e,g,f,n);l(e,c,f,g,n);var A=c[n],J=e&&e[n],ca=A[s],H=e&&J[s];g.x=A[ca-2];g.y=A[ca-1];g.bx=W(A[ca-4])||g.x;g.by=W(A[ca-3])||g.y;f.bx=e&&(W(J[H-4])||f.x);f.by=e&&(W(J[H-3])||f.y);f.x=e&&J[H-2];f.y=e&&J[H-1]}return e?[c,e]:c},null,Da),Ra=P(function(a){for(var b=[],c=0,e=a[s];c<e;c++){var g={},f=a[c].match(/^([^:]*):?([\d\.]*)/);g.color=q.getRGB(f[1]);if(g.color.error)return null;g.color=g.color.hex;f[2]&&(g.offset=f[2]+"%");b[Y](g)}c=1;for(e=b[s]-1;c<e;c++)if(!b[c].offset){a=W(b[c-1].offset||
0);f=0;for(g=c+1;g<e;g++)if(b[g].offset){f=b[g].offset;break}if(!f){f=100;g=e}f=W(f);for(f=(f-a)/(g-c+1);c<g;c++){a+=f;b[c].offset=a+"%"}}return b}),Sa=function(a,b,c,e){if(q.is(a,"string")||q.is(a,"object")){a=q.is(a,"string")?h.getElementById(a):a;if(a.tagName)return b==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:b,height:c}}else return{container:1,x:a,y:b,width:c,height:e}},Ja=function(a,b){var c=this;for(var e in b)if(b[m](e)&&
!(e in a))switch(typeof b[e]){case "function":(function(g){a[e]=a===c?g:function(){return g[x](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};Ja.call(this,a[e],b[e]);break;default:a[e]=b[e];break}},xa=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Ta=function(a,b){if(b.top!==a){xa(a,b);a.next=null;a.prev=b.top;b.top.next=a;b.top=a}},Ua=function(a,b){if(b.bottom!==a){xa(a,b);a.next=b.bottom;a.prev=null;b.bottom.prev=
a;b.bottom=a}},Va=function(a,b,c){xa(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Wa=function(a,b,c){xa(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},Xa=function(a){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}},Ya=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(q.svg){u[k].svgns="http://www.w3.org/2000/svg";u[k].xlink="http://www.w3.org/1999/xlink";Q=function(a){return+a+
(~~a===a)*0.5};var Z=function(a,b){if(b)for(var c in b)b[m](c)&&a.setAttribute(c,b[c]+"");else{a=h.createElementNS(u[k].svgns,a);a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}};q.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Za=function(a,b){var c=Z("path");b.canvas&&b.canvas.appendChild(c);c=new U(c,b);c.type="path";ra(c,{fill:"none",stroke:"#000",path:a});return c},Aa=function(a,b,c){var e="linear",g=0.5,f=0.5,i=a.style;b=(b+"").replace(Ya,
function(z,A,J){e="radial";if(A&&J){g=W(A);f=W(J);z=(f>0.5)*2-1;V(g-0.5,2)+V(f-0.5,2)>0.25&&(f=w.sqrt(0.25-V(g-0.5,2))*z+0.5)&&f!=0.5&&(f=f.toFixed(5)-1.0E-5*z)}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var j=b.shift();j=-W(j);if(isNaN(j))return null;j=[0,0,w.cos(j*w.PI/180),w.sin(j*w.PI/180)];var l=1/(G(w.abs(j[2]),w.abs(j[3]))||1);j[2]*=l;j[3]*=l;if(j[2]<0){j[0]=-j[2];j[2]=0}if(j[3]<0){j[1]=-j[3];j[3]=0}}b=Ra(b);if(!b)return null;l=a.getAttribute("fill");(l=l.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(h.getElementById(l[1]));
l=Z(e+"Gradient");l.id="r"+(q._id++).toString(36);Z(l,e=="radial"?{fx:g,fy:f}:{x1:j[0],y1:j[1],x2:j[2],y2:j[3]});c.defs.appendChild(l);c=0;for(j=b[s];c<j;c++){var n=Z("stop");Z(n,{offset:b[c].offset?b[c].offset:!c?"0%":"100%","stop-color":b[c].color||"#fff"});l.appendChild(n)}Z(a,{fill:"url(#"+l.id+")",opacity:1,"fill-opacity":1});i.fill="";i.opacity=1;return i.fillOpacity=1},Ka=function(a){var b=a.getBBox();Z(a.pattern,{patternTransform:q.format("translate({0},{1})",b.x,b.y)})},ra=function(a,b){var c=
{"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,g=a.attrs,f=a.rotate(),i=function(H,F){if(F=c[v.call(F)]){for(var K=H.attrs["stroke-width"]||"1",ea={round:K,square:K,butt:0}[H.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,$=[],ia=F[s];ia--;)$[ia]=F[ia]*K+(ia%2?1:-1)*ea;Z(e,{"stroke-dasharray":$[B](",")})}};b[m]("rotation")&&(f=b.rotation);var j=(f+"").split(o);if(j.length-1){j[1]=
+j[1];j[2]=+j[2]}else j=null;W(f)&&a.rotate(0,true);for(var l in b)if(b[m](l))if(X[m](l)){var n=b[l];g[l]=n;switch(l){case "blur":a.blur(n);break;case "rotation":a.rotate(n,true);break;case "href":case "title":case "target":var z=e.parentNode;if(v.call(z.tagName)!="a"){var A=Z("a");z.insertBefore(A,e);A.appendChild(e);z=A}z.setAttributeNS(a.paper.xlink,l,n);break;case "cursor":e.style.cursor=n;break;case "clip-rect":z=(n+"").split(o);if(z[s]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);
var J=Z("clipPath");A=Z("rect");J.id="r"+(q._id++).toString(36);Z(A,{x:z[0],y:z[1],width:z[2],height:z[3]});J.appendChild(A);a.paper.defs.appendChild(J);Z(e,{"clip-path":"url(#"+J.id+")"});a.clip=A}if(!n){(n=h.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&n.parentNode.removeChild(n);Z(e,{"clip-path":""});delete a.clip}break;case "path":if(a.type=="path")Z(e,{d:n?(g.path=ya(n)):"M0,0"});break;case "width":e.setAttribute(l,n);if(g.fx){l="x";n=g.x}else break;case "x":if(g.fx)n=
-g.x-(g.width||0);case "rx":if(l=="rx"&&a.type=="rect")break;case "cx":j&&(l=="x"||l=="cx")&&(j[1]+=n-g[l]);e.setAttribute(l,Q(n));a.pattern&&Ka(a);break;case "height":e.setAttribute(l,n);if(g.fy){l="y";n=g.y}else break;case "y":if(g.fy)n=-g.y-(g.height||0);case "ry":if(l=="ry"&&a.type=="rect")break;case "cy":j&&(l=="y"||l=="cy")&&(j[2]+=n-g[l]);e.setAttribute(l,Q(n));a.pattern&&Ka(a);break;case "r":a.type=="rect"?Z(e,{rx:n,ry:n}):e.setAttribute(l,n);break;case "src":a.type=="image"&&e.setAttributeNS(a.paper.xlink,
"href",n);break;case "stroke-width":e.style.strokeWidth=n;e.setAttribute(l,n);g["stroke-dasharray"]&&i(a,g["stroke-dasharray"]);break;case "stroke-dasharray":i(a,n);break;case "translation":n=(n+"").split(o);n[0]=+n[0]||0;n[1]=+n[1]||0;if(j){j[1]+=n[0];j[2]+=n[1]}Ga.call(a,n[0],n[1]);break;case "scale":n=(n+"").split(o);a.scale(+n[0]||1,+n[1]||+n[0]||1,isNaN(W(n[2]))?null:+n[2],isNaN(W(n[3]))?null:+n[3]);break;case "fill":if(z=(n+"").match(S)){J=Z("pattern");var ca=Z("image");J.id="r"+(q._id++).toString(36);
Z(J,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});Z(ca,{x:0,y:0});ca.setAttributeNS(a.paper.xlink,"href",z[1]);J.appendChild(ca);n=h.createElement("img");n.style.cssText="position:absolute;left:-9999em;top-9999em";n.onload=function(){Z(J,{width:this.offsetWidth,height:this.offsetHeight});Z(ca,{width:this.offsetWidth,height:this.offsetHeight});h.body.removeChild(this);a.paper.safari()};h.body.appendChild(n);n.src=z[1];a.paper.defs.appendChild(J);e.style.fill="url(#"+J.id+")";Z(e,{fill:"url(#"+
J.id+")"});a.pattern=J;a.pattern&&Ka(a);break}z=q.getRGB(n);if(z.error){if(({circle:1,ellipse:1}[m](a.type)||(n+"").charAt()!="r")&&Aa(e,n,a.paper)){g.gradient=n;g.fill="none";break}}else{delete b.gradient;delete g.gradient;!q.is(g.opacity,"undefined")&&q.is(b.opacity,"undefined")&&Z(e,{opacity:g.opacity});!q.is(g["fill-opacity"],"undefined")&&q.is(b["fill-opacity"],"undefined")&&Z(e,{"fill-opacity":g["fill-opacity"]})}z[m]("o")&&Z(e,{"fill-opacity":z.o/100});case "stroke":z=q.getRGB(n);e.setAttribute(l,
z.hex);l=="stroke"&&z[m]("o")&&Z(e,{"stroke-opacity":z.o/100});break;case "gradient":(({circle:1,ellipse:1})[m](a.type)||(n+"").charAt()!="r")&&Aa(e,n,a.paper);break;case "opacity":case "fill-opacity":if(g.gradient){if(z=h.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""))){z=z.getElementsByTagName("stop");z[z[s]-1].setAttribute("stop-opacity",n)}break}default:l=="font-size"&&(n=ha(n,10)+"px");z=l.replace(/(\-.)/g,function(H){return qa.call(H.substring(1))});e.style[z]=n;e.setAttribute(l,
n);break}}mb(a,b);if(j)a.rotate(j.join(C));else W(f)&&a.rotate(f,true)},mb=function(a,b){if(!(a.type!="text"||!(b[m]("text")||b[m]("font")||b[m]("font-size")||b[m]("x")||b[m]("y")))){var c=a.attrs,e=a.node,g=e.firstChild?ha(h.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(b[m]("text")){for(c.text=b.text;e.firstChild;)e.removeChild(e.firstChild);for(var f=(b.text+"").split("\n"),i=0,j=f[s];i<j;i++)if(f[i]){var l=Z("tspan");i&&Z(l,{dy:g*1.2,x:c.x});l.appendChild(h.createTextNode(f[i]));
e.appendChild(l)}}else{f=e.getElementsByTagName("tspan");i=0;for(j=f[s];i<j;i++)i&&Z(f[i],{dy:g*1.2,x:c.x})}Z(e,{y:c.y});g=a.getBBox();(g=c.y-(g.y+g.height/2))&&isFinite(g)&&Z(e,{y:c.y+g})}},U=function(a,b){this[0]=a;this.id=q._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null};U[k].rotate=function(a,b,c){if(this.removed)return this;
if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](C);return this._.rt.deg}var e=this.getBBox();a=(a+"").split(o);if(a[s]-1){b=W(a[1]);c=W(a[2])}a=W(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=b==null?e.x+e.width/2:b;c=c==null?e.y+e.height/2:c;if(this._.rt.deg){this.transformations[0]=q.format("rotate({0} {1} {2})",this._.rt.deg,b,c);this.clip&&Z(this.clip,{transform:q.format("rotate({0} {1} {2})",-this._.rt.deg,
b,c)})}else{this.transformations[0]="";this.clip&&Z(this.clip,{transform:""})}Z(this.node,{transform:this.transformations[B](C)});return this};U[k].hide=function(){!this.removed&&(this.node.style.display="none");return this};U[k].show=function(){!this.removed&&(this.node.style.display="");return this};U[k].remove=function(){if(!this.removed){xa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};U[k].getBBox=function(){if(this.removed)return this;
if(this.type=="path")return wa(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=true}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var e=0,g=this.node.getNumberOfChars();e<g;e++){var f=this.node.getExtentOfChar(e);f.y<b.y&&(b.y=f.y);f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y);f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}}a&&this.hide();return b};U[k].attr=function(a,b){if(this.removed)return this;
if(a==null){var c={};for(var e in this.attrs)if(this.attrs[m](e))c[e]=this.attrs[e];this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(b==null&&q.is(a,"string")){if(a=="translation")return Ga.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(b==
null&&q.is(a,O)){c={};e=0;for(var g=a.length;e<g;e++)c[a[e]]=this.attr(a[e]);return c}if(b!=null){c={};c[a]=b;ra(this,c)}else a!=null&&q.is(a,"object")&&ra(this,a);return this};U[k].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Ta(this,a);return this};U[k].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);
Ua(this,this.paper)}return this};U[k].insertAfter=function(a){if(this.removed)return this;var b=a.node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Va(this,a,this.paper);return this};U[k].insertBefore=function(a){if(this.removed)return this;var b=a.node;b.parentNode.insertBefore(this.node,b);Wa(this,a,this.paper);return this};U[k].blur=function(a){if(+a!==0){var b=Z("filter"),c=Z("feGaussianBlur");this.attrs.blur=a;b.id="r"+(q._id++).toString(36);
Z(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;Z(this.node,{filter:"url(#"+b.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var $a=function(a,b,c,e){b=Q(b);c=Q(c);var g=Z("circle");a.canvas&&a.canvas.appendChild(g);a=new U(g,a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";Z(g,a.attrs);return a},ab=function(a,b,c,e,g,f){b=Q(b);c=Q(c);
var i=Z("rect");a.canvas&&a.canvas.appendChild(i);a=new U(i,a);a.attrs={x:b,y:c,width:e,height:g,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"};a.type="rect";Z(i,a.attrs);return a},bb=function(a,b,c,e,g){b=Q(b);c=Q(c);var f=Z("ellipse");a.canvas&&a.canvas.appendChild(f);a=new U(f,a);a.attrs={cx:b,cy:c,rx:e,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";Z(f,a.attrs);return a},cb=function(a,b,c,e,g,f){var i=Z("image");Z(i,{x:c,y:e,width:g,height:f,preserveAspectRatio:"none"});i.setAttributeNS(a.xlink,
"href",b);a.canvas&&a.canvas.appendChild(i);a=new U(i,a);a.attrs={x:c,y:e,width:g,height:f,src:b};a.type="image";return a},db=function(a,b,c,e){var g=Z("text");Z(g,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(g);a=new U(g,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:X.font,stroke:"none",fill:"#000"};a.type="text";ra(a,a.attrs);return a},eb=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",
this.height);return this},Ia=function(){var a=Sa[x](0,arguments),b=a&&a.container,c=a.x,e=a.y,g=a.width;a=a.height;if(!b)throw new Error("SVG container not found.");var f=Z("svg");c=c||0;e=e||0;g=g||512;a=a||342;Z(f,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:g,height:a});if(b==1){f.style.cssText="position:absolute;left:"+c+"px;top:"+e+"px";h.body.appendChild(f)}else b.firstChild?b.insertBefore(f,b.firstChild):b.appendChild(f);b=new u;b.width=g;b.height=a;b.canvas=f;Ja.call(b,b,q.fn);b.clear();
return b};u[k].clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=Z("desc")).appendChild(h.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=Z("defs"))};u[k].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Xa(a)}}if(q.vml){var fb={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},nb=/([clmz]),?([^clmz]*)/gi,ob=/-?[^,\s-]+/g,
Ba=1E3+C+1E3,Ca={path:1,rect:1},pb=function(a){var b=/[ahqstv]/ig,c=ya;(a+"").match(b)&&(c=Ea);b=/[clmz]/g;if(c==ya&&!(a+"").match(b))return a=(a+"").replace(nb,function(l,n,z){var A=[],J=v.call(n)=="m",ca=fb[n];z.replace(ob,function(H){if(J&&A[s]==2){ca+=A+fb[n=="m"?"l":"L"];A=[]}A[Y](Q(H*10))});return ca+A});b=c(a);var e;a=[];for(var g=0,f=b[s];g<f;g++){c=b[g];e=v.call(b[g][0]);e=="z"&&(e="x");for(var i=1,j=c[s];i<j;i++)e+=Q(c[i]*10)+(i!=j-1?",":"");a[Y](e)}return a[B](C)};q.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};Za=function(a,b){var c=ma("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=ma("shape"),g=e.style;g.width=b.width+"px";g.height=b.height+"px";e.coordsize=Ba;e.coordorigin=b.coordorigin;c.appendChild(e);e=new U(e,c,b);g={fill:"none",stroke:"#000"};a&&(g.path=a);e.isAbsolute=true;e.type="path";e.path=[];e.Path="";ra(e,g);b.canvas.appendChild(c);return e};ra=function(a,b){a.attrs=
a.attrs||{};var c=a.node,e=a.attrs,g=c.style,f;f=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&a.type=="rect";for(var i in b)if(b[m](i))e[i]=b[i];if(f){e.path=gb(e.x,e.y,e.width,e.height,e.r);a.X=e.x;a.Y=e.y;a.W=e.width;a.H=e.height}b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);b.cursor&&(g.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&a.type=="path"||f)c.path=pb(e.path);b.rotation!=null&&a.rotate(b.rotation,true);if(b.translation){f=
(b.translation+"").split(o);Ga.call(a,f[0],f[1]);if(a._.rt.cx!=null){a._.rt.cx+=+f[0];a._.rt.cy+=+f[1];a.setBox(a.attrs,f[0],f[1])}}if(b.scale){f=(b.scale+"").split(o);a.scale(+f[0]||1,+f[1]||+f[0]||1,+f[2]||null,+f[3]||null)}if("clip-rect"in b){f=(b["clip-rect"]+"").split(o);if(f[s]==4){f[2]=+f[2]+ +f[0];f[3]=+f[3]+ +f[1];i=c.clipRect||h.createElement("div");var j=i.style,l=c.parentNode;j.clip=q.format("rect({1}px {2}px {3}px {0}px)",f);if(!c.clipRect){j.position="absolute";j.top=0;j.left=0;j.width=
a.paper.width+"px";j.height=a.paper.height+"px";l.parentNode.insertBefore(i,l);i.appendChild(l);c.clipRect=i}}if(!b["clip-rect"])c.clipRect&&(c.clipRect.style.clip="")}if(a.type=="image"&&b.src)c.src=b.src;if(a.type=="image"&&b.opacity){c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b.opacity*100+")";g.filter=(c.filterMatrix||"")+(c.filterOpacity||"")}b.font&&(g.font=b.font);b["font-family"]&&(g.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&
(g.fontSize=b["font-size"]);b["font-weight"]&&(g.fontWeight=b["font-weight"]);b["font-style"]&&(g.fontStyle=b["font-style"]);if(b.opacity!=null||b["stroke-width"]!=null||b.fill!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=null||b["stroke-miterlimit"]!=null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){c=a.shape||c;f=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];i=false;!f&&(i=f=ma("fill"));
if("fill-opacity"in b||"opacity"in b){g=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+q.getRGB(b.fill).o+1||2)-1);g<0&&(g=0);g>1&&(g=1);f.opacity=g}b.fill&&(f.on=true);if(f.on==null||b.fill=="none")f.on=false;if(f.on&&b.fill)if(g=b.fill.match(S)){f.src=g[1];f.type="tile"}else{f.color=q.getRGB(b.fill).hex;f.src="";f.type="solid";if(q.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||(b.fill+"").charAt()!="r")&&Aa(a,b.fill)){e.fill="none";e.gradient=b.fill}}i&&c.appendChild(f);f=c.getElementsByTagName("stroke")&&
c.getElementsByTagName("stroke")[0];i=false;!f&&(i=f=ma("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])f.on=true;(b.stroke=="none"||f.on==null||b.stroke==0||b["stroke-width"]==0)&&(f.on=false);g=q.getRGB(b.stroke);f.on&&b.stroke&&(f.color=g.hex);g=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+g.o+1||2)-1);j=(W(b["stroke-width"])||1)*0.75;g<0&&(g=0);g>1&&(g=1);
b["stroke-width"]==null&&(j=e["stroke-width"]);b["stroke-width"]&&(f.weight=j);j&&j<1&&(g*=j)&&(f.weight=1);f.opacity=g;b["stroke-linejoin"]&&(f.joinstyle=b["stroke-linejoin"]||"miter");f.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(f.endcap=b["stroke-linecap"]=="butt"?"flat":b["stroke-linecap"]=="square"?"square":"round");if(b["stroke-dasharray"]){g={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot",
"--..":"longdashdotdot"};f.dashstyle=g[m](b["stroke-dasharray"])?g[b["stroke-dasharray"]]:""}i&&c.appendChild(f)}if(a.type=="text"){g=a.paper.span.style;e.font&&(g.font=e.font);e["font-family"]&&(g.fontFamily=e["font-family"]);e["font-size"]&&(g.fontSize=e["font-size"]);e["font-weight"]&&(g.fontWeight=e["font-weight"]);e["font-style"]&&(g.fontStyle=e["font-style"]);a.node.string&&(a.paper.span.innerHTML=(a.node.string+"").replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=e.w=
a.paper.span.offsetWidth;a.H=e.h=a.paper.span.offsetHeight;a.X=e.x;a.Y=e.y+Q(a.H/2);switch(e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=Q(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-Q(a.W/2);break;default:a.node.style["v-text-align"]="center";break}}};Aa=function(a,b){a.attrs=a.attrs||{};var c,e="linear",g=".5 .5";a.attrs.gradient=b;b=(b+"").replace(Ya,function(z,A,J){e="radial";if(A&&J){A=W(A);J=W(J);V(A-0.5,2)+V(J-0.5,2)>0.25&&(J=w.sqrt(0.25-V(A-
0.5,2))*((J>0.5)*2-1)+0.5);g=A+C+J}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var f=b.shift();f=-W(f);if(isNaN(f))return null}var i=Ra(b);if(!i)return null;a=a.shape||a.node;c=a.getElementsByTagName("fill")[0]||ma("fill");!c.parentNode&&a.appendChild(c);if(i[s]){c.on=true;c.method="none";c.color=i[0].color;c.color2=i[i[s]-1].color;for(var j=[],l=0,n=i[s];l<n;l++)i[l].offset&&j[Y](i[l].offset+C+i[l].color);c.colors&&(c.colors.value=j[s]?j[B]():"0% "+c.color);if(e=="radial"){c.type="gradientradial";
c.focus="100%";c.focussize=g;c.focusposition=g}else{c.type="gradient";c.angle=(270-f)%360}}return 1};U=function(a,b,c){this[0]=a;this.id=q._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null};U[k].rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](C);return this._.rt.deg}a=
(a+"").split(o);if(a[s]-1){b=W(a[1]);c=W(a[2])}a=W(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};U[k].setBox=function(a,b,c){if(this.removed)return this;var e=this.Group.style,g=this.shape&&this.shape.style||this.node.style;a=a||{};for(var f in a)if(a[m](f))this.attrs[f]=a[f];b=b||this._.rt.cx;c=c||this._.rt.cy;var i=this.attrs,j;switch(this.type){case "circle":a=
i.cx-i.r;f=i.cy-i.r;j=i=i.r*2;break;case "ellipse":a=i.cx-i.rx;f=i.cy-i.ry;j=i.rx*2;i=i.ry*2;break;case "image":a=+i.x;f=+i.y;j=i.width||0;i=i.height||0;break;case "text":this.textpath.v=["m",Q(i.x),", ",Q(i.y-2),"l",Q(i.x)+1,", ",Q(i.y-2)][B]("");a=i.x-Q(this.W/2);f=i.y-this.H/2;j=this.W;i=this.H;break;case "rect":case "path":if(this.attrs.path){i=wa(this.attrs.path);a=i.x;f=i.y;j=i.width;i=i.height}else{f=a=0;j=this.paper.width;i=this.paper.height}break;default:f=a=0;j=this.paper.width;i=this.paper.height;
break}b=(b==null?a+j/2:b)-this.paper.width/2;c=(c==null?f+i/2:c)-this.paper.height/2;var l;e.left!=(l=b+"px")&&(e.left=l);e.top!=(l=c+"px")&&(e.top=l);this.X=Ca[m](this.type)?-b:a;this.Y=Ca[m](this.type)?-c:f;this.W=j;this.H=i;if(Ca[m](this.type)){g.left!=(l=-b*10+"px")&&(g.left=l);g.top!=(l=-c*10+"px")&&(g.top=l)}else if(this.type=="text"){g.left!=(l=-b+"px")&&(g.left=l);g.top!=(l=-c+"px")&&(g.top=l)}else{e.width!=(l=this.paper.width+"px")&&(e.width=l);e.height!=(l=this.paper.height+"px")&&(e.height=
l);g.left!=(l=a-b+"px")&&(g.left=l);g.top!=(l=f-c+"px")&&(g.top=l);g.width!=(l=j+"px")&&(g.width=l);g.height!=(l=i+"px")&&(g.height=l)}};U[k].hide=function(){!this.removed&&(this.Group.style.display="none");return this};U[k].show=function(){!this.removed&&(this.Group.style.display="block");return this};U[k].getBBox=function(){if(this.removed)return this;if(Ca[m](this.type))return wa(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};U[k].remove=function(){if(!this.removed){xa(this,
this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};U[k].attr=function(a,b){if(this.removed)return this;if(a==null){var c={};for(var e in this.attrs)if(this.attrs[m](e))c[e]=this.attrs[e];this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;
return c}if(b==null&&q.is(a,"string")){if(a=="translation")return Ga.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(this.attrs&&b==null&&q.is(a,O)){var g={};e=0;for(c=a[s];e<c;e++)g[a[e]]=this.attr(a[e]);return g}if(b!=null){c={};c[a]=b}b==null&&q.is(a,"object")&&(c=a);if(c){if(c.text&&this.type=="text")this.node.string=c.text;ra(this,c);if(c.gradient&&
({circle:1,ellipse:1}[m](this.type)||(c.gradient+"").charAt()!="r"))Aa(this,c.gradient);(!Ca[m](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};U[k].toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Ta(this,this.paper);return this};U[k].toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Ua(this,this.paper)}return this};
U[k].insertAfter=function(a){if(this.removed)return this;a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Va(this,a,this.paper);return this};U[k].insertBefore=function(a){if(this.removed)return this;a.Group.parentNode.insertBefore(this.Group,a.Group);Wa(this,a,this.paper);return this};var qb=/ progid:\S+Blur\([^\)]+\)/g;U[k].blur=function(a){var b=this.node.style,c=b.filter;c=c.replace(qb,"");if(+a!==0){this.attrs.blur=
a;b.filter=c+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")";b.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+a||1.5))}else{b.filter=c;b.margin=0;delete this.attrs.blur}};$a=function(a,b,c,e){var g=ma("group"),f=ma("oval");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=Ba;g.coordorigin=a.coordorigin;g.appendChild(f);f=new U(f,g,a);f.type="circle";ra(f,{stroke:"#000",fill:"none"});f.attrs.cx=b;f.attrs.cy=c;f.attrs.r=
e;f.setBox({x:b-e,y:c-e,width:e*2,height:e*2});a.canvas.appendChild(g);return f};var gb=function(a,b,c,e,g){return g?q.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+g,b,c-g*2,g,-g,e-g*2,g*2-c,g*2-e):q.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,c,e,-c)};ab=function(a,b,c,e,g,f){var i=gb(b,c,e,g,f);a=a.path(i);var j=a.attrs;a.X=j.x=b;a.Y=j.y=c;a.W=j.width=e;a.H=j.height=g;j.r=f;j.path=i;a.type="rect";return a};bb=function(a,
b,c,e,g){var f=ma("group"),i=ma("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=Ba;f.coordorigin=a.coordorigin;f.appendChild(i);i=new U(i,f,a);i.type="ellipse";ra(i,{stroke:"#000"});i.attrs.cx=b;i.attrs.cy=c;i.attrs.rx=e;i.attrs.ry=g;i.setBox({x:b-e,y:c-g,width:e*2,height:g*2});a.canvas.appendChild(f);return i};cb=function(a,b,c,e,g,f){var i=ma("group"),j=ma("image");i.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+
a.height+"px";i.coordsize=Ba;i.coordorigin=a.coordorigin;j.src=b;i.appendChild(j);j=new U(j,i,a);j.type="image";j.attrs.src=b;j.attrs.x=c;j.attrs.y=e;j.attrs.w=g;j.attrs.h=f;j.setBox({x:c,y:e,width:g,height:f});a.canvas.appendChild(i);return j};db=function(a,b,c,e){var g=ma("group"),f=ma("shape"),i=f.style,j=ma("path"),l=ma("textpath");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=Ba;g.coordorigin=a.coordorigin;j.v=q.format("m{0},{1}l{2},{1}",
Q(b*10),Q(c*10),Q(b*10)+1);j.textpathok=true;i.width=a.width;i.height=a.height;l.string=e+"";l.on=true;f.appendChild(l);f.appendChild(j);g.appendChild(f);i=new U(l,g,a);i.shape=f;i.textpath=j;i.type="text";i.attrs.text=e;i.attrs.x=b;i.attrs.y=c;i.attrs.w=1;i.attrs.h=1;ra(i,{font:X.font,stroke:"none",fill:"#000"});i.setBox();a.canvas.appendChild(g);return i};eb=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this};var ma;
h.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!h.namespaces.rvml&&h.namespaces.add("rvml","urn:schemas-microsoft-com:vml");ma=function(a){return h.createElement("<rvml:"+a+' class="rvml">')}}catch(yb){ma=function(a){return h.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Ia=function(){var a=Sa[x](0,arguments),b=a.container,c=a.height,e=a.width,g=a.x;a=a.y;if(!b)throw new Error("VML container not found.");var f=new u,i=f.canvas=h.createElement("div"),
j=i.style;g=g||0;a=a||0;e=e||512;c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");f.width=1E3;f.height=1E3;f.coordsize=1E4+C+1E4;f.coordorigin="0 0";f.span=h.createElement("span");f.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";i.appendChild(f.span);j.cssText=q.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);if(b==1){h.body.appendChild(i);j.left=g+"px";j.top=a+"px";j.position=
"absolute"}else b.firstChild?b.insertBefore(i,b.firstChild):b.appendChild(i);Ja.call(f,f,q.fn);return f};u[k].clear=function(){this.canvas.innerHTML="";this.span=h.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};u[k].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Xa(a);return true}}u[k].safari=/^Apple|^Google/.test(t.navigator.vendor)&&
(!(t.navigator.userAgent.indexOf("Version/4.0")+1)||t.navigator.platform.slice(0,2)=="iP")?function(){var a=this.rect(-99,-99,this.width+99,this.height+99);t.setTimeout(function(){a.remove()})}:function(){};var rb=function(){this.returnValue=false},sb=function(){return this.originalEvent.preventDefault()},tb=function(){this.cancelBubble=true},ub=function(){return this.originalEvent.stopPropagation()},vb=function(){if(h.addEventListener)return function(a,b,c,e){var g=I&&T[b]?T[b]:b,f=function(i){if(I&&
T[m](b))for(var j=0,l=i.targetTouches&&i.targetTouches.length;j<l;j++)if(i.targetTouches[j].target==a){l=i;i=i.targetTouches[j];i.originalEvent=l;i.preventDefault=sb;i.stopPropagation=ub;break}return c.call(e,i)};a.addEventListener(g,f,false);return function(){a.removeEventListener(g,f,false);return true}};else if(h.attachEvent)return function(a,b,c,e){var g=function(f){f=f||t.event;f.preventDefault=f.preventDefault||rb;f.stopPropagation=f.stopPropagation||tb;return c.call(e,f)};a.attachEvent("on"+
b,g);return function(){a.detachEvent("on"+b,g);return true}}}();for(aa=E[s];aa--;)(function(a){q[a]=U[k][a]=function(b){if(q.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:vb(this.shape||this.node||h,a,b,this)})}return this};q["un"+a]=U[k]["un"+a]=function(b){for(var c=this.events,e=c[s];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;return this}return this}})(E[aa]);U[k].hover=function(a,b){return this.mouseover(a).mouseout(b)};
U[k].unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};U[k].drag=function(a,b,c){this._drag={};var e=this.mousedown(function(i){(i.originalEvent?i.originalEvent:i).preventDefault();this._drag.x=i.clientX;this._drag.y=i.clientY;this._drag.id=i.identifier;b&&b.call(this,i.clientX,i.clientY);Raphael.mousemove(g).mouseup(f)}),g=function(i){var j=i.clientX,l=i.clientY;if(I)for(var n=i.touches.length,z;n--;){z=i.touches[n];if(z.identifier==e._drag.id){j=z.clientX;l=z.clientY;(i.originalEvent?
i.originalEvent:i).preventDefault();break}}else i.preventDefault();a&&a.call(e,j-e._drag.x,l-e._drag.y,j,l)},f=function(){e._drag={};Raphael.unmousemove(g).unmouseup(f);c&&c.call(e)};return this};u[k].circle=function(a,b,c){return $a(this,a||0,b||0,c||0)};u[k].rect=function(a,b,c,e,g){return ab(this,a||0,b||0,c||0,e||0,g||0)};u[k].ellipse=function(a,b,c,e){return bb(this,a||0,b||0,c||0,e||0)};u[k].path=function(a){a&&!q.is(a,"string")&&!q.is(a[0],O)&&(a+="");return Za(q.format[x](q,arguments),this)};
u[k].image=function(a,b,c,e,g){return cb(this,a||"about:blank",b||0,c||0,e||0,g||0)};u[k].text=function(a,b,c){return db(this,a||0,b||0,c||"")};u[k].set=function(a){arguments[s]>1&&(a=Array[k].splice.call(arguments,0,arguments[s]));return new pa(a)};u[k].setSize=eb;u[k].top=u[k].bottom=null;u[k].raphael=q;U[k].resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};U[k].scale=function(a,b,c,e){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,
y:this._.sy,toString:R};b=b||a;!+b&&(b=a);var g,f,i=this.attrs;if(a!=0){var j=this.getBBox(),l=j.x+j.width/2,n=j.y+j.height/2;g=a/this._.sx;f=b/this._.sy;c=+c||c==0?c:l;e=+e||e==0?e:n;j=~~(a/w.abs(a));var z=~~(b/w.abs(b)),A=this.node.style,J=c+(l-c)*g;n=e+(n-e)*f;switch(this.type){case "rect":case "image":var ca=i.width*j*g,H=i.height*z*f;this.attr({height:H,r:i.r*N(j*g,z*f),width:ca,x:J-ca/2,y:n-H/2});break;case "circle":case "ellipse":this.attr({rx:i.rx*j*g,ry:i.ry*z*f,r:i.r*N(j*g,z*f),cx:J,cy:n});
break;case "text":this.attr({x:J,y:n});break;case "path":l=Oa(i.path);for(var F=true,K=0,ea=l[s];K<ea;K++){var $=l[K],ia=qa.call($[0]);if(!(ia=="M"&&F)){F=false;if(ia=="A"){$[l[K][s]-2]*=g;$[l[K][s]-1]*=f;$[1]*=j*g;$[2]*=z*f;$[5]=+!(j+z?!+$[5]:+$[5])}else if(ia=="H"){ia=1;for(var ua=$[s];ia<ua;ia++)$[ia]*=g}else if(ia=="V"){ia=1;for(ua=$[s];ia<ua;ia++)$[ia]*=f}else{ia=1;for(ua=$[s];ia<ua;ia++)$[ia]*=ia%2?g:f}}}f=wa(l);g=J-f.x-f.width/2;f=n-f.y-f.height/2;l[0][1]+=g;l[0][2]+=f;this.attr({path:l});
break}if(this.type in{text:1,image:1}&&(j!=1||z!=1))if(this.transformations){this.transformations[2]="scale(".concat(j,",",z,")");this.node.setAttribute("transform",this.transformations[B](C));g=j==-1?-i.x-(ca||0):i.x;f=z==-1?-i.y-(H||0):i.y;this.attr({x:g,y:f});i.fx=j-1;i.fy=z-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(j,", M12=0, M21=0, M22=",z,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");A.filter=(this.node.filterMatrix||"")+
(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[B](C));i.fx=0;i.fy=0}else{this.node.filterMatrix="";A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}i.scale=[a,b,c,e][B](C);this._.sx=a;this._.sy=b}return this};U[k].clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var hb=P(function(a,b,c,e,g,f,i,j,
l){for(var n=0,z,A=0;A<1.001;A+=0.0010){var J=q.findDotsAtSegment(a,b,c,e,g,f,i,j,A);A&&(n+=V(V(z.x-J.x,2)+V(z.y-J.y,2),0.5));if(n>=l)return J;z=J}});E=function(a,b){return function(c,e,g){c=Ea(c);for(var f,i,j,l,n="",z={},A=0,J=0,ca=c.length;J<ca;J++){j=c[J];if(j[0]=="M"){f=+j[1];i=+j[2]}else{l=wb(f,i,j[1],j[2],j[3],j[4],j[5],j[6]);if(A+l>e){if(b&&!z.start){f=hb(f,i,j[1],j[2],j[3],j[4],j[5],j[6],e-A);n+=["C",f.start.x,f.start.y,f.m.x,f.m.y,f.x,f.y];if(g)return n;z.start=n;n=["M",f.x,f.y+"C",f.n.x,
f.n.y,f.end.x,f.end.y,j[5],j[6]][B]();A+=l;f=+j[5];i=+j[6];continue}if(!a&&!b){f=hb(f,i,j[1],j[2],j[3],j[4],j[5],j[6],e-A);return{x:f.x,y:f.y,alpha:f.alpha}}}A+=l;f=+j[5];i=+j[6]}n+=j}z.end=n;f=a?A:b?z:q.findDotsAtSegment(f,i,j[1],j[2],j[3],j[4],j[5],j[6],1);f.alpha&&(f={x:f.x,y:f.y,alpha:f.alpha});return f}};var wb=P(function(a,b,c,e,g,f,i,j){for(var l={x:0,y:0},n=0,z=0;z<1.01;z+=0.01){var A=za(a,b,c,e,g,f,i,j,z);z&&(n+=V(V(l.x-A.x,2)+V(l.y-A.y,2),0.5));l=A}return n}),ib=E(1),Ha=E(),La=E(0,1);U[k].getTotalLength=
function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return ib(this.attrs.path)}};U[k].getPointAtLength=function(a){if(this.type=="path")return Ha(this.attrs.path,a)};U[k].getSubpath=function(a,b){if(this.type=="path"){if(w.abs(this.getTotalLength()-b)<1.0E-6)return La(this.attrs.path,a).end;var c=La(this.attrs.path,b,1);return a?La(c,a).end:c}};q.easing_formulas={linear:function(a){return a},"<":function(a){return V(a,3)},">":function(a){return V(a-1,3)+
1},"<>":function(a){a*=2;if(a<1)return V(a,3)/2;a-=2;return(V(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return V(2,-10*a)*w.sin((a-0.075)*2*w.PI/0.3)+1},bounce:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a-=2.25/2.75;a=7.5625*a*a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var na={length:0},jb=function(){var a=
+new Date;for(var b in na)if(b!="length"&&na[m](b)){var c=na[b];if(c.stop||c.el.removed){delete na[b];na[s]--}else{var e=a-c.start,g=c.ms,f=c.easing,i=c.from,j=c.diff,l=c.to,n=c.t,z=c.prev||0,A=c.el,J=c.callback,ca={},H;if(e<g){J=q.easing_formulas[f]?q.easing_formulas[f](e/g):e/g;for(var F in i)if(i[m](F)){switch(ga[F]){case "along":H=J*g*j[F];l.back&&(H=l.len-H);f=Ha(l[F],H);A.translate(j.sx-j.x||0,j.sy-j.y||0);j.x=f.x;j.y=f.y;A.translate(f.x-j.sx,f.y-j.sy);l.rot&&A.rotate(j.r+f.alpha,f.x,f.y);break;
case D:H=+i[F]+J*g*j[F];break;case "colour":H="rgb("+[Ma(Q(i[F].r+J*g*j[F].r)),Ma(Q(i[F].g+J*g*j[F].g)),Ma(Q(i[F].b+J*g*j[F].b))][B](",")+")";break;case "path":H=[];f=0;for(var K=i[F][s];f<K;f++){H[f]=[i[F][f][0]];for(var ea=1,$=i[F][f][s];ea<$;ea++)H[f][ea]=+i[F][f][ea]+J*g*j[F][f][ea];H[f]=H[f][B](C)}H=H[B](C);break;case "csv":switch(F){case "translation":H=j[F][0]*(e-z);f=j[F][1]*(e-z);n.x+=H;n.y+=f;H=H+C+f;break;case "rotation":H=+i[F][0]+J*g*j[F][0];i[F][1]&&(H+=","+i[F][1]+","+i[F][2]);break;
case "scale":H=[+i[F][0]+J*g*j[F][0],+i[F][1]+J*g*j[F][1],2 in l[F]?l[F][2]:"",3 in l[F]?l[F][3]:""][B](C);break;case "clip-rect":H=[];for(f=4;f--;)H[f]=+i[F][f]+J*g*j[F][f];break}break}ca[F]=H}A.attr(ca);A._run&&A._run.call(A)}else{if(l.along){f=Ha(l.along,l.len*!l.back);A.translate(j.sx-(j.x||0)+f.x-j.sx,j.sy-(j.y||0)+f.y-j.sy);l.rot&&A.rotate(j.r+f.alpha,f.x,f.y)}(n.x||n.y)&&A.translate(-n.x,-n.y);l.scale&&(l.scale+="");A.attr(l);delete na[b];na[s]--;A.in_animation=null;q.is(J,"function")&&J.call(A)}c.prev=
e}}q.svg&&A&&A.paper&&A.paper.safari();na[s]&&t.setTimeout(jb)},Ma=function(a){return G(N(a,255),0)},Ga=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:R};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=Oa(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c});break}return this};U[k].animateWith=
function(a,b,c,e,g){na[a.id]&&(b.start=na[a.id].start);return this.animate(b,c,e,g)};U[k].animateAlong=M();U[k].animateAlongBack=M(1);U[k].onAnimation=function(a){this._run=a||0;return this};U[k].animate=function(a,b,c,e){if(q.is(c,"function")||!c)e=c||null;var g={},f={},i={};for(var j in a)if(a[m](j))if(ga[m](j)){g[j]=this.attr(j);g[j]==null&&(g[j]=X[j]);f[j]=a[j];switch(ga[j]){case "along":var l=ib(a[j]),n=Ha(a[j],l*!!a.back),z=this.getBBox();i[j]=l/b;i.tx=z.x;i.ty=z.y;i.sx=n.x;i.sy=n.y;f.rot=a.rot;
f.back=a.back;f.len=l;a.rot&&(i.r=W(this.rotate())||0);break;case D:i[j]=(f[j]-g[j])/b;break;case "colour":g[j]=q.getRGB(g[j]);l=q.getRGB(f[j]);i[j]={r:(l.r-g[j].r)/b,g:(l.g-g[j].g)/b,b:(l.b-g[j].b)/b};break;case "path":l=Ea(g[j],f[j]);g[j]=l[0];n=l[1];i[j]=[];l=0;for(z=g[j][s];l<z;l++){i[j][l]=[0];for(var A=1,J=g[j][l][s];A<J;A++)i[j][l][A]=(n[l][A]-g[j][l][A])/b}break;case "csv":n=(a[j]+"").split(o);l=(g[j]+"").split(o);switch(j){case "translation":g[j]=[0,0];i[j]=[n[0]/b,n[1]/b];break;case "rotation":g[j]=
l[1]==n[1]&&l[2]==n[2]?l:[0,n[1],n[2]];i[j]=[(n[0]-g[j][0])/b,0,0];break;case "scale":a[j]=n;g[j]=(g[j]+"").split(o);i[j]=[(n[0]-g[j][0])/b,(n[1]-g[j][1])/b,0,0];break;case "clip-rect":g[j]=(g[j]+"").split(o);i[j]=[];for(l=4;l--;)i[j][l]=(n[l]-g[j][l])/b;break}f[j]=n}}this.stop();this.in_animation=1;na[this.id]={start:a.start||+new Date,ms:b,easing:c,from:g,diff:i,to:f,el:this,callback:e,t:{x:0,y:0}};++na[s]==1&&jb();return this};U[k].stop=function(){na[this.id]&&na[s]--;delete na[this.id];return this};
U[k].translate=function(a,b){return this.attr({translation:a+" "+b})};U[k].toString=function(){return"Rapha\u00ebl\u2019s object"};q.ae=na;var pa=function(a){this.items=[];this[s]=0;this.type="set";if(a)for(var b=0,c=a[s];b<c;b++)if(a[b]&&(a[b].constructor==U||a[b].constructor==pa)){this[this.items[s]]=this.items[this.items[s]]=a[b];this[s]++}};pa[k][Y]=function(){for(var a,b,c=0,e=arguments[s];c<e;c++)if((a=arguments[c])&&(a.constructor==U||a.constructor==pa)){b=this.items[s];this[b]=this.items[b]=
a;this[s]++}return this};pa[k].pop=function(){delete this[this[s]--];return this.items.pop()};for(var Na in U[k])if(U[k][m](Na))pa[k][Na]=function(a){return function(){for(var b=0,c=this.items[s];b<c;b++)this.items[b][a][x](this.items[b],arguments);return this}}(Na);pa[k].attr=function(a,b){if(a&&q.is(a,O)&&q.is(a[0],"object"))for(var c=0,e=a[s];c<e;c++)this.items[c].attr(a[c]);else{c=0;for(e=this.items[s];c<e;c++)this.items[c].attr(a,b)}return this};pa[k].animate=function(a,b,c,e){(q.is(c,"function")||
!c)&&(e=c||null);var g=this.items[s],f=g,i,j=this,l;e&&(l=function(){!--g&&e.call(j)});c=q.is(c,"string")?c:l;for(i=this.items[--f].animate(a,b,c,l);f--;)this.items[f].animateWith(i,a,b,c,l);return this};pa[k].insertAfter=function(a){for(var b=this.items[s];b--;)this.items[b].insertAfter(a);return this};pa[k].getBBox=function(){for(var a=[],b=[],c=[],e=[],g=this.items[s];g--;){var f=this.items[g].getBBox();a[Y](f.x);b[Y](f.y);c[Y](f.x+f.width);e[Y](f.y+f.height)}a=N[x](0,a);b=N[x](0,b);return{x:a,
y:b,width:G[x](0,c)-a,height:G[x](0,e)-b}};pa[k].clone=function(a){a=new pa;for(var b=0,c=this.items[s];b<c;b++)a[Y](this.items[b].clone());return a};q.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var e in a.face)if(a.face[m](e))b.face[e]=a.face[e];if(this.fonts[c])this.fonts[c][Y](b);else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=ha(a.face["units-per-em"],10);for(var g in a.glyphs)if(a.glyphs[m](g)){c=
a.glyphs[g];b.glyphs[g]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(i){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[i]||"M"})+"z"};if(c.k)for(var f in c.k)if(c[m](f))b.glyphs[g].k[f]=c.k[f]}}return a};u[k].getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(q.fonts){var g=q.fonts[a];if(!g){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var f in q.fonts)if(q.fonts[m](f))if(a.test(f)){g=q.fonts[f];
break}}var i;if(g){f=0;for(a=g[s];f<a;f++){i=g[f];if(i.face["font-weight"]==b&&(i.face["font-style"]==c||!i.face["font-style"])&&i.face["font-stretch"]==e)break}}return i}};u[k].print=function(a,b,c,e,g,f){f=f||"middle";var i=this.set(),j=(c+"").split(""),l=0;q.is(e,c)&&(e=this.getFont(e));if(e){c=(g||16)/e.face["units-per-em"];var n=e.face.bbox.split(o);g=+n[0];f=+n[1]+(f=="baseline"?n[3]-n[1]+ +e.face.descent:(n[3]-n[1])/2);n=0;for(var z=j[s];n<z;n++){var A=n&&e.glyphs[j[n-1]]||{},J=e.glyphs[j[n]];
l+=n?(A.w||e.w)+(A.k&&A.k[j[n]]||0):0;J&&J.d&&i[Y](this.path(J.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}i.scale(c,c,g,f).translate(a-g,b-f)}return i};var xb=/\{(\d+)\}/g;q.format=function(a,b){var c=q.is(b,O)?[0].concat(b):arguments;a&&q.is(a,"string")&&c[s]-1&&(a=a.replace(xb,function(e,g){return c[++g]==null?"":c[g]}));return a||""};q.ninja=function(){y.was?(Raphael=y.is):delete Raphael;return q};q.el=U[k];return q}();
(function(){var q=Math.max,P=Math.min;Raphael.fn.g=Raphael.fn.g||{};Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0};Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"};Raphael.fn.g.colors=[];for(var R=[0.6,0.2,0.05,0.1333,0.75,
0],M=0;M<10;M++)M<R.length?Raphael.fn.g.colors.push("hsb("+R[M]+", .75, .75)"):Raphael.fn.g.colors.push("hsb("+R[M-R.length]+", 1, .5)");Raphael.fn.g.text=function(o,p,k){return this.text(o,p,k).attr(this.g.txtattr)};Raphael.fn.g.labelise=function(o,p,k){return o?(o+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(m,h,t){if(h)return(+p).toFixed(h.replace(/^#+\.?/g,"").length);if(t)return(p*100/k).toFixed(t.replace(/^%+\.?/g,"").length)+"%"}):(+p).toFixed(0)};Raphael.fn.g.finger=function(o,p,
k,m,h,t,y){if(h&&!m||!h&&!k)return y?"":this.path();t={square:"square",sharp:"sharp",soft:"soft"}[t]||"round";var u;m=Math.round(m);k=Math.round(k);o=Math.round(o);p=Math.round(p);switch(t){case "round":if(h){h=~~(k/2);if(m<h)u=["M",o-~~(k/2),p,"l",0,0,"a",~~(k/2),m,0,0,1,k,0,"l",0,0,"z"];else u=["M",o-h,p,"l",0,h-m,"a",h,h,0,1,1,k,0,"l",0,m-h,"z"]}else{h=~~(m/2);if(k<h)u=["M",o+0.5,p+0.5-~~(m/2),"l",0,0,"a",k,~~(m/2),0,0,1,0,m,"l",0,0,"z"];else u=["M",o+0.5,p+0.5-h,"l",k-h,0,"a",h,h,0,1,1,0,m,"l",
h-k,0,"z"]}break;case "sharp":if(h){h=~~(k/2);u=["M",o+h,p,"l",-k,0,0,-q(m-h,0),h,-P(h,m),h,P(h,m),h,"z"]}else{h=~~(m/2);u=["M",o,p+h,"l",0,-m,q(k-h,0),0,P(h,k),h,-P(h,k),h+(h*2<m),"z"]}break;case "square":u=h?["M",o+~~(k/2),p,"l",1-k,0,0,-m,k-1,0,"z"]:["M",o,p+~~(m/2),"l",0,-m,k,0,0,m,"z"];break;case "soft":if(h){h=P(Math.round(k/5),m);u=["M",o-~~(k/2),p,"l",0,h-m,"a",h,h,0,0,1,h,-h,"l",k-2*h,0,"a",h,h,0,0,1,h,h,"l",0,m-h,"z"]}else{h=P(k,Math.round(m/5));u=["M",o+0.5,p+0.5-~~(m/2),"l",k-h,0,"a",
h,h,0,0,1,h,h,"l",0,m-h*2,"a",h,h,0,0,1,-h,h,"l",h-k,0,"z"]}}return y?u.join(","):this.path(u)};Raphael.fn.g.disc=function(o,p,k){return this.circle(o,p,k)};Raphael.fn.g.line=function(o,p,k){return this.rect(o-k,p-k/5,2*k,2*k/5)};Raphael.fn.g.square=function(o,p,k){k*=0.7;return this.rect(o-k,p-k,2*k,2*k)};Raphael.fn.g.triangle=function(o,p,k){k*=1.75;return this.path("M".concat(o,",",p,"m0-",k*0.58,"l",k*0.5,",",k*0.87,"-",k,",0z"))};Raphael.fn.g.diamond=function(o,p,k){return this.path(["M",o,p-
k,"l",k,k,-k,k,-k,-k,k,-k,"z"])};Raphael.fn.g.flower=function(o,p,k,m){k*=1.25;k=k;var h=k*0.5;m=+m<3||!m?5:m;for(var t=["M",o,p+h,"Q"],y,u=1;u<m*2+1;u++){y=u%2?k:h;t=t.concat([+(o+y*Math.sin(u*Math.PI/m)).toFixed(3),+(p+y*Math.cos(u*Math.PI/m)).toFixed(3)])}t.push("z");return this.path(t.join(","))};Raphael.fn.g.star=function(o,p,k,m,h){m=m||k*0.382;h=h||5;for(var t=["M",o,p+m,"L"],y,u=1;u<h*2;u++){y=u%2?k:m;t=t.concat([o+y*Math.sin(u*Math.PI/h),p+y*Math.cos(u*Math.PI/h)])}t.push("z");return this.path(t.join(","))};
Raphael.fn.g.cross=function(o,p,k){k/=2.5;return this.path("M".concat(o-k,",",p,"l",[-k,-k,k,-k,k,k,k,-k,k,k,-k,k,k,k,-k,k,-k,-k,-k,k,-k,-k,"z"]))};Raphael.fn.g.plus=function(o,p,k){k/=2;return this.path("M".concat(o-k/2,",",p-k/2,"l",[0,-k,k,0,0,k,k,0,0,k,-k,0,0,k,-k,0,0,-k,-k,0,0,-k,"z"]))};Raphael.fn.g.arrow=function(o,p,k){return this.path("M".concat(o-k*0.7,",",p-k*0.4,"l",[k*0.6,0,0,-k*0.4,k,k*0.8,-k,k*0.8,0,-k*0.4,-k*0.6,0],"z"))};Raphael.fn.g.tag=function(o,p,k,m,h){m=m||0;h=h==null?5:h;k=
k==null?"$9.99":k;var t=0.5522*h,y=this.set();y.push(this.path().attr({fill:"#000",stroke:"#000"}));y.push(this.text(o,p,k).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));y.update=function(){this.rotate(0,o,p);var u=this[1].getBBox();if(u.height>=h*2)this[0].attr({path:["M",o,p+h,"a",h,h,0,1,1,0,-h*2,h,h,0,1,1,0,h*2,"m",0,-h*2-3,"a",h+3,h+3,0,1,0,0,(h+3)*2,"L",o+h+3,p+u.height/2+3,"l",u.width+6,0,0,-u.height-6,-u.width-6,0,"L",o,p-h-3].join(",")});else{var x=Math.sqrt(Math.pow(h+
3,2)-Math.pow(u.height/2+3,2));this[0].attr({path:["M",o,p+h,"c",-t,0,-h,t-h,-h,-h,0,-t,h-t,-h,h,-h,t,0,h,h-t,h,h,0,t,t-h,h,-h,h,"M",o+x,p-u.height/2-3,"a",h+3,h+3,0,1,0,0,u.height+6,"l",h+3-x+u.width+6,0,0,-u.height-6,"L",o+x,p-u.height/2-3].join(",")})}this[1].attr({x:o+h+3+u.width/2,y:p});m=(360-m)%360;this.rotate(m,o,p);m>90&&m<270&&this[1].attr({x:o-h-3-u.width/2,y:p,rotation:[180+m,o,p]});return this};y.update();return y};Raphael.fn.g.popupit=function(o,p,k,m,h){m=m==null?2:m;h=h||5;o=Math.round(o);
p=Math.round(p);var t=k.getBBox(),y=Math.round(t.width/2),u=Math.round(t.height/2),x=["M",o-[0,y+h*2,0,-y-h*2][m],p-[-u*2-h*3,-u-h,0,-u-h][m],"l",-h,(m==2)*-h,-q(y-h,0),0,"a",h,h,0,0,1,-h,-h,"l",0,-q(u-h,0),(m==3)*-h,-h,(m==3)*h,-h,0,-q(u-h,0),"a",h,h,0,0,1,h,-h,"l",q(y-h,0),0,h,!m*-h,h,!m*h,q(y-h,0),0,"a",h,h,0,0,1,h,h,"l",0,q(u-h,0),(m==1)*h,h,(m==1)*-h,h,0,q(u-h,0),"a",h,h,0,0,1,-h,h,"l",-q(y-h,0),0,"z"].join(",");o=[{x:o,y:p+h*2+u},{x:o-h*2-y,y:p},{x:o,y:p-h*2-u},{x:o+h*2+y,y:p}][m];k.translate(o.x-
y-t.x,o.y-u-t.y);return this.path(x).attr({fill:"#000",stroke:"none"}).insertBefore(k.node?k:k[0])};Raphael.fn.g.popup=function(o,p,k,m,h){m=m==null?2:m>3?3:m;h=h||5;k=k||"$9.99";var t=this.set();t.push(this.path().attr({fill:"#000",stroke:"#000"}));t.push(this.text(o,p,k).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));t.update=function(y,u,x){y=y||o;u=u||p;var I=this[1].getBBox(),C=I.width/2,E=I.height/2;I=["M",y-[0,C+h*2,0,-C-h*2][m],u-[-E*2-h*3,-E-h,0,-E-h][m],"l",-h,
(m==2)*-h,-q(C-h,0),0,"a",h,h,0,0,1,-h,-h,"l",0,-q(E-h,0),(m==3)*-h,-h,(m==3)*h,-h,0,-q(E-h,0),"a",h,h,0,0,1,h,-h,"l",q(C-h,0),0,h,!m*-h,h,!m*h,q(C-h,0),0,"a",h,h,0,0,1,h,h,"l",0,q(E-h,0),(m==1)*h,h,(m==1)*-h,h,0,q(E-h,0),"a",h,h,0,0,1,-h,h,"l",-q(C-h,0),0,"z"].join(",");y=[{x:y,y:u+h*2+E},{x:y-h*2-C,y:u},{x:y,y:u-h*2-E},{x:y+h*2+C,y:u}][m];y.path=I;x?this.animate(y,500,">"):this.attr(y);return this};return t.update(o,p)};Raphael.fn.g.flag=function(o,p,k,m){m=m||0;k=k||"$9.99";var h=this.set();h.push(this.path().attr({fill:"#000",
stroke:"#000"}));h.push(this.text(o,p,k).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));h.update=function(t,y){this.rotate(0,t,y);var u=this[1].getBBox(),x=u.height/2;this[0].attr({path:["M",t,y,"l",x+3,-x-3,u.width+6,0,0,u.height+6,-u.width-6,0,"z"].join(",")});this[1].attr({x:t+x+3+u.width/2,y:y});m=360-m;this.rotate(m,t,y);m>90&&m<270&&this[1].attr({x:t-r-3-u.width/2,y:y,rotation:[180+m,t,y]});return this};return h.update(o,p)};Raphael.fn.g.label=function(o,p,k){var m=
this.set();m.push(this.rect(o,p,10,10).attr({stroke:"none",fill:"#000"}));m.push(this.text(o,p,k).attr(this.g.txtattr).attr({fill:"#fff"}));m.update=function(){var h=this[1].getBBox(),t=P(h.width+10,h.height+10)/2;this[0].attr({x:h.x-t/2,y:h.y-t/2,width:h.width+t,height:h.height+t,r:t})};m.update();return m};Raphael.fn.g.labelit=function(o){var p=o.getBBox(),k=P(20,p.width+10,p.height+10)/2;return this.rect(p.x-k/2,p.y-k/2,p.width+k,p.height+k,k).attr({stroke:"none",fill:"#000"}).insertBefore(o.node?
o:o[0])};Raphael.fn.g.drop=function(o,p,k,m,h){m=m||30;h=h||0;var t=this.set();t.push(this.path(["M",o,p,"l",m,0,"A",m*0.4,m*0.4,0,1,0,o+m*0.7,p-m*0.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-h,o,p]}));h=(h+90)*Math.PI/180;t.push(this.text(o+m*Math.sin(h),p+m*Math.cos(h),k).attr(this.g.txtattr).attr({"font-size":m*12/30,fill:"#fff"}));t.drop=t[0];t.text=t[1];return t};Raphael.fn.g.blob=function(o,p,k,m,h){m=(+m+1?m:45)+90;h=h||12;var t=Math.PI/180,y=h*12/12,u=this.set();u.push(this.path().attr({fill:"#000",
stroke:"none"}));u.push(this.text(o+h*Math.sin(m*t),p+h*Math.cos(m*t)-y/2,k).attr(this.g.txtattr).attr({"font-size":y,fill:"#fff"}));u.update=function(x,I,C){x=x||o;I=I||p;var E=this[1].getBBox(),T=q(E.width+y,h*25/12),B=q(E.height+y,h*25/12);E=x+h*Math.sin((m-22.5)*t);var s=I+h*Math.cos((m-22.5)*t);x=x+h*Math.sin((m+22.5)*t);I=I+h*Math.cos((m+22.5)*t);var v=(x-E)/2,w=(I-s)/2;T=T/2;B=B/2;var G=-Math.sqrt(Math.abs(T*T*B*B-T*T*w*w-B*B*v*v)/(T*T*w*w+B*B*v*v));w=G*T*w/B+(x+E)/2;v=G*-B*v/T+(I+s)/2;C?this.animate({x:w,
y:v,path:["M",o,p,"L",x,I,"A",T,B,0,1,1,E,s,"z"].join(",")},500,">"):this.attr({x:w,y:v,path:["M",o,p,"L",x,I,"A",T,B,0,1,1,E,s,"z"].join(",")});return this};u.update(o,p);return u};Raphael.fn.g.colorValue=function(o,p,k,m){return"hsb("+[P((1-o/p)*0.4,1),k||0.75,m||0.75]+")"};Raphael.fn.g.snapEnds=function(o,p,k){function m(u){return Math.abs(u-0.5)<0.25?~~u+0.5:Math.round(u)}var h=o,t=p;if(h==t)return{from:h,to:t,power:0};h=(t-h)/k;var y=t=~~h;k=0;if(t){for(;y;){k--;y=~~(h*Math.pow(10,k))/Math.pow(10,
k)}k++}else{for(;!t;){k=k||1;t=~~(h*Math.pow(10,k))/Math.pow(10,k);k++}k&&k--}t=m(p*Math.pow(10,k))/Math.pow(10,k);if(t<p)t=m((p+0.5)*Math.pow(10,k))/Math.pow(10,k);h=m((o-(k>0?0:0.5))*Math.pow(10,k))/Math.pow(10,k);return{from:h,to:t,power:k}};Raphael.fn.g.axis=function(o,p,k,m,h,t,y,u,x,I){I=I==null?2:I;x=x||"t";t=t||10;var C=x=="|"||x==" "?["M",o+0.5,p,"l",0,0.0010]:y==1||y==3?["M",o+0.5,p,"l",0,-k]:["M",o,p+0.5,"l",k,0];m=this.g.snapEnds(m,h,t);var E=m.from,T=m.to,B=m.power;h=0;m=this.set();d=
(T-E)/t;T=E;var s=B>0?B:0;v=k/t;if(+y==1||+y==3){t=p;for(E=(y-1?1:-1)*(I+3+!!(y-1));t>=p-k;){x!="-"&&x!=" "&&(C=C.concat(["M",o-(x=="+"||x=="|"?I:!(y-1)*I*2),t+0.5,"l",I*2+1,0]));m.push(this.text(o+E,t,u&&u[h++]||(Math.round(T)==T?T:+T.toFixed(s))).attr(this.g.txtattr).attr({"text-anchor":y-1?"start":"end"}));T+=d;t-=v}if(Math.round(t+v-(p-k))){x!="-"&&x!=" "&&(C=C.concat(["M",o-(x=="+"||x=="|"?I:!(y-1)*I*2),p-k+0.5,"l",I*2+1,0]));m.push(this.text(o+E,p-k,u&&u[h]||(Math.round(T)==T?T:+T.toFixed(s))).attr(this.g.txtattr).attr({"text-anchor":y-
1?"start":"end"}))}}else{T=E;s=(B>0)*B;E=(y?-1:1)*(I+9+!y);B=o;var v=k/t,w=0;for(t=0;B<=o+k;){x!="-"&&x!=" "&&(C=C.concat(["M",B+0.5,p-(x=="+"?I:!!y*I*2),"l",0,I*2+1]));m.push(w=this.text(B,p+E,u&&u[h++]||(Math.round(T)==T?T:+T.toFixed(s))).attr(this.g.txtattr));w=w.getBBox();if(t>=w.x-5)m.pop(m.length-1).remove();else t=w.x+w.width;T+=d;B+=v}if(Math.round(B-v-o-k)){x!="-"&&x!=" "&&(C=C.concat(["M",o+k+0.5,p-(x=="+"?I:!!y*I*2),"l",0,I*2+1]));m.push(this.text(o+k,p+E,u&&u[h]||(Math.round(T)==T?T:+T.toFixed(s))).attr(this.g.txtattr))}}o=
this.path(C);o.text=m;o.all=this.set([o,m]);o.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return o};Raphael.el.lighter=function(o){o=o||2;var p=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[p[0],p[1]];p[0]=Raphael.rgb2hsb(Raphael.getRGB(p[0]).hex);p[1]=Raphael.rgb2hsb(Raphael.getRGB(p[1]).hex);p[0].b=P(p[0].b*o,1);p[0].s/=o;p[1].b=P(p[1].b*o,1);p[1].s/=o;this.attr({fill:"hsb("+[p[0].h,p[0].s,p[0].b]+")",stroke:"hsb("+[p[1].h,p[1].s,p[1].b]+")"})};Raphael.el.darker=
function(o){o=o||2;var p=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[p[0],p[1]];p[0]=Raphael.rgb2hsb(Raphael.getRGB(p[0]).hex);p[1]=Raphael.rgb2hsb(Raphael.getRGB(p[1]).hex);p[0].s=P(p[0].s*o,1);p[0].b/=o;p[1].s=P(p[1].s*o,1);p[1].b/=o;this.attr({fill:"hsb("+[p[0].h,p[0].s,p[0].b]+")",stroke:"hsb("+[p[1].h,p[1].s,p[1].b]+")"})};Raphael.el.original=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}}})();
Raphael.fn.g.barchart=function(q,P,R,M,o,p){p=p||{};var k={round:"round",sharp:"sharp",soft:"soft"}[p.type]||"square",m=parseFloat(p.gutter||"20%"),h=this.set(),t=this.set(),y=this.set(),u=this.set(),x=Math.max.apply(Math,o),I=[],C=this,E=0,T=p.colors||this.g.colors,B=o.length;if(this.raphael.is(o[0],"array")){x=[];E=B;B=0;for(var s=o.length;s--;){t.push(this.set());x.push(Math.max.apply(Math,o[s]));B=Math.max(B,o[s].length)}if(p.stacked)for(s=B;s--;){for(var v=0,w=o.length;w--;)v+=+o[w][s]||0;I.push(v)}for(s=
o.length;s--;)if(o[s].length<B)for(w=B;w--;)o[s].push(0);x=Math.max.apply(Math,p.stacked?I:x)}x=p.to||x;R=R/(B*(100+m)+m)*100;m=R*m/100;var G=p.vgutter==null?20:p.vgutter;I=[];v=q+m;var N=(M-2*G)/x;if(!p.stretch){m=Math.round(m);R=Math.floor(R)}!p.stacked&&(R/=E||1);for(s=0;s<B;s++){I=[];for(w=0;w<(E||1);w++){var D=Math.round((E?o[w][s]:o[s])*N),O=P+M-G-D,L=this.g.finger(Math.round(v+R/2),O+D,R,D,true,k).attr({stroke:"none",fill:T[E?w:s]});E?t[w].push(L):t.push(L);L.y=O;L.x=Math.round(v+R/2);L.w=
R;L.h=D;L.value=E?o[w][s]:o[s];if(p.stacked)I.push(L);else v+=R}if(p.stacked){u.push(w=this.rect(I[0].x-I[0].w/2,P,R,M).attr(this.g.shim));w.bars=this.set();O=0;for(var V=I.length;V--;)I[V].toFront();V=0;for(var Y=I.length;V<Y;V++){L=I[V];D=(O+L.value)*N;var fa=this.g.finger(L.x,P+M-G-!!O*0.5,R,D,true,k,1);w.bars.push(L);O&&L.attr({path:fa});L.h=D;L.y=P+M-G-!!O*0.5-D;y.push(D=this.rect(L.x-L.w/2,L.y,R,L.value*N).attr(this.g.shim));D.bar=L;D.value=L.value;O+=L.value}v+=R}v+=m}u.toFront();v=q+m;if(!p.stacked)for(s=
0;s<B;s++){for(w=0;w<(E||1);w++){y.push(D=this.rect(Math.round(v),P+G,R,M-G).attr(this.g.shim));D.bar=E?t[w][s]:t[s];D.value=D.bar.value;v+=R}v+=m}h.label=function(S,ba){S=S||[];this.labels=C.set();var Q,W=-Infinity;if(p.stacked)for(var ha=0;ha<B;ha++)for(var qa=0,X=0;X<(E||1);X++){qa+=E?o[X][ha]:o[ha];if(X==E-1){Q=C.g.labelise(S[ha],qa,x);Q=C.g.text(t[ha*(E||1)+X].x,P+M-G/2,Q).insertBefore(y[ha*(E||1)+X]);var ga=Q.getBBox();if(ga.x-7<W)Q.remove();else{this.labels.push(Q);W=ga.x+ga.width}}}else for(ha=
0;ha<B;ha++)for(X=0;X<(E||1);X++){Q=C.g.labelise(E?S[X]&&S[X][ha]:S[ha],E?o[X][ha]:o[ha],x);Q=C.g.text(t[ha*(E||1)+X].x,ba?P+M-G/2:t[ha*(E||1)+X].y-10,Q).insertBefore(y[ha*(E||1)+X]);ga=Q.getBBox();if(ga.x-7<W)Q.remove();else{this.labels.push(Q);W=ga.x+ga.width}}return this};h.hover=function(S,ba){u.hide();y.show();y.mouseover(S).mouseout(ba);return this};h.hoverColumn=function(S,ba){y.hide();u.show();u.mouseover(S).mouseout(ba||function(){});return this};h.click=function(S){u.hide();y.show();y.click(S);
return this};h.each=function(S){if(!Raphael.is(S,"function"))return this;for(var ba=y.length;ba--;)S.call(y[ba]);return this};h.eachColumn=function(S){if(!Raphael.is(S,"function"))return this;for(var ba=u.length;ba--;)S.call(u[ba]);return this};h.clickColumn=function(S){y.hide();u.show();u.click(S);return this};h.push(t,y,u);h.bars=t;h.covers=y;return h};
Raphael.fn.g.hbarchart=function(q,P,R,M,o,p){p=p||{};var k={round:"round",sharp:"sharp",soft:"soft"}[p.type]||"square",m=parseFloat(p.gutter||"20%"),h=this.set(),t=this.set(),y=this.set(),u=this.set(),x=Math.max.apply(Math,o),I=[],C=this,E=0,T=p.colors||this.g.colors,B=o.length;if(this.raphael.is(o[0],"array")){x=[];E=B;B=0;for(var s=o.length;s--;){t.push(this.set());x.push(Math.max.apply(Math,o[s]));B=Math.max(B,o[s].length)}if(p.stacked)for(s=B;s--;){for(var v=0,w=o.length;w--;)v+=+o[w][s]||0;I.push(v)}for(s=
o.length;s--;)if(o[s].length<B)for(w=B;w--;)o[s].push(0);x=Math.max.apply(Math,p.stacked?I:x)}x=p.to||x;var G=Math.floor(M/(B*(100+m)+m)*100);M=Math.floor(G*m/100);m=[];I=P+M;v=(R-1)/x;!p.stacked&&(G/=E||1);for(s=0;s<B;s++){m=[];for(w=0;w<(E||1);w++){var N=E?o[w][s]:o[s],D=this.g.finger(q,I+G/2,Math.round(N*v),G-1,false,k).attr({stroke:"none",fill:T[E?w:s]});E?t[w].push(D):t.push(D);D.x=q+Math.round(N*v);D.y=I+G/2;D.w=Math.round(N*v);D.h=G;D.value=+N;if(p.stacked)m.push(D);else I+=G}if(p.stacked){w=
this.rect(q,m[0].y-m[0].h/2,R,G).attr(this.g.shim);u.push(w);w.bars=this.set();for(var O=0,L=m.length;L--;)m[L].toFront();L=0;for(var V=m.length;L<V;L++){D=m[L];N=Math.round((O+D.value)*v);var Y=this.g.finger(q,D.y,N,G-1,false,k,1);w.bars.push(D);O&&D.attr({path:Y});D.w=N;D.x=q+N;y.push(N=this.rect(q+O*v,D.y-D.h/2,D.value*v,G).attr(this.g.shim));N.bar=D;O+=D.value}I+=G}I+=M}u.toFront();I=P+M;if(!p.stacked)for(s=0;s<B;s++){for(w=0;w<(E||1);w++){N=this.rect(q,I,R,G).attr(this.g.shim);y.push(N);N.bar=
E?t[w][s]:t[s];N.value=N.bar.value;I+=G}I+=M}h.label=function(fa,S){fa=fa||[];this.labels=C.set();for(var ba=0;ba<B;ba++)for(var Q=0;Q<E;Q++){var W=C.g.labelise(E?fa[Q]&&fa[Q][ba]:fa[ba],E?o[Q][ba]:o[ba],x),ha=S?"end":"start";this.labels.push(W=C.g.text(S?t[ba*(E||1)+Q].x-G/2+3:q+5,t[ba*(E||1)+Q].y,W).attr({"text-anchor":ha}).insertBefore(y[0]));if(W.getBBox().x<q+5)W.attr({x:q+5,"text-anchor":"start"});else t[ba*(E||1)+Q].label=W}return this};h.hover=function(fa,S){u.hide();y.show();y.mouseover(fa).mouseout(S||
function(){});return this};h.hoverColumn=function(fa,S){y.hide();u.show();u.mouseover(fa).mouseout(S||function(){});return this};h.each=function(fa){if(!Raphael.is(fa,"function"))return this;for(var S=y.length;S--;)fa.call(y[S]);return this};h.eachColumn=function(fa){if(!Raphael.is(fa,"function"))return this;for(var S=u.length;S--;)fa.call(u[S]);return this};h.click=function(fa){u.hide();y.show();y.click(fa);return this};h.clickColumn=function(fa){y.hide();u.show();u.click(fa);return this};h.push(t,
y,u);h.bars=t;h.covers=y;return h};
Raphael.fn.g.dotchart=function(q,P,R,M,o,p,k,m){function h(ba){+ba[0]&&(ba[0]=G.g.axis(q+x,P+x,R-2*x,y,u,m.axisxstep||Math.floor((R-2*x)/20),2,m.axisxlabels||null,m.axisxtype||"t"));+ba[1]&&(ba[1]=G.g.axis(q+R-x,P+M-x,M-2*x,I,C,m.axisystep||Math.floor((M-2*x)/20),3,m.axisylabels||null,m.axisytype||"t"));+ba[2]&&(ba[2]=G.g.axis(q+x,P+M-x+D,R-2*x,y,u,m.axisxstep||Math.floor((R-2*x)/20),0,m.axisxlabels||null,m.axisxtype||"t"));+ba[3]&&(ba[3]=G.g.axis(q+x-D,P+M-x,M-2*x,I,C,m.axisystep||Math.floor((M-
2*x)/20),1,m.axisylabels||null,m.axisytype||"t"))}m=m||{};var t=this.g.snapEnds(Math.min.apply(Math,o),Math.max.apply(Math,o),o.length-1),y=t.from,u=t.to,x=m.gutter||10;t=this.g.snapEnds(Math.min.apply(Math,p),Math.max.apply(Math,p),p.length-1);var I=t.from,C=t.to,E=Math.max(o.length,p.length,k.length);t=this.g.markers[m.symbol]||"disc";var T=this.set(),B=this.set(),s=m.max||100,v=Math.max.apply(Math,k),w=[],G=this,N=Math.sqrt(v/Math.PI)*2/s;for(v=0;v<E;v++)w[v]=Math.min(Math.sqrt(k[v]/Math.PI)*2/
N,s);x=Math.max.apply(Math,w.concat(x));E=this.set();var D=Math.max.apply(Math,w);if(m.axis){var O=(m.axis+"").split(/[,\s]+/);h(O);var L=[],V=[];v=0;for(N=O.length;v<N;v++){var Y=O[v].all?O[v].all.getBBox()[["height","width"][v%2]]:0;L[v]=Y+x;V[v]=Y}x=Math.max.apply(Math,L.concat(x));v=0;for(N=O.length;v<N;v++)if(O[v].all){O[v].remove();O[v]=1}h(O);v=0;for(N=O.length;v<N;v++)O[v].all&&E.push(O[v].all);T.axis=E}O=(R-x*2)/(u-y||1);L=(M-x*2)/(C-I||1);v=0;for(N=p.length;v<N;v++){V=this.raphael.is(t,
"array")?t[v]:t;Y=q+x+(o[v]-y)*O;var fa=P+M-x-(p[v]-I)*L;V&&w[v]&&B.push(this.g[V](Y,fa,w[v]).attr({fill:m.heat?this.g.colorValue(w[v],D):Raphael.fn.g.colors[0],"fill-opacity":m.opacity?w[v]/s:1,stroke:"none"}))}var S=this.set();v=0;for(N=p.length;v<N;v++){Y=q+x+(o[v]-y)*O;fa=P+M-x-(p[v]-I)*L;S.push(this.circle(Y,fa,D).attr(this.g.shim));m.href&&m.href[v]&&S[v].attr({href:m.href[v]});S[v].r=+w[v].toFixed(3);S[v].x=+Y.toFixed(3);S[v].y=+fa.toFixed(3);S[v].X=o[v];S[v].Y=p[v];S[v].value=k[v]||0;S[v].dot=
B[v]}T.covers=S;T.series=B;T.push(B,E,S);T.hover=function(ba,Q){S.mouseover(ba).mouseout(Q);return this};T.click=function(ba){S.click(ba);return this};T.each=function(ba){if(!Raphael.is(ba,"function"))return this;for(var Q=S.length;Q--;)ba.call(S[Q]);return this};T.href=function(ba){for(var Q,W=S.length;W--;){Q=S[W];Q.X==ba.x&&Q.Y==ba.y&&Q.value==ba.value&&Q.attr({href:ba.href})}};return T};
Raphael.fn.g.linechart=function(q,P,R,M,o,p,k){function m(X,ga){for(var aa=X.length/ga,da=0,ka=aa,ja=0,sa=[];da<X.length;){ka--;if(ka<0){ja+=X[da]*(1+ka);sa.push(ja/aa);ja=X[da++]*-ka;ka+=aa}else ja+=X[da++]}return sa}function h(X){for(var ga=[],aa=0,da=o.length;aa<da;aa++)ga=ga.concat(o[aa]);ga.sort();var ka=[],ja=[];aa=0;for(da=ga.length;aa<da;aa++)ga[aa]!=ga[aa-1]&&ka.push(ga[aa])&&ja.push(q+C+(ga[aa]-x)*E);ga=ka;da=ga.length;var sa=X||w.set();for(aa=0;aa<da;aa++){ka=ja[aa]-(ja[aa]-(ja[aa-1]||
q))/2;var la=((ja[aa+1]||q+R)-ja[aa])/2+(ja[aa]-(ja[aa-1]||q))/2,oa;X?(oa={}):sa.push(oa=w.rect(ka-1,P,Math.max(la+1,1),M).attr({stroke:"none",fill:"#000",opacity:0}));oa.values=[];oa.symbols=w.set();oa.y=[];oa.x=ja[aa];oa.axis=ga[aa];la=0;for(var va=p.length;la<va;la++){ka=o[la]||o[0];for(var ta=0,wa=ka.length;ta<wa;ta++)if(ka[ta]==ga[aa]){oa.values.push(p[la][ta]);oa.y.push(P+M-C-(p[la][ta]-T)*s);oa.symbols.push(D.symbols[la][ta])}}X&&X.call(oa)}!X&&(G=sa)}function t(X){for(var ga=X||w.set(),aa,
da=0,ka=p.length;da<ka;da++)for(var ja=0,sa=p[da].length;ja<sa;ja++){var la=q+C+((o[da]||o[0])[ja]-x)*E,oa=q+C+((o[da]||o[0])[ja?ja-1:1]-x)*E,va=P+M-C-(p[da][ja]-T)*s;X?(aa={}):ga.push(aa=w.circle(la,va,Math.abs(oa-la)/2).attr({stroke:"none",fill:"#000",opacity:0}));aa.x=la;aa.y=va;aa.value=p[da][ja];aa.line=D.lines[da];aa.shade=D.shades[da];aa.symbol=D.symbols[da][ja];aa.symbols=D.symbols[da];aa.axis=(o[da]||o[0])[ja];X&&X.call(aa)}!X&&(N=ga)}k=k||{};this.raphael.is(o[0],"array")||(o=[o]);this.raphael.is(p[0],
"array")||(p=[p]);var y=Array.prototype.concat.apply([],o),u=Array.prototype.concat.apply([],p);y=this.g.snapEnds(Math.min.apply(Math,y),Math.max.apply(Math,y),o[0].length-1);var x=y.from,I=y.to,C=k.gutter||10,E=(R-C*2)/(I-x);u=this.g.snapEnds(Math.min.apply(Math,u),Math.max.apply(Math,u),p[0].length-1);var T=u.from,B=u.to,s=(M-C*2)/(B-T),v=Math.max(o[0].length,p[0].length);u=k.symbol||"";y=k.colors||Raphael.fn.g.colors;for(var w=this,G=null,N=null,D=this.set(),O=[],L=0,V=p.length;L<V;L++)v=Math.max(v,
p[L].length);var Y=this.set();L=0;for(V=p.length;L<V;L++){if(k.shade)Y.push(this.path().attr({stroke:"none",fill:y[L],opacity:k.nostroke?1:0.3}));if(p[L].length>R-2*C){p[L]=m(p[L],R-2*C);v=R-2*C}if(o[L]&&o[L].length>R-2*C)o[L]=m(o[L],R-2*C)}v=this.set();if(k.axis){O=(k.axis+"").split(/[,\s]+/);+O[0]&&v.push(this.g.axis(q+C,P+C,R-2*C,x,I,k.axisxstep||Math.floor((R-2*C)/20),2));+O[1]&&v.push(this.g.axis(q+R-C,P+M-C,M-2*C,T,B,k.axisystep||Math.floor((M-2*C)/20),3));+O[2]&&v.push(this.g.axis(q+C,P+M-
C,R-2*C,x,I,k.axisxstep||Math.floor((R-2*C)/20),0));+O[3]&&v.push(this.g.axis(q+C,P+M-C,M-2*C,T,B,k.axisystep||Math.floor((M-2*C)/20),1))}I=this.set();B=this.set();var fa;L=0;for(V=p.length;L<V;L++){k.nostroke||I.push(fa=this.path().attr({stroke:y[L],"stroke-width":k.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":k.dash||""}));var S=this.raphael.is(u,"array")?u[L]:u,ba=this.set();O=[];for(var Q=0,W=p[L].length;Q<W;Q++){var ha=q+C+((o[L]||o[0])[Q]-x)*E,qa=P+M-C-(p[L][Q]-
T)*s;(Raphael.is(S,"array")?S[Q]:S)&&ba.push(this.g[Raphael.fn.g.markers[this.raphael.is(S,"array")?S[Q]:S]](ha,qa,(k.width||2)*3).attr({fill:y[L],stroke:"none"}));O=O.concat([Q?"L":"M",ha,qa])}B.push(ba);if(k.shade)Y[L].attr({path:O.concat(["L",ha,P+M-C,"L",q+C+((o[L]||o[0])[0]-x)*E,P+M-C,"z"]).join(",")});!k.nostroke&&fa.attr({path:O.join(",")})}D.push(I,Y,B,v,G,N);D.lines=I;D.shades=Y;D.symbols=B;D.axis=v;D.hoverColumn=function(X,ga){!G&&h();G.mouseover(X).mouseout(ga);return this};D.clickColumn=
function(X){!G&&h();G.click(X);return this};D.hrefColumn=function(X){var ga=w.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-1)&&typeof X=="object")for(var aa in X)for(var da=0,ka=G.length;da<ka;da++)G[da].axis==aa&&G[da].attr("href",X[aa]);!G&&h();da=0;for(ka=ga.length;da<ka;da++)G[da]&&G[da].attr("href",ga[da]);return this};D.hover=function(X,ga){!N&&t();N.mouseover(X).mouseout(ga);return this};D.click=function(X){!N&&t();N.click(X);return this};D.each=function(X){t(X);
return this};D.eachColumn=function(X){h(X);return this};return D};
Raphael.fn.g.piechart=function(q,P,R,M,o){o=o||{};var p=this,k=[],m=this.set(),h=this.set(),t=this.set(),y=M.length,u=0,x=0,I=0,C=9,E=true;h.covers=m;if(y==1){t.push(this.circle(q,P,R).attr({fill:this.g.colors[0],stroke:o.stroke||"#fff","stroke-width":o.strokewidth==null?1:o.strokewidth}));m.push(this.circle(q,P,R).attr(this.g.shim));x=M[0];M[0]={value:M[0],order:0,valueOf:function(){return this.value}};t[0].middle={x:q,y:P};t[0].mangle=180}else{for(var T=function(v,w,G,N,D){var O=Math.PI/180,L=v+
G*Math.cos(-N*O),V=v+G*Math.cos(-D*O),Y=v+G/2*Math.cos(-(N+(D-N)/2)*O),fa=w+G*Math.sin(-N*O),S=w+G*Math.sin(-D*O);O=w+G/2*Math.sin(-(N+(D-N)/2)*O);v=["M",v,w,"L",L,fa,"A",G,G,0,+(Math.abs(D-N)>180),1,V,S,"z"];v.middle={x:Y,y:O};return v},B=0;B<y;B++){x+=M[B];M[B]={value:M[B],order:B,valueOf:function(){return this.value}}}M.sort(function(v,w){return w.value-v.value});for(B=0;B<y;B++){if(E&&M[B]*360/x<=1.5){C=B;E=false}if(B>C){E=false;M[C].value+=M[B];M[C].others=true;I=M[C].value}}y=Math.min(C+1,M.length);
I&&M.splice(y)&&(M[C].others=true);for(B=0;B<y;B++){I=u-360*M[B]/x/2;if(!B){u=90-I;I=u-360*M[B]/x/2}if(o.init)var s=T(q,P,1,u,u-360*M[B]/x).join(",");C=T(q,P,R,u,u-=360*M[B]/x);E=this.path(o.init?s:C).attr({fill:o.colors&&o.colors[B]||this.g.colors[B]||"#666",stroke:o.stroke||"#fff","stroke-width":o.strokewidth==null?1:o.strokewidth,"stroke-linejoin":"round"});E.value=M[B];E.middle=C.middle;E.mangle=I;k.push(E);t.push(E);o.init&&E.animate({path:C.join(",")},+o.init-1||1E3,">")}for(B=0;B<y;B++){E=
p.path(k[B].attr("path")).attr(this.g.shim);o.href&&o.href[B]&&E.attr({href:o.href[B]});E.attr=function(){};m.push(E);t.push(E)}}h.hover=function(v,w){w=w||function(){};for(var G=this,N=0;N<y;N++)(function(D,O,L){var V={sector:D,cover:O,cx:q,cy:P,mx:D.middle.x,my:D.middle.y,mangle:D.mangle,r:R,value:M[L],total:x,label:G.labels&&G.labels[L]};O.mouseover(function(){v.call(V)}).mouseout(function(){w.call(V)})})(t[N],m[N],N);return this};h.each=function(v){for(var w=this,G=0;G<y;G++)(function(N,D,O){v.call({sector:N,
cover:D,cx:q,cy:P,x:N.middle.x,y:N.middle.y,mangle:N.mangle,r:R,value:M[O],total:x,label:w.labels&&w.labels[O]})})(t[G],m[G],G);return this};h.click=function(v){for(var w=this,G=0;G<y;G++)(function(N,D,O){var L={sector:N,cover:D,cx:q,cy:P,mx:N.middle.x,my:N.middle.y,mangle:N.mangle,r:R,value:M[O],total:x,label:w.labels&&w.labels[O]};D.click(function(){v.call(L)})})(t[G],m[G],G);return this};h.inject=function(v){v.insertBefore(m[0])};o.legend&&function(v,w,G,N){var D=q+R+R/5,O=P+10;v=v||[];N=N&&N.toLowerCase&&
N.toLowerCase()||"east";G=p.g.markers[G&&G.toLowerCase()]||"disc";h.labels=p.set();for(var L=0;L<y;L++){var V=t[L].attr("fill"),Y=M[L].order;M[L].others&&(v[Y]=w||"Others");v[Y]=p.g.labelise(v[Y],M[L],x);h.labels.push(p.set());h.labels[L].push(p.g[G](D+5,O,5).attr({fill:V,stroke:"none"}));h.labels[L].push(V=p.text(D+20,O,v[Y]||M[Y]).attr(p.g.txtattr).attr({fill:o.legendcolor||"#000","text-anchor":"start"}));m[L].label=h.labels[L];O+=V.getBBox().height*1.2}v=h.labels.getBBox();h.labels.translate.apply(h.labels,
{east:[0,-v.height/2],west:[-v.width-2*R-20,-v.height/2],north:[-R-v.width/2,-R-v.height-10],south:[-R-v.width/2,R+10]}[N]);h.push(h.labels)}(o.legend,o.legendothers,o.legendmark,o.legendpos);h.push(t,m);h.series=t;h.covers=m;return h};
