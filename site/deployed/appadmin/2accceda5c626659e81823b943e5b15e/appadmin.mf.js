jQuery.cookie=function(a,f,h){if(typeof f!="undefined"){h=h||{};if(f===null){f="";h=$.extend({},h);h.expires=-1}var b="";if(h.expires&&(typeof h.expires=="number"||h.expires.toUTCString)){if(typeof h.expires=="number"){b=new Date;b.setTime(b.getTime()+h.expires*24*60*60*1E3)}else b=h.expires;b="; expires="+b.toUTCString()}var d=h.path?"; path="+h.path:"",c=h.domain?"; domain="+h.domain:"";h=h.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(f),b,d,c,h].join("")}else{f=null;if(document.cookie&&
document.cookie!=""){h=document.cookie.split(";");for(b=0;b<h.length;b++){d=jQuery.trim(h[b]);if(d.substring(0,a.length+1)==a+"="){f=decodeURIComponent(d.substring(a.length+1));break}}}return f}};
jQuery.fn.textPlaceholder=function(a){a=a||"#AAA";return this.each(function(){var f=this;if(!(f.placeholder&&"placeholder"in document.createElement(f.tagName))){var h=f.style.color,b=f.getAttribute("placeholder"),d=$(f);if(f.value===""||f.value==b){f.value=b;f.style.color=a;d.data("placeholder-visible",true)}d.focus(function(){this.style.color=h;if(d.data("placeholder-visible")){d.data("placeholder-visible",false);this.value=""}});d.blur(function(){if(this.value===""){d.data("placeholder-visible",
true);this.value=b;this.style.color=a}else{this.style.color=h;d.data("placeholder-visible",false)}});f.form&&$(f.form).submit(function(){if(d.data("placeholder-visible"))f.value=""})}})};
(function(a){a.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(f,h){this.defaults.type=f;this.defaults.name=h},get:function(f,h){var b=a.extend({},this.defaults,h);if(!b.single.length)b.single="metadata";var d=a.data(f,b.single);if(d)return d;d="{}";var c=function(i){if(typeof i!="string")return i;return i=eval("("+i+")")};if(b.type=="html5"){var e={};a(f.attributes).each(function(){var i=this.nodeName;if(i.match(/^data-/))i=i.replace(/^data-/,
"");else return true;e[i]=c(this.nodeValue)})}else{if(b.type=="class"){var g=b.cre.exec(f.className);if(g)d=g[1]}else if(b.type=="elem"){if(!f.getElementsByTagName)return;g=f.getElementsByTagName(b.name);if(g.length)d=a.trim(g[0].innerHTML)}else if(f.getAttribute!=undefined)if(g=f.getAttribute(b.name))d=g;e=c(d.indexOf("{")<0?"{"+d+"}":d)}a.data(f,b.single,e);return e}}});a.fn.metadata=function(f){return a.metadata.get(this[0],f)}})(jQuery);
(function(a,f){function h(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.4",plugin:{add:function(b,d,c){b=a.ui[b].prototype;for(var e in c){b.plugins[e]=b.plugins[e]||[];b.plugins[e].push([d,c[e]])}},call:function(b,d,c){if((d=b.plugins[d])&&b.element[0].parentNode)for(var e=0;e<d.length;e++)b.options[d[e][0]]&&d[e][1].apply(b.element,c)}},contains:function(b,
d){return document.compareDocumentPosition?b.compareDocumentPosition(d)&16:b!==d&&b.contains(d)},hasScroll:function(b,d){if(a(b).css("overflow")==="hidden")return false;var c=d&&d==="left"?"scrollLeft":"scrollTop",e=false;if(b[c]>0)return true;b[c]=1;e=b[c]>0;b[c]=0;return e},isOverAxis:function(b,d,c){return b>d&&b<d+c},isOver:function(b,d,c,e,g,i){return a.ui.isOverAxis(b,c,g)&&a.ui.isOverAxis(d,e,i)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(b,d){return typeof b==="number"?this.each(function(){var c=this;setTimeout(function(){a(c).focus();d&&d.call(c)},b)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==f)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(b.css("zIndex"));if(!isNaN(d)&&d!=0)return d}b=b.parent()}}return 0}});a.each(["Width","Height"],function(b,d){function c(j,k,l,m){a.each(e,function(){k-=
parseFloat(a.curCSS(j,"padding"+this,true))||0;if(l)k-=parseFloat(a.curCSS(j,"border"+this+"Width",true))||0;if(m)k-=parseFloat(a.curCSS(j,"margin"+this,true))||0});return k}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),i={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(j){if(j===f)return i["inner"+d].call(this);return this.each(function(){a.style(this,g,c(this,j)+"px")})};a.fn["outer"+
d]=function(j,k){if(typeof j!=="number")return i["outer"+d].call(this,j);return this.each(function(){a.style(this,g,c(this,j,true,k)+"px")})}});a.extend(a.expr[":"],{data:function(b,d,c){return!!a.data(b,c[3])},focusable:function(b){var d=b.nodeName.toLowerCase(),c=a.attr(b,"tabindex");if("area"===d){d=b.parentNode;c=d.name;if(!b.href||!c||d.nodeName.toLowerCase()!=="map")return false;b=a("img[usemap=#"+c+"]")[0];return!!b&&h(b)}return(/input|select|textarea|button|object/.test(d)?!b.disabled:"a"==
d?b.href||!isNaN(c):!isNaN(c))&&h(b)},tabbable:function(b){var d=a.attr(b,"tabindex");return(isNaN(d)||d>=0)&&a(b).is(":focusable")}})}})(jQuery);
(function(a,f){var h=a.fn.remove;a.fn.remove=function(b,d){return this.each(function(){if(!d)if(!b||a.filter(b,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return h.call(a(this),b,d)})};a.widget=function(b,d,c){var e=b.split(".")[0],g;b=b.split(".")[1];g=e+"-"+b;if(!c){c=d;d=a.Widget}a.expr[":"][g]=function(i){return!!a.data(i,b)};a[e]=a[e]||{};a[e][b]=function(i,j){arguments.length&&this._createWidget(i,j)};d=new d;d.options=a.extend(true,{},d.options);
a[e][b].prototype=a.extend(true,d,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},c);a.widget.bridge(b,a[e][b])};a.widget.bridge=function(b,d){a.fn[b]=function(c){var e=typeof c==="string",g=Array.prototype.slice.call(arguments,1),i=this;c=!e&&g.length?a.extend.apply(null,[true,c].concat(g)):c;if(e&&c.substring(0,1)==="_")return i;e?this.each(function(){var j=a.data(this,b),k=j&&a.isFunction(j[c])?j[c].apply(j,g):j;if(k!==j&&k!==f){i=k;return false}}):
this.each(function(){var j=a.data(this,b);if(j){c&&j.option(c);j._init()}else a.data(this,b,new d(c,this))});return i}};a.Widget=function(b,d){arguments.length&&this._createWidget(b,d)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],b);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var c=b,e=this;if(arguments.length===0)return a.extend({},e.options);if(typeof b==="string"){if(d===f)return this.options[b];c={};c[b]=d}a.each(c,function(g,
i){e._setOption(g,i)});return e},_setOption:function(b,d){this.options[b]=d;if(b==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,d,c){var e=this.options[b];d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c=c||{};if(d.originalEvent){b=
a.event.props.length;for(var g;b;){g=a.event.props[--b];d[g]=d.originalEvent[g]}}this.element.trigger(d,c);return!(a.isFunction(e)&&e.call(this.element[0],d,c)===false||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(h){return f._mouseDown(h)}).bind("click."+this.widgetName,function(h){if(f._preventClickEvent){f._preventClickEvent=false;h.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(f){f.originalEvent=f.originalEvent||{};if(!f.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(f);this._mouseDownEvent=f;var h=this,b=f.which==1,d=typeof this.options.cancel=="string"?a(f.target).parents().add(f.target).filter(this.options.cancel).length:false;if(!b||d||!this._mouseCapture(f))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=this._mouseStart(f)!==false;if(!this._mouseStarted){f.preventDefault();
return true}}this._mouseMoveDelegate=function(c){return h._mouseMove(c)};this._mouseUpDelegate=function(c){return h._mouseUp(c)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||f.preventDefault();return f.originalEvent.mouseHandled=true}},_mouseMove:function(f){if(a.browser.msie&&!f.button)return this._mouseUp(f);if(this._mouseStarted){this._mouseDrag(f);return f.preventDefault()}if(this._mouseDistanceMet(f)&&
this._mouseDelayMet(f))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,f)!==false)?this._mouseDrag(f):this._mouseUp(f);return!this._mouseStarted},_mouseUp:function(f){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=f.target==this._mouseDownEvent.target;this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return Math.max(Math.abs(this._mouseDownEvent.pageX-
f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var f=/left|center|right/,h=/top|center|bottom/,b=a.fn.position,d=a.fn.offset;a.fn.position=function(c){if(!c||!c.of)return b.apply(this,arguments);c=a.extend({},c);var e=a(c.of),g=(c.collision||"flip").split(" "),i=c.offset?c.offset.split(" "):[0,0],j,k,l;if(c.of.nodeType===9){j=e.width();k=e.height();l={top:0,left:0}}else if(c.of.scrollTo&&c.of.document){j=e.width();k=e.height();l={top:e.scrollTop(),left:e.scrollLeft()}}else if(c.of.preventDefault){c.at="left top";j=k=
0;l={top:c.of.pageY,left:c.of.pageX}}else{j=e.outerWidth();k=e.outerHeight();l=e.offset()}a.each(["my","at"],function(){var m=(c[this]||"").split(" ");if(m.length===1)m=f.test(m[0])?m.concat(["center"]):h.test(m[0])?["center"].concat(m):["center","center"];m[0]=f.test(m[0])?m[0]:"center";m[1]=h.test(m[1])?m[1]:"center";c[this]=m});if(g.length===1)g[1]=g[0];i[0]=parseInt(i[0],10)||0;if(i.length===1)i[1]=i[0];i[1]=parseInt(i[1],10)||0;if(c.at[0]==="right")l.left+=j;else if(c.at[0]==="center")l.left+=
j/2;if(c.at[1]==="bottom")l.top+=k;else if(c.at[1]==="center")l.top+=k/2;l.left+=i[0];l.top+=i[1];return this.each(function(){var m=a(this),o=m.outerWidth(),p=m.outerHeight(),n=a.extend({},l);if(c.my[0]==="right")n.left-=o;else if(c.my[0]==="center")n.left-=o/2;if(c.my[1]==="bottom")n.top-=p;else if(c.my[1]==="center")n.top-=p/2;n.left=parseInt(n.left);n.top=parseInt(n.top);a.each(["left","top"],function(q,r){a.ui.position[g[q]]&&a.ui.position[g[q]][r](n,{targetWidth:j,targetHeight:k,elemWidth:o,
elemHeight:p,offset:i,my:c.my,at:c.at})});a.fn.bgiframe&&m.bgiframe();m.offset(a.extend(n,{using:c.using}))})};a.ui.position={fit:{left:function(c,e){var g=a(window);g=c.left+e.elemWidth-g.width()-g.scrollLeft();c.left=g>0?c.left-g:Math.max(0,c.left)},top:function(c,e){var g=a(window);g=c.top+e.elemHeight-g.height()-g.scrollTop();c.top=g>0?c.top-g:Math.max(0,c.top)}},flip:{left:function(c,e){if(e.at[0]!=="center"){var g=a(window);g=c.left+e.elemWidth-g.width()-g.scrollLeft();var i=e.my[0]==="left"?
-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,j=-2*e.offset[0];c.left+=c.left<0?i+e.targetWidth+j:g>0?i-e.targetWidth+j:0}},top:function(c,e){if(e.at[1]!=="center"){var g=a(window);g=c.top+e.elemHeight-g.height()-g.scrollTop();var i=e.my[1]==="top"?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,j=e.at[1]==="top"?e.targetHeight:-e.targetHeight,k=-2*e.offset[1];c.top+=c.top<0?i+e.targetHeight+k:g>0?i+j+k:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(c,e){if(/static/.test(a.curCSS(c,"position")))c.style.position=
"relative";var g=a(c),i=g.offset(),j=parseInt(a.curCSS(c,"top",true),10)||0,k=parseInt(a.curCSS(c,"left",true),10)||0;i={top:e.top-i.top+j,left:e.left-i.left+k};"using"in e?e.using.call(c,i):g.css(i)};a.fn.offset=function(c){var e=this[0];if(!e||!e.ownerDocument)return null;if(c)return this.each(function(){a.offset.setOffset(this,c)});return d.call(this)}}})(jQuery);window.freebase=window.fb={};
(function(a){if(!window.console)window.console={log:a.noop,info:a.noop,debug:a.noop,warn:a.noop,error:a.noop}})(jQuery,window.freebase);(function(a,f){f.dispatch=function(h,b,d,c){if(typeof b!=="function")return false;h=a.event.fix(h||window.event);d||(d=[]);c||(c=this);return b.apply(c,[h].concat(d))}})(jQuery,window.freebase);
(function(a,f){var h={};f.get_script=function(b,d){var c=h[b];if(c)if(c.state===1)c.callbacks.push(d);else c.state===4&&d();else{c=h[b]={state:0,callbacks:[d]};a.ajax({url:b,dataType:"script",beforeSend:function(){c.state=1},success:function(){c.state=4;a.each(c.callbacks,function(e,g){g()})},error:function(){c.state=-1}})}}})(jQuery,window.freebase);
(function(a,f){a(window).bind("fb.user.signedin",function(g,i){console.log("fb.user.signnedin");f.user=i;var j=a("#nav-username a:first");if(j.length){j[0].href+=f.user.id;j.text(f.user.name)}a("#signedin").show()}).bind("fb.user.signedout",function(){console.log("fb.user.signedout");a("#signedout").show()});if(/^https?\:\/\/((www|devel)\.)?(freebase|sandbox\-freebase|branch\.qa\.metaweb|trunk\.qa\.metaweb)\.com(\:\d+)?/.test(acre.request.app_url)){var h=function(g,i){var j=g.indexOf("|"+i+"_");if(j!=
-1){j=j+2+i.length;var k=g.indexOf("|",j);if(k!=-1)return decodeURIComponent(g.substr(j,k-j))}return null},b=a.cookie("metaweb-user-info");if(b){var d=h(b,"g"),c=h(b,"u"),e=h(b,"p");e||(e="/user/"+this.name);setTimeout(function(){a(window).trigger("fb.user.signedin",{guid:d,name:c,id:e})},0)}else setTimeout(function(){a(window).trigger("fb.user.signedout")},0)}else a.ajax({url:"/acre/account/user_info",dataType:"json",success:function(g){g&&g.code==="/api/status/ok"?a(window).trigger("fb.user.signedin",
{id:g.id,guid:g.guid,name:g.username}):a(window).trigger("fb.user.signedout")},error:function(){a(window).trigger("fb.user.signedout")}})})(jQuery,window.freebase);
(function(a){a(function(){var f=a("#SearchBox .SearchBox-input,#global-search-input"),h=acre.freebase.site_host;f.suggest({service_url:h,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var b=a("#site-search-label"),d=a("#site-search-box .fbs-pane");f.bind("fb-select",function(c,e){window.location=h+"/view"+e.id;return false}).bind("fb-pane-show",function(){b.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",function(){a.trim(f.val())===
""?b.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):b.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){b.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){b.is(":visible")||a("#site-search-label").slideDown("fast")}).blur(function(){!d.is(":visible")&&b.is(":visible")&&a("#site-search-label").slideUp("fast")});a(".SearchBox-form").submit(function(){return a.trim(a("#global-search-input").val()).length==
0?false:true});a("input, textarea").textPlaceholder()})})(jQuery,window.freebase);(function(a,f){f.disable=function(h){a(h).attr("disabled","disabled").addClass("disabled")};f.enable=function(h){a(h).removeAttr("disabled").removeClass("disabled")}})(jQuery,window.freebase);var global_results={total_tests:0,total_failed:0,total_apps:0},html_id=function(a){return a.replace(/[\/\.]/g,"")};$(".summary").each(function(){load_app_summary($(this).attr("app_id"));global_results.total_apps++});
$("#release-all").click(function(){$(".release").each(function(){$(this).click()});return false});$("#test-all").click(function(){$(".test").each(function(){$(this).click()});return false});function load_app_summary(a){$("#summary-"+a).load($("#summary-"+a).attr("app_url"),[],function(){bind_app_buttons(a)})}
function bind_app_buttons(a){$("#release-"+a).click(function(){app_html_id=$(this).attr("app_html_id");$.ajax({url:$(this).attr("href"),data:{appid:$(this).attr("app_id"),version:$(this).attr("app_version")},type:"POST",dataType:"json",success:function(b){$("#message").html("App "+b.result.appid+" version "+b.result.release+" has been released.");load_app_summary(app_html_id)},beforeSend:function(b){b.setRequestHeader("X-Requested-With","XMLHttpRequest")}});return false});var f=function(b){var d=
html_id(b.app_path),c="<b>"+b.testfiles[0].file+"</b>",e="",g=0,i=0,j="test-passed";for(var k in b.testfiles[0].modules[0].tests){g++;global_results.total_tests++;var l=b.testfiles[0].modules[0].tests[k];e+="<br/><span class='"+(l.failures?"test-failed":"test-passed")+"'>"+l.name+": "+parseInt(parseInt(l.total)-parseInt(l.failures))+"/"+l.total;if(l.failures){j="test-failed";i++;global_results.total_failed++;for(var m in l.log){var o=l.log[m];if(o.result!=true)e+="<br/><i>"+o.message+"</i>"}}e+="</span>"}c+=
"<br/>"+parseInt(g-i)+"/"+g+" passed";$("#messages-"+d).append("<table style='margin-top: 10px;'><tr><td width='60px' class='"+j+"'>"+c+"</td><td width='130px'>"+e+"</td></tr></table>");$("#message").html("Total Tests: "+global_results.total_tests+" Failed: "+global_results.total_failed)},h=function(b){if(b.testfiles.length==0){b=html_id(b.app_path);$("#messages-"+b).append("(no tests)")}else for(var d in b.testfiles){testfile=b.testfiles[d];$.ajax({url:testfile.run_url,data:{output:"json"},type:"GET",
dataType:"jsonp",success:f})}};$("#test-"+a).bind("click",function(){$.ajax({url:$(this).attr("href"),data:{output:"json",mode:"discover"},type:"GET",dataType:"jsonp",success:h});return false})};
