jQuery.cookie=function(a,c,b){if(typeof c!="undefined"){b=b||{};if(c===null){c="";b=$.extend({},b);b.expires=-1}var d="";if(b.expires&&(typeof b.expires=="number"||b.expires.toUTCString)){if(typeof b.expires=="number"){d=new Date;d.setTime(d.getTime()+b.expires*24*60*60*1E3)}else d=b.expires;d="; expires="+d.toUTCString()}var f=b.path?"; path="+b.path:"",e=b.domain?"; domain="+b.domain:"";b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(c),d,f,e,b].join("")}else{c=null;if(document.cookie&&
document.cookie!=""){b=document.cookie.split(";");for(d=0;d<b.length;d++){f=jQuery.trim(b[d]);if(f.substring(0,a.length+1)==a+"="){c=decodeURIComponent(f.substring(a.length+1));break}}}return c}};
(function(a){a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.2",plugin:{add:function(c,b,d){c=a.ui[c].prototype;for(var f in d){c.plugins[f]=c.plugins[f]||[];c.plugins[f].push([b,d[f]])}},call:function(c,b,d){if((b=c.plugins[b])&&c.element[0].parentNode)for(var f=0;f<b.length;f++)c.options[b[f][0]]&&b[f][1].apply(c.element,d)}},contains:function(c,b){return document.compareDocumentPosition?c.compareDocumentPosition(b)&16:c!==b&&c.contains(b)},hasScroll:function(c,b){if(a(c).css("overflow")==
"hidden")return false;var d=b&&b=="left"?"scrollLeft":"scrollTop",f=false;if(c[d]>0)return true;c[d]=1;f=c[d]>0;c[d]=0;return f},isOverAxis:function(c,b,d){return c>b&&c<b+d},isOver:function(c,b,d,f,e,g){return a.ui.isOverAxis(c,d,e)&&a.ui.isOverAxis(b,f,g)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(c,b){return typeof c==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();b&&b.call(d)},c)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect",
"none")},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",
1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==undefined)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var b;c.length&&c[0]!==document;){b=c.css("position");if(b=="absolute"||b=="relative"||b=="fixed"){b=parseInt(c.css("zIndex"));if(!isNaN(b)&&b!=0)return b}c=c.parent()}}return 0}});a.extend(a.expr[":"],{data:function(c,b,d){return!!a.data(c,d[3])},focusable:function(c){var b=c.nodeName.toLowerCase(),d=a.attr(c,"tabindex");return(/input|select|textarea|button|object/.test(b)?
!c.disabled:"a"==b||"area"==b?c.href||!isNaN(d):!isNaN(d))&&!a(c)["area"==b?"parents":"closest"](":hidden").length},tabbable:function(c){var b=a.attr(c,"tabindex");return(isNaN(b)||b>=0)&&a(c).is(":focusable")}})}})(jQuery);
(function(a){var c=a.fn.remove;a.fn.remove=function(b,d){return this.each(function(){if(!d)if(!b||a.filter(b,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return c.call(a(this),b,d)})};a.widget=function(b,d,f){var e=b.split(".")[0],g;b=b.split(".")[1];g=e+"-"+b;if(!f){f=d;d=a.Widget}a.expr[":"][g]=function(h){return!!a.data(h,b)};a[e]=a[e]||{};a[e][b]=function(h,i){arguments.length&&this._createWidget(h,i)};d=new d;d.options=a.extend({},d.options);a[e][b].prototype=
a.extend(true,d,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},f);a.widget.bridge(b,a[e][b])};a.widget.bridge=function(b,d){a.fn[b]=function(f){var e=typeof f==="string",g=Array.prototype.slice.call(arguments,1),h=this;f=!e&&g.length?a.extend.apply(null,[true,f].concat(g)):f;if(e&&f.substring(0,1)==="_")return h;e?this.each(function(){var i=a.data(this,b),k=i&&a.isFunction(i[f])?i[f].apply(i,g):i;if(k!==i&&k!==undefined){h=k;return false}}):this.each(function(){var i=
a.data(this,b);if(i){f&&i.option(f);i._init()}else a.data(this,b,new d(f,this))});return h}};a.Widget=function(b,d){arguments.length&&this._createWidget(b,d)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,d){this.element=a(d).data(this.widgetName,this);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();
this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var f=b,e=this;if(arguments.length===0)return a.extend({},e.options);if(typeof b==="string"){if(d===undefined)return this.options[b];f={};f[b]=d}a.each(f,function(g,
h){e._setOption(g,h)});return e},_setOption:function(b,d){this.options[b]=d;if(b==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,d,f){var e=this.options[b];d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();f=f||{};if(d.originalEvent){b=
a.event.props.length;for(var g;b;){g=a.event.props[--b];d[g]=d.originalEvent[g]}}this.element.trigger(d,f);return!(a.isFunction(e)&&e.call(this.element[0],d,f)===false||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(c._preventClickEvent){c._preventClickEvent=false;b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){c.originalEvent=c.originalEvent||{};if(!c.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(c);this._mouseDownEvent=c;var b=this,d=c.which==1,f=typeof this.options.cancel=="string"?a(c.target).parents().add(c.target).filter(this.options.cancel).length:false;if(!d||f||!this._mouseCapture(c))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==false;if(!this._mouseStarted){c.preventDefault();
return true}}this._mouseMoveDelegate=function(e){return b._mouseMove(e)};this._mouseUpDelegate=function(e){return b._mouseUp(e)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||c.preventDefault();return c.originalEvent.mouseHandled=true}},_mouseMove:function(c){if(a.browser.msie&&!c.button)return this._mouseUp(c);if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}if(this._mouseDistanceMet(c)&&
this._mouseDelayMet(c))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==false)?this._mouseDrag(c):this._mouseUp(c);return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=c.target==this._mouseDownEvent.target;this._mouseStop(c)}return false},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-
c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var c=/left|center|right/,b=/top|center|bottom/,d=a.fn.position,f=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=a.extend({},e);var g=a(e.of),h=(e.collision||"flip").split(" "),i=e.offset?e.offset.split(" "):[0,0],k,l,n;if(e.of.nodeType===9){k=g.width();l=g.height();n={top:0,left:0}}else if(e.of.scrollTo&&e.of.document){k=g.width();l=g.height();n={top:g.scrollTop(),left:g.scrollLeft()}}else if(e.of.preventDefault){e.at="left top";k=l=
0;n={top:e.of.pageY,left:e.of.pageX}}else{k=g.outerWidth();l=g.outerHeight();n=g.offset()}a.each(["my","at"],function(){var j=(e[this]||"").split(" ");if(j.length===1)j=c.test(j[0])?j.concat(["center"]):b.test(j[0])?["center"].concat(j):["center","center"];j[0]=c.test(j[0])?j[0]:"center";j[1]=b.test(j[1])?j[1]:"center";e[this]=j});if(h.length===1)h[1]=h[0];i[0]=parseInt(i[0],10)||0;if(i.length===1)i[1]=i[0];i[1]=parseInt(i[1],10)||0;if(e.at[0]==="right")n.left+=k;else if(e.at[0]==="center")n.left+=
k/2;if(e.at[1]==="bottom")n.top+=l;else if(e.at[1]==="center")n.top+=l/2;n.left+=i[0];n.top+=i[1];return this.each(function(){var j=a(this),m=j.outerWidth(),p=j.outerHeight(),o=a.extend({},n);if(e.my[0]==="right")o.left-=m;else if(e.my[0]==="center")o.left-=m/2;if(e.my[1]==="bottom")o.top-=p;else if(e.my[1]==="center")o.top-=p/2;o.left=parseInt(o.left);o.top=parseInt(o.top);a.each(["left","top"],function(q,r){a.ui.position[h[q]]&&a.ui.position[h[q]][r](o,{targetWidth:k,targetHeight:l,elemWidth:m,
elemHeight:p,offset:i,my:e.my,at:e.at})});a.fn.bgiframe&&j.bgiframe();j.offset(a.extend(o,{using:e.using}))})};a.ui.position={fit:{left:function(e,g){var h=a(window);h=e.left+g.elemWidth-h.width()-h.scrollLeft();e.left=h>0?e.left-h:Math.max(0,e.left)},top:function(e,g){var h=a(window);h=e.top+g.elemHeight-h.height()-h.scrollTop();e.top=h>0?e.top-h:Math.max(0,e.top)}},flip:{left:function(e,g){if(g.at[0]!=="center"){var h=a(window);h=e.left+g.elemWidth-h.width()-h.scrollLeft();var i=g.my[0]==="left"?
-g.elemWidth:g.my[0]==="right"?g.elemWidth:0,k=-2*g.offset[0];e.left+=e.left<0?i+g.targetWidth+k:h>0?i-g.targetWidth+k:0}},top:function(e,g){if(g.at[1]!=="center"){var h=a(window);h=e.top+g.elemHeight-h.height()-h.scrollTop();var i=g.my[1]==="top"?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,k=g.at[1]==="top"?g.targetHeight:-g.targetHeight,l=-2*g.offset[1];e.top+=e.top<0?i+g.targetHeight+l:h>0?i+k+l:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(e,g){if(/static/.test(a.curCSS(e,"position")))e.style.position=
"relative";var h=a(e),i=h.offset(),k=parseInt(a.curCSS(e,"top",true),10)||0,l=parseInt(a.curCSS(e,"left",true),10)||0;i={top:g.top-i.top+k,left:g.left-i.left+l};"using"in g?g.using.call(e,i):h.css(i)};a.fn.offset=function(e){var g=this[0];if(!g||!g.ownerDocument)return null;if(e)return this.each(function(){a.offset.setOffset(this,e)});return f.call(this)}}})(jQuery);window.freebase=window.fb={};
(function(a,c){c.dispatch=function(b,d,f,e){if(typeof d!=="function")return false;b=a.event.fix(b||window.event);f||(f=[]);e||(e=this);return d.apply(e,[b].concat(f))}})(jQuery,window.freebase);
(function(a,c){function b(g,h){var i=g.indexOf("|"+h+"_");if(i!=-1){i=i+2+h.length;var k=g.indexOf("|",i);if(k!=-1)return decodeURIComponent(g.substr(i,k-i))}return null}var d=a.cookie("metaweb-user-info");if(d){var f=b(d,"g"),e=b(d,"u");(d=b(d,"p"))||(d="/user/"+this.name);c.user={guid:f,name:e,id:d}}if(c.user){f=a("#nav-username a:first");if(f.length){f[0].href+=c.user.id;f.text(c.user.name)}a("#signedin").show()}else a("#signedout").show()})(jQuery,window.freebase);
(function(a){a(function(){var c=a("#SearchBox .SearchBox-input,#global-search-input"),b=document.location.protocol+"//www.freebase.com";c.suggest({service_url:b,soft:true,category:"object",parent:"#site-search-box",align:"right",status:null});var d=a("#site-search-label"),f=a("#site-search-box .fbs-pane");c.bind("fb-select",function(e,g){window.location=b+"/view"+g.id;return false}).bind("fb-pane-show",function(){d.html("<span>Select an item from the list</span>").removeClass("loading")}).bind("fb-textchange",
function(){a.trim(c.val())===""?d.html("<span>Start typing to get some suggestions</span>").removeClass("loading"):d.html("<span>Searching...</span>").addClass("loading")}).bind("fb-error",function(){d.html("<span>Sorry, something went wrong. Please try again later</span>").removeClass("loading")}).focus(function(){d.is(":visible")||a("#site-search-label").slideDown("fast")}).blur(function(){!f.is(":visible")&&d.is(":visible")&&a("#site-search-label").slideUp("fast")});a(".SearchBox-form").submit(function(){return a.trim(a("#global-search-input").val()).length==
0?false:true})})})(jQuery,window.freebase);
(function(a,c){var b=c.toolbox={show:function(d){clearTimeout(d.data("popup-timeout"));var f=d.data("popup");if(f){f.show();d.removeClass("expand").addClass("collapse");a(".toolbox-textbox",f).focus()}else{f=a('<div class="popup popup-loading toolbox-popup" style="display:none;position:absolute;">');a(document.body).append(f);d.data("popup",f);f.hover(function(){b.show(d)},function(){b.hide(d)});a.ajax({url:d.attr("data-popup-url"),dataType:"jsonp",jsonpCallback:"window.freebase.toolbox.jsonp",data:{id:c.user.id,
context:"#"+d.attr("id")}});f.position({of:d,my:"left top",at:"left bottom"});f.show();d.removeClass("expand").addClass("collapse")}},jsonp:function(d){var f=a(d.result.context);if(f.length)if(f=f.data("popup")){f.html(d.result.html);f.removeClass("popup-loading");b.init_search(f);f.is(":visible")&&a(".toolbox-textbox",f).focus()}},hide:function(d){clearTimeout(d.data("popup-timeout"));d.data("popup-timeout",setTimeout(function(){b.hide_delay(d)},0))},hide_delay:function(d){var f=d.data("popup");
if(f){f.hide();d.removeClass("collapse").addClass("expand")}},init_search:function(d){a(".toolbox-search .toolbox-textbox",d).keydown(b.keydown)},keydown:function(){var d=a(this),f=d.data("keydown.timeout");clearTimeout(f);d.data("keydown.timeout",setTimeout(function(){b.keydown_delay(d)},200))},keydown_delay:function(d){var f=d.data("list");if(f==null){f=d.parents(".toolbox-search").siblings(".toolbox-content").find("li[data-name]");d.data("list",f)}var e=a.trim(d.val()).toLowerCase();e===""?f.show():
f.each(function(){var g=a(this),h=g.attr("data-name");if(h&&h.toLowerCase().indexOf(e)!==-1)g.show();else(h=g.attr("data-id"))&&h.toLowerCase().indexOf(e)!==-1?g.show():g.hide()})}};c.user&&a(".nav-global-menu").addClass("expand").hover(function(){b.show(a(this))},function(){b.hide(a(this))})})(jQuery,window.freebase);
(function(a){function c(f,e,g){var h=this,i=f.add(this),k=f.find(g.tabs),l=e.jquery?e:f.children(e),n;k.length||(k=f.children());l.length||(l=f.parent().find(e));l.length||(l=a(e));a.extend(this,{click:function(j,m){var p=k.eq(j);if(typeof j=="string"&&j.replace("#","")){p=k.filter("[href*="+j.replace("#","")+"]");j=Math.max(k.index(p),0)}if(g.rotate){var o=k.length-1;if(j<0)return h.click(o,m);if(j>o)return h.click(0,m)}if(!p.length){if(n>=0)return h;j=g.initialIndex;p=k.eq(j)}if(j===n)return h;
m=m||a.Event();m.type="onBeforeClick";i.trigger(m,[j]);if(!m.isDefaultPrevented()){b[g.effect].call(h,j,function(){m.type="onClick";i.trigger(m,[j])});n=j;k.removeClass(g.current);p.addClass(g.current);return h}},getConf:function(){return g},getTabs:function(){return k},getPanes:function(){return l},getCurrentPane:function(){return l.eq(n)},getCurrentTab:function(){return k.eq(n)},getIndex:function(){return n},next:function(){return h.click(n+1)},prev:function(){return h.click(n-1)},destroy:function(){k.unbind(g.event).removeClass(g.current);
l.find("a[href^=#]").unbind("click.T");return h}});a.each("onBeforeClick,onClick".split(","),function(j,m){a.isFunction(g[m])&&a(h).bind(m,g[m]);h[m]=function(p){a(h).bind(m,p);return h}});if(g.history&&a.fn.history){a.tools.history.init(k);g.event="history"}k.each(function(j){a(this).bind(g.event,function(m){h.click(j,m);return m.preventDefault()})});l.find("a[href^=#]").bind("click.T",function(j){h.click(a(this).attr("href"),j)});if(location.hash)h.click(location.hash);else if(g.initialIndex===
0||g.initialIndex>0)h.click(g.initialIndex)}a.tools=a.tools||{version:"1.2.3"};a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(f,e){b[f]=e}};var b={"default":function(f,e){this.getPanes().hide().eq(f).show();e.call()},fade:function(f,e){var g=this.getConf(),h=g.fadeOutSpeed,i=this.getPanes();h?i.fadeOut(h):i.hide();i.eq(f).fadeIn(g.fadeInSpeed,e)},slide:function(f,e){this.getPanes().slideUp(200);
this.getPanes().eq(f).slideDown(400,e)},ajax:function(f,e){this.getPanes().eq(0).load(this.getTabs().eq(f).attr("href"),e)}},d;a.tools.tabs.addEffect("horizontal",function(f,e){d||(d=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){a(this).hide()});this.getPanes().eq(f).animate({width:d},function(){a(this).show();e.call()})});a.fn.tabs=function(f,e){var g=this.data("tabs");if(g){g.destroy();this.removeData("tabs")}if(a.isFunction(e))e={onBeforeClick:e};e=a.extend({},
a.tools.tabs.conf,e);this.each(function(){g=new c(a(this),f,e);a(this).data("tabs",g)});return e.api?g:this}})(jQuery);(function(a){a.fn.equalizeCols=function(){var c=0;return this.css("height",a.browser.msie&&a.browser.version<7?"1%":"auto").each(function(){c=Math.max(c,this.offsetHeight)}).css("height",c).each(function(){var b=this.offsetHeight;b>c&&a(this).css("height",c-(b-c))})}})(jQuery);
(function(a,c){c.homepage={};a.tools.tabs.addEffect("load_pane",function(b,d){function f(){var k=i.position(),l=i.text();a("#pointer-text").fadeOut(function(){a("#pointer-text").html(l)});a("#pointer").fadeIn().animate({top:k.top+"px"},function(){a("#pointer-text").fadeIn()})}function e(){i.parent().removeClass("processing");g.fadeOut("fast");h.fadeIn(d);f()}var g=this.getPanes(),h=g.eq(b),i=this.getTabs().eq(b);if(h.is(":empty")||a.trim(h.text()).length==0){i.parent().addClass("processing");h.load(i.attr("href"),
e)}else e()});c.homepage.init=function(){a("#domain-explorer-tabs").tabs("#explorer-panes > div",{initialIndex:0,effect:"load_pane"})};setTimeout(c.homepage.init,0)})(jQuery,window.freebase);
